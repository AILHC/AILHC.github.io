{"meta":{"title":"æ™´","subtitle":"æ¸¸æˆ,å†™ä»£ç ,åšä¸ªå¥½æ¸¸æˆ~","description":"åˆ†äº«ä¸ªäººæ¸¸æˆç¼–ç¨‹çš„å¿ƒå¾—~","author":"Tide Li","url":"http://yoursite.com"},"pages":[{"title":"categories","date":"2019-01-20T13:28:56.000Z","updated":"2020-10-17T06:49:00.944Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"about","date":"2019-01-20T13:29:32.000Z","updated":"2020-10-17T06:49:00.943Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-01-20T13:24:44.000Z","updated":"2020-10-17T06:49:00.946Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""},{"title":"","date":"2020-10-17T06:49:00.945Z","updated":"2020-10-17T06:49:00.945Z","comments":true,"path":"categories/æƒ³æ³•æµæ°´/index.html","permalink":"http://yoursite.com/categories/æƒ³æ³•æµæ°´/index.html","excerpt":"","text":""},{"title":"","date":"2020-10-17T06:49:00.944Z","updated":"2020-10-17T06:49:00.944Z","comments":true,"path":"categories/å…³äºä½œè€…/index.html","permalink":"http://yoursite.com/categories/å…³äºä½œè€…/index.html","excerpt":"","text":""},{"title":"","date":"2020-10-17T06:49:00.945Z","updated":"2020-10-17T06:49:00.945Z","comments":true,"path":"categories/ç»éªŒä¹‹è°ˆ/index.html","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/index.html","excerpt":"","text":""},{"title":"","date":"2020-10-17T06:49:00.945Z","updated":"2020-10-17T06:49:00.945Z","comments":true,"path":"categories/èµ„æ–™æ”¶é›†/index.html","permalink":"http://yoursite.com/categories/èµ„æ–™æ”¶é›†/index.html","excerpt":"","text":""}],"posts":[{"title":"CocosCreator2.xå¤§é¡¹ç›®å¡é¡¿ç»ˆæè§£å†³æ–¹æ¡ˆ","slug":"CocosCreator2.xå¤§é¡¹ç›®å¡é¡¿ç»ˆæè§£å†³æ–¹æ¡ˆ","date":"2021-06-13T04:56:34.000Z","updated":"2021-06-13T14:03:07.650Z","comments":false,"path":"2021/06/13/CocosCreator2.xå¤§é¡¹ç›®å¡é¡¿ç»ˆæè§£å†³æ–¹æ¡ˆ/","link":"","permalink":"http://yoursite.com/2021/06/13/CocosCreator2.xå¤§é¡¹ç›®å¡é¡¿ç»ˆæè§£å†³æ–¹æ¡ˆ/","excerpt":"","text":"å‰è¨€è®ºå›ä¸Šæœ‰å¾ˆå¤šå¸–å­ã€å¾ˆå¤šäººè¯´Creatorå¤§é¡¹ç›®å¡é¡¿ï¼Œä¹Ÿåœ¨è‹¦è‹¦å¯»æ‰¾è§£å†³æ–¹æ¡ˆã€‚ è¿™å¯¹äºæ¯ä¸€ä¸ªæƒ³ç”¨Creatoråšä¸ªå¤§é¡¹ç›®æˆ–è€…æ­£åœ¨åšç€é¡¹ç›®çš„å°ä¼™ä¼´æ¥è¯´éƒ½æ˜¯å¾ˆéš¾å—çš„ã€‚ è¿™å¯èƒ½ä¼šè®©ä»–ä»¬å‰²èˆå¯¹Creatorçš„å–œçˆ±ï¼Œè€Œå¦ä½œé€‰æ‹©ã€‚ æˆ–è€…åœ¨ä¸Šäº†è½¦ä¹‹åï¼Œæ²¡æ³•å¡«è¿™ä¸ªå‘å¯¼è‡´é¡¹ç›®é»„äº†ï¼Œé‚£å°±æ›´åŠ éš¾è¿‡äº†ã€‚ æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘è¿‡å¹´æ—¶å°±èŒç”Ÿäº†ä¸€ä¸ªæƒ³æ³•ï¼šæˆ‘æƒ³æ‘¸ä¸€ä¸‹Creatorçš„ä¸Šé™ã€‚çœ‹çœ‹åˆ°åº•èƒ½ä¸èƒ½è§£å†³å¤§é¡¹ç›®å¡é¡¿çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯æ›¿å„ä½å°ä¼™ä¼´ä»¬æ¢æ¢è·¯ã€‚ å‰æ®µæ—¶é—´çš„æ¢ç´¢ï¼ŒæˆåŠŸäº†ã€‚ é‚£è®©æˆ‘çŸ¥é“Creatorå¼€å‘å¤§é¡¹ç›®æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ã€‚ å¯ä»¥è®©æˆ‘ä»¬ç”¨Creatorçˆ½ï¼Œä¸€ç›´ç”¨ä¸€ç›´çˆ½çš„ã€‚ æ–‡ç« : æˆ‘æƒ³æ‘¸ä¸€ä¸‹Creatorçš„ä¸Šé™ ä¸Šä¸ªæ˜ŸæœŸæœ‰ä¸ªæ·±é™·æ°´æ·±ç«çƒ­çš„å°ä¼™ä¼´æ‰¾åˆ°æˆ‘ï¼Œè®©æˆ‘å¸®å¸®å¿™ èƒ½å¤Ÿå¸®åˆ°ä»–ï¼Œéå¸¸å¼€å¿ƒã€‚ æœ€è¿‘é¡¹ç›®èµ¶ç‰ˆæœ¬ï¼Œæ¯”è¾ƒå¿™ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆå®Œå–„çš„è¿›åº¦æ…¢äº†äº›ã€‚ è™½è¿Ÿä½†åˆ°~ è§†é¢‘æ¼”ç¤º: https://www.bilibili.com/video/BV1hh411e7p5/ æ’ä»¶åœ°å€: https://store.cocos.com/app/resources/search?name=Aswallow æˆ‘ä»¬æ„Ÿåˆ°éš¾å—çš„æ˜¯ä»€ä¹ˆï¼Ÿå…ˆè¯´å¼€å‘è¿‡ç¨‹ä¸­è®©äººæ„Ÿè§‰å¾ˆèˆ’æœçš„ä¸€ç§æƒ…å†µ æˆ‘æ”¹äº†ä¸€è¡Œä»£ç ï¼Œç«‹åˆ»å°±èƒ½çœ‹åˆ°è¿è¡Œæƒ…å†µ è®©äººæ„Ÿè§‰éš¾å—çš„æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘æ”¹äº†ä¸€è¡Œä»£ç ï¼Œç­‰äº†å¥½ä¹…éƒ½æ²¡èƒ½è¿è¡Œèµ·æ¥ åé¦ˆçš„æ—¶é—´è¶ŠçŸ­ï¼Œè¶Šèˆ’æœ å…¶å®è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæœ‰è¶£çš„æ¦‚å¿µï¼Œå«å³æ—¶åé¦ˆ ï¼Œå®ƒæ˜¯è¿›å…¥å¿ƒæµçŠ¶æ€çš„æ¡ä»¶ä¹‹ä¸€ï¼ˆå°±æ˜¯é‚£ç§å¾ˆçˆ½å¾ˆæ²‰é†‰çš„çŠ¶æ€ï¼‰æœ‰å…´è¶£çš„å¯ä»¥æŸ¥ä¸€ä¸‹ã€‚ CocosCreatorè®©æˆ‘ä»¬åœ¨å¼€å‘æ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œèƒ½å¿«é€Ÿå¾—åˆ°åé¦ˆ ç¼–è¾‘åœºæ™¯ï¼Œä¿å­˜ä¸€ä¸‹å°±å¯ä»¥åˆ·æ–°çœ‹ç»“æœ æ”¹ä¸€ä¸‹ä»£ç ï¼Œç«‹åˆ»ç¼–è¯‘çœ‹ç»“æœ ä¿®æ”¹shaderç«‹åˆ»ä¹Ÿèƒ½çœ‹åˆ°æ•ˆæœ é‡åˆ°éš¾ç‚¹ã€bugç¿»ä¸€ä¸‹è®ºå›å°±èƒ½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ è¿™ä¸ªå°±å¾ˆèˆ’æœ ä½†é¡¹ç›®èµ„æºè¶Šå¤šï¼Œè¿™ä¸ªæ”¹äº†ä¸€è¡Œä»£ç ï¼Œå¡çš„æ—¶é—´å°±è¶Šé•¿ï¼Œè¶Šæ¥è¶Šéš¾å—ã€‚ è€Œé¡¹ç›®åæœŸå¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ˜¯åœ¨æ”¹ä»£ç ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œä¸€ç›´å¡ã€‚åƒåƒå±ä¸€æ ·ã€‚ å…¶å®ã€‚ã€‚ã€‚å…¶å®å¾ˆå¤šå¼•æ“åœ¨é¡¹ç›®èµ„æºå¤šçš„æ—¶å€™éƒ½ä¼šå‡ºç°å¡é¡¿ã€åé¦ˆæ—¶é—´é•¿ç­‰é—®é¢˜ï¼Œè¿™ä¸ªæ˜¯é€šç—…ã€‚ æœ‰é—®é¢˜å°±è§£å†³å˜›ã€‚æˆ‘ä»¬å…ˆæ‰¾æ‰¾åŸå›  å¦å¤–:CocosCreatorå·²ç»åšå¾—å¾ˆå¥½äº†ï¼Œä¸æ˜¯å—ï¼Ÿ å¡é¡¿çš„æ ¹æº:Creatorç¼–è¾‘å™¨çš„èµ„æºç®¡ç†æœºåˆ¶Creatorç¼–è¾‘å™¨ä¼šå¯¹æ‰€æœ‰èµ„æºè¿›è¡Œåˆ†æï¼Œè®°å½•å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ .metaæ–‡ä»¶å°±æ˜¯è®°å½•èµ„æºçš„ä¿¡æ¯å’Œä¾èµ–ä¿¡æ¯ èµ„æºçš„ä¿®æ”¹ã€å¢åŠ ã€åˆ é™¤ï¼Œéƒ½å¯èƒ½ä¼šå¯¼è‡´ä¾èµ–ä¿¡æ¯å˜åŒ–ã€‚ æ‰€ä»¥Creatorä¼šç›‘è§†æ‰€æœ‰assetsç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå½“æŸä¸ªèµ„æºå˜åŠ¨ï¼Œç¼–è¾‘å™¨éƒ½ä¼šéå†æ£€æŸ¥ä¸€ä¸‹å˜åŠ¨çš„å½±å“ã€‚ è¿™æ˜¯ä¸ºäº†ä¿è¯ä¾èµ–çš„å‡†ç¡®æ€§ï¼Œå¦‚æœä¾èµ–ç¼ºå¤±äº†å°±ä¼šç«‹åˆ»æç¤ºä½ ã€‚ å› æ­¤ï¼Œå½“èµ„æºé‡å¤šäº†ï¼Œè¿™ä¸ªå¤„ç†è€—æ—¶å°±ä¼šå˜å¾—è¶Šæ¥è¶Šé•¿ã€‚ è¿™ä¹Ÿæ˜¯ä»¥ä¸‹æƒ…å†µçš„ç¼˜ç”± ä¿å­˜ä¸€ä¸‹prefabï¼Œå¡é¡¿å¥½ä¹… ä¿å­˜ä¸€ä¸‹ä»£ç ï¼Œåˆ‡å›æ¥å¡äº†å¥½ä¹… æ­£æ‰€è°“æˆä¹Ÿè§ä½•è´¥ä¹Ÿè§ä½• è§£å†³æ€è·¯ï¼šæ‹†è®ºå›ä¸Šå…¶å®å°±æœ‰è¿™ä¸ªæ€è·¯çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚ å°†å›¾ç‰‡é¢„å…ˆæ‰“æˆå›¾é›†=&gt;å‡å°‘å›¾ç‰‡èµ„æºé‡ å°†èµ„æºæ”¾åˆ°CDN Creatorå®˜æ–¹åœ¨Creator2.4.xç‰ˆæœ¬ä¹Ÿç»™å‡ºäº†ä»–ä»¬çš„è§£å†³æ–¹æ¡ˆ:AssetBundle æˆ‘è§‰å¾—ï¼Œåœ¨é¡¹ç›®å†…åˆ†AssetBundleï¼Œå¡é¡¿é—®é¢˜è¿˜æ˜¯æ²¡æ³•è§£å†³çš„ã€‚å› ä¸ºèµ„æºé‡æ²¡å˜ï¼Œå¤„ç†è€—æ—¶ä¹Ÿä¹Ÿæ²¡æœ‰å‡å°‘ ä½†å¦‚æœåœ¨å¦å¤–ä¸€ä¸ªé¡¹ç›®åˆ¶ä½œèµ„æºçš„AssetBundleï¼Œç„¶åå¯¼å‡ºã€‚è¿™ä¸ªæ˜¯å¯ä»¥è§£å†³é—®é¢˜çš„ã€‚ è¿™äº›æ–¹æ¡ˆæ˜¯æœ‰ç”¨ï¼Œä½†å°±æ˜¯æœ‰äº›éº»çƒ¦ï¼Œæ€ä¹ˆæ‰èƒ½åšåˆ°æ›´åŠ æ–¹ä¾¿å’Œæ— æ„ŸçŸ¥å‘¢ï¼Ÿ è€Œä¸”è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ€ä¹ˆåŠ è½½è§£æå›¾é›†ã€é¾™éª¨ã€spineç”šè‡³fguiå‘å¸ƒçš„èµ„æºå’Œtilemapå‘¢ï¼Ÿ å› ä¸ºå®˜æ–¹çš„æ¥å£ä¸­ï¼ŒåŠ è½½è¿œç¨‹èµ„æºï¼šåªèƒ½åŠ è½½ç®€å•çš„å›¾ç‰‡ã€éŸ³é¢‘ã€æ–‡æœ¬ æ–‡æ¡£ä¼ é€é—¨ğŸšª:https://docs.cocos.com/creator/manual/zh/scripting/dynamic-load-resources.html æˆ‘çš„è§£å†³æ–¹æ¡ˆæ‹†åˆ†èµ„æºçš„è§£å†³æ–¹æ¡ˆç¬¬ä¸€ç§:è‡ªå®šä¹‰ç½‘é¡µé¢„è§ˆä¸çŸ¥é“å¤§å®¶çŸ¥ä¸çŸ¥é“è¿™ä¸ªçš„å­˜åœ¨ã€‚ æ–‡æ¡£ä¼ é€é—¨:https://docs.cocos.com/creator/manual/zh/advanced-topics/custom-preview-template.html åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºpreview-templatesï¼Œç„¶åç¼–è¾‘å™¨çš„é¢„è§ˆåŠŸèƒ½å°±ä¼šä»¥è¿™ä¸ªç›®å½•ä¸ºå…¥å£ ä½ å°†å¤–éƒ¨èµ„æºæ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä½¿ç”¨è¿œç¨‹åŠ è½½æ¥å£ï¼Œå°±å¯ä»¥åŠ è½½åˆ°è¿™é‡Œçš„èµ„æº 12345//ç›´æ¥å°†someres.pngæ”¾åˆ°preview-templatesvar remoteUrl = \"someres.png\";cc.assetManager.loadRemote(remoteUrl, function (err, texture) &#123; // Use texture to create sprite frame&#125;); ä½†è¿™æ ·éœ€è¦è‡ªå·±åœ¨æ„å»ºæ—¶å¤„ç†èµ„æºï¼Œå¤åˆ¶åˆ°å‘å¸ƒç›®å½• ç¬¬äºŒç§:æ’ä»¶ aswallow å¦‚ç‡•(è°éŸ³:çˆ±ä¸Šæˆ‘å’¯) å¼€å‘é¢„è§ˆæ”¯æŒ æˆ‘é€šè¿‡hook creatorçš„é¢„è§ˆæœåŠ¡å™¨é€»è¾‘ï¼Œè®©ä½ å¯ä»¥è®¿é—®assetsæ–‡ä»¶å¤¹å¤–çš„ç›®å½•ã€‚å¯¹åŸæ¥çš„é¢„è§ˆæœåŠ¡å™¨é€»è¾‘æ— å½±å“ ä½ åªéœ€å°†éœ€è¦æ‹†åˆ†å‡ºå»çš„èµ„æºæ”¾åˆ°assetsæ–‡ä»¶å¤¹å¤–çš„ext-resæ–‡ä»¶å¤¹å†…å³å¯ è¿™ä¸ªext-resä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹local/aswallow-config.jsonæ¥ä¿®æ”¹ å‘å¸ƒæ„å»ºæ”¯æŒ æ„å»ºæ—¶ï¼Œä¼šè‡ªåŠ¨å°†èµ„æºæ‹·è´åˆ°æ„å»ºè¾“å‡ºç›®å½•ï¼Œæ„å»ºé…ç½®ä¸­çš„MD5Cacheæ‰“å¼€å¯ä»¥ç»™æ–‡ä»¶ååŠ md5ï¼Œç”Ÿæˆè·¯å¾„æ˜ å°„version.jsonæ–‡ä»¶ ä¹Ÿå¯ä»¥è‡ªå·±å®ç°è‡ªå®šä¹‰çš„æ„å»ºå¤„ç†é€»è¾‘,å…·ä½“å¯è§custom-build-scripts/custom-build.js æ„å»ºåŠŸèƒ½æ”¯æŒCreator2.3.xå’Œ2.4.xï¼Œä»¥åŠå‘å¸ƒæ„å»ºæ”¯æŒï¼šå¾®ä¿¡å°æ¸¸æˆ(å…¶ä»–å°æ¸¸æˆæ²¡æµ‹ï¼Œåº”è¯¥å¯ä»¥)ã€å®‰å“åŸç”Ÿã€web å½“ç„¶ï¼Œå¦‚æœé…åˆä¸‹é¢çš„è¿™ä¸ªè¿è¡Œæ—¶ä¼šæ›´å®Œç¾ ps:å¬jareå¤§ä½¬è¯´Assetbundleå¯ä»¥å•ç‹¬å‘å¸ƒï¼Œæˆ‘æ²¡æ‰¾åˆ°ã€‚ä¸è¿‡å°†èµ„æºé¡¹ç›®å‘å¸ƒåˆ°ext-resæ–‡ä»¶å¤¹ï¼Œå°±å¯ä»¥è¿œç¨‹åŠ è½½å…¶ä¸­çš„bundleèµ„æºäº† å¤æ‚èµ„æºåŠ è½½è§£ææ–¹æ¡ˆè¿™ä¸ªå…¶å®æŒºè‹¦æ¼çš„ï¼Œå®˜æ–¹æ²¡æœ‰æ¥å£ã€‚ æˆ‘åœ¨è®ºå›æ‰¾åˆ°äº†é¾™éª¨çš„åŠ è½½è§£æé€»è¾‘ï¼Œç„¶åæ–­ç‚¹è¿è¡Œçœ‹æºç å®Œå–„äº†ã€‚å›¾é›†ã€spineã€tilemapä¹Ÿæ˜¯æ–­ç‚¹è¿è¡Œçœ‹æºç å®ç°çš„ã€‚ æ‰¾åˆ°äº†è§£ææ–¹æ³•åï¼ŒåŸºäºæ­¤å®ç°äº† aswallow-asset-manager å®ƒå¯ä»¥è®©ä½ æ›´åŠ ç®€å•çš„åŠ è½½å¤–éƒ¨ã€è§£æå’Œç®¡ç†å¤–éƒ¨èµ„æº(å›¾é›†ã€é¾™éª¨ã€spineã€tilemapã€fguiå‘å¸ƒçš„èµ„æº) é€šè¿‡åŠ è½½versionæ–‡ä»¶ï¼Œå¯ä»¥å®ç°è½»æ˜“åŠ è½½è§£æåŠ äº†md5åç¼€çš„èµ„æºï¼ˆåŠ è½½é€»è¾‘ä¸å˜çš„æƒ…å†µä¸‹ï¼‰ ä½¿ç”¨ç¤ºä¾‹ï¼š åŠ è½½å›¾é›† 1234567aswallow.extAssetMgr.load([&#123; url: \"atlas/emoji\", assetType: \"plist\" &#125;], (err, result) =&gt; &#123; console.log(result); const atlas = aswallow.extAssetMgr.get(\"atlas/emoji.plist\") as cc.SpriteAtlas; console.log(atlas); this.emojiSp.spriteFrame = atlas.getSpriteFrame(\"emoji1\") &#125;);&#125; åŠ è½½å›¾ç‰‡ 12345678910111213141516171819202122232425262728let asset: cc.Asset;let index = 0;this._scheduleCallback = () =&gt; &#123; asset = aswallow.extAssetMgr.get(`$&#123;iconRoot&#125;/i$&#123;index&#125;.png`); index = Math.floor(Math.random() * 10); this.sp.spriteFrame = null; this.sp.spriteFrame = new cc.SpriteFrame(asset as cc.Texture2D);&#125;let iconRoot = \"fgui-res/Icons\";let resPaths = [];for (let i = 0; i &lt; 10; i++) &#123; resPaths.push(iconRoot + \"/i\" + i + \".png\");&#125;// cc.assetManager.preloadAny()aswallow.extAssetMgr.load(resPaths, (err, result: aswallow.ILoadResult) =&gt; &#123; if (!err) &#123; console.log(`åŠ è½½æˆåŠŸ`) console.log(result); this.schedule(this._scheduleCallback, 1, cc.macro.REPEAT_FOREVER); // this.sp.spriteFrame.ensureLoadTexture(); &#125;&#125;); åŠ è½½é¾™éª¨ 12345678910111213141516171819const extAssetMgr = aswallow.extAssetMgr; extAssetMgr.load([ &#123; url: \"dragonbones/dragon/texture.json\", assetType: \"DragonBonesAtlasAsset\" &#125;, &#123; url: \"dragonbones/dragon/NewDragonTest.json\", assetType: \"DragonBonesAsset\" &#125;, \"dragonbones/dragon/texture.png\"], (err, items) =&gt; &#123; console.log(items) this.dragonBone_json.dragonAsset = extAssetMgr.get(\"dragonbones/dragon/NewDragonTest.json\") as any; this.dragonBone_json.dragonAtlasAsset = extAssetMgr.get(\"dragonbones/dragon/texture.json\") as any; this.dragonBone_json.armatureName = 'armatureName'; this.dragonBone_json.playAnimation('stand', 0); &#125;);//åŠ è½½äºŒè¿›åˆ¶extAssetMgr.load(&#123; url: \"dragonbones/sword-man/SwordsMan\", assetType: \"DragonBonesAsset\", ext: \".dbbin\" &#125;, (err, items) =&gt; &#123; this.dragonBone_bin.dragonAsset = extAssetMgr.get(\"dragonbones/sword-man/SwordsMan_ske.dbbin\") as any; this.dragonBone_bin.dragonAtlasAsset = extAssetMgr.get(\"dragonbones/sword-man/SwordsMan_tex.json\") as any; this.dragonBone_bin.armatureName = 'Swordsman-NestArmature'; this.dragonBone_bin.playAnimation('walk', 0);&#125;) åŠ è½½spine 123456789101112131415161718const extAssetMgr = aswallow.extAssetMgr;extAssetMgr.load([&#123; url: \"spines/spineboy/spineboy.json\", assetType: \"SpineAsset\" &#125;, \"spines/spineboy/spineboy.txt\", \"spines/spineboy/spineboy.png\"], (err, items) =&gt; &#123; console.log(items) this.spine_json.skeletonData = extAssetMgr.get(\"spines/spineboy/spineboy.json\") as any; this.spine_json.animation = 'run';&#125;);//åŠ è½½äºŒè¿›åˆ¶extAssetMgr.load([&#123; url: \"spines/spineRatorBin/raptor-pro.skel\", assetType: \"SpineAsset\" &#125;, \"spines/spineRatorBin/raptor-pro.atlas\", \"spines/spineRatorBin/raptor-pro.png\"], (err, items) =&gt; &#123; console.log(items) this.spine_bin.skeletonData = extAssetMgr.get(\"spines/spineRatorBin/raptor-pro.skel\") as any; this.spine_bin.animation = 'walk'; // this.spine._updateSkeletonData&#125;); åŠ è½½fgui 1//æ­£å¸¸ä½¿ç”¨å³å¯ï¼Œæ¥å£æ²¡æœ‰å˜åŒ– èµ„æºé‡Šæ”¾(ä»¥é‡Šæ”¾spineèµ„æºä¸ºä¾‹) 12345678aswallow.extAssetMgr.release([ &#123; url: \"spines/spineboy/spineboy.json\", assetType: \"SpineAsset\" &#125;, \"spines/spineboy/spineboy.txt\", \"spines/spineboy/spineboy.png\", &#123; url: \"spines/spineRatorBin/raptor-pro.skel\", assetType: \"SpineAsset\" &#125;, \"spines/spineRatorBin/raptor-pro.atlas\", \"spines/spineRatorBin/raptor-pro.png\"]) æš‚æ—¶æ”¯æŒ2.4.xï¼Œå‘å¸ƒæ„å»ºæµ‹è¯•é€šè¿‡çš„å¹³å°ï¼šAndroidåŸç”Ÿã€webã€å¾®ä¿¡å°æ¸¸æˆ(å…¶ä»–å°æ¸¸æˆå¹³å°åº”è¯¥ä¹Ÿå¯ä»¥) æœ€åCocosCreatorå…¶å®æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œä¸æ˜¯å—ï¼Ÿ å¡é¡¿é—®é¢˜ä¹Ÿæ˜¯å¯ä»¥è½»æ˜“è§£å†³çš„ï¼Œä¸æ˜¯å—ï¼Ÿ å¸Œæœ›æ¯ä¸ªå–œçˆ±Cocosçš„å°ä¼™ä¼´ä¸ç”¨çº ç»“è¦ä¸è¦ç”¨Creatorå¼€å‘å¤§é¡¹ç›® å¸Œæœ›åœ¨å¼€å‘å¤§é¡¹ç›®çš„å°ä¼™ä¼´ä¸å†å—å¡é¡¿ä¹‹è‹¦ å¸Œæœ›æ¯ä¸ªCocosCreatoré¡¹ç›®éƒ½æœ‰æ‰€æˆ~ èƒ½å¸®åˆ°ä½ ä»¬çœŸçš„å¾ˆå¼€å¿ƒã€‚ å¦‚æœå–œæ¬¢æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼Œæƒ³ä¸€èµ·ç©è½¬æ¸¸æˆå¼€å‘ æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å· å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/categories/EasyGameFramework/"}],"tags":[{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/tags/CocosCreator/"}],"keywords":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/categories/EasyGameFramework/"}]},{"title":"å¹´ä¸­æ€»ç»“","slug":"å¹´ä¸­æ€»ç»“","date":"2021-05-04T02:25:00.000Z","updated":"2021-05-05T15:49:18.019Z","comments":false,"path":"2021/05/04/å¹´ä¸­æ€»ç»“/","link":"","permalink":"http://yoursite.com/2021/05/04/å¹´ä¸­æ€»ç»“/","excerpt":"","text":"å‰è¨€è¿™åŠå¹´å¾ˆå……å®ï¼Œä½†æœ‰ç‚¹ç´¯ã€‚æœ‰ç‚¹ç´¯ï¼Œä½†å¾ˆå……å®ã€‚ğŸ¤­ å›é¡¾ä¸€ä¸‹å·¥ä½œä¹‹ YU ï¼Œåšäº†ä¸€äº›äº‹å„¿ è¿­ä»£å¼€æºæ¡†æ¶å»å¹´æˆ‘å¼€æºäº†ä¸€ä¸ªæ¡†æ¶é¡¹ç›®ï¼šEasyGameFramework:https://gitee.com/AIGAMESTUDIO.AILHC/EasyGameFrameworkOpen éšç€ä¸æ–­çš„è¿­ä»£ï¼Œæ„Ÿè§‰å®ƒæ…¢æ…¢çš„å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œå¿ƒä¸­ç”šæ˜¯å–œæ‚¦ã€‚å¦‚æœæ„Ÿå…´è¶£å¯ä»¥look lookï¼Œå¦‚æœè§‰å¾—ä¸é”™å¯ä»¥ç‚¹ä¸ªå°æ˜Ÿæ˜Ÿâ˜… æœ€è¿‘ä¹Ÿåœ¨æƒ³ç€æ”¹åï¼Œæ”¹ä¸€ä¸ªæ›´åŠ åˆé€‚çš„åå­—ã€‚ä¹‹å‰æƒ³çš„æ˜¯é‡‘ç®æ£’~ å…ˆè®²ä¸€ä¸‹æœ€è¿‘æ›´æ–°çš„ è‡»äºå®Œç¾çš„æ¨¡å—æ„å»ºå·¥å…·æˆ‘çš„åˆè¡·æ˜¯åšä¸€ä¸ªå¯ä»¥ç›´æ¥ä¸€é”®å°†åŠŸèƒ½æ¨¡å—æ‰“åŒ…æˆæ‹¥æœ‰ä¸åŒæ¨¡å—è§„èŒƒçš„npmåŒ…ï¼Œç»™ä¸åŒçš„é¡¹ç›®ä½¿ç”¨ã€‚ ä¸ç”¨è¿›è¡Œç¹ççš„é…ç½®ã€‚ å› ä¸ºè¿™æ ·æ–¹ä¾¿è¿›è¡Œæ¨¡å—çº§åˆ«çš„ç‰ˆæœ¬ç®¡ç†ï¼Œä¸åŒçš„H5æ¸¸æˆå¼•æ“éƒ½å¯ä»¥è½»æ¾ä½¿ç”¨ï¼Œè¾¾åˆ°è·¨é¡¹ç›®ï¼Œè·¨å¼•æ“çš„åŠŸèƒ½æ¨¡å—å¤ç”¨çš„ç›®çš„ã€‚ ä¸€å¼€å§‹ï¼Œåªæ˜¯èƒ½æ‰“åŒ…æˆjså’Œå•ä¸ªd.tså£°æ˜æ–‡ä»¶ï¼Œå°é—®é¢˜æŒºå¤šçš„ï¼Œåœ¨åç»­çš„è¿­ä»£ä¸­ï¼Œæ”¹è¿›äº†å¾ˆå¤šã€‚ æ¯”å¦‚ï¼š vscodeçš„è‡ªåŠ¨å¯¼å…¥è¯†åˆ«é”™è¯¯ï¼ˆè®©äººè„‘é˜”ç–¼ï¼‰ CocosCreator3çš„ESMæ¨¡å—å’ŒCocosCreator2.xçš„Commonjsæ¨¡å—å…±å­˜ è‡ªåŠ¨/æ‰‹åŠ¨ç”Ÿæˆindex.ts å®Œå–„æ‰©å±•æ€§ï¼ˆåœ¨å¼€ç®±å³ç”¨çš„æƒ…å†µä¸‹ï¼Œåˆèƒ½è¿›è¡Œè‡ªå®šä¹‰ï¼‰ å…¶ä»–é¡¹ç›®å®è·µ é€šè¿‡å¼€å‘cocosCreatorçš„Typescriptæ’ä»¶æ¨¡æ¿ï¼Œè®©è¿™ä¸ªå·¥å…·çš„æ‰©å±•æ€§å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œæ”¯æŒæ’ä»¶é¡¹ç›®çš„ç¼–è¯‘å’Œæ„å»ºï¼Œæ‰“ç ´ç„å­¦ã€‚ åæ¥é€šè¿‡å°è¯•æ„å»ºè¾“å‡ºCocosCreator3çš„ farygui åº“ï¼Œä¹Ÿæœ‰äº†æ‰“åŒ…å¤§å‹æ¡†æ¶åº“çš„å®è·µã€‚ åç»­çš„è®¡åˆ’åŠ å…¥å¼€å‘æ—¶çš„esbuildæ”¯æŒï¼šæ›´å¿«ï¼Œæ›´å¼ºã€‚ å®ç°äº†display-ctrlçš„fairyguiç‰ˆæœ¬è°·ä¸»å‘å¸ƒäº†fairyguiçš„CocosCreator3.0çš„é€‚é…ï¼šhttps://forum.cocos.org/t/topic/112136/5 è€Œæˆ‘æŠ½ç©ºå®ç°ä¸€ä¸‹display-ctrlçš„fairyguiå®ç°:dpctrl-fgui å› ä¸ºfairyguiå®ç°äº†ä¸åŒå¼•æ“çš„é€‚é…å˜›ï¼Œæ‰€ä»¥è¿™ä¸ªæ¨¡å—ä¸éœ€è¦åšå¤ªå¤šä¹Ÿå¯ä»¥å…¼å®¹ä¸åŒå¼•æ“ã€‚ï¼ˆps:å°±è¯•äº†Layaå’ŒCocosï¼‰ ä¸éœ€è¦åšå¤ªå¤šå…¼å®¹ï¼Œä½†è¿˜æ˜¯è¦åšçš„ã€‚ã€‚ã€‚å› ä¸ºLayaçš„å®ç°å’ŒCocosçš„å®ç°ä¸­æœ‰å¾®å°çš„ä¸åŒã€‚ã€‚ã€‚ 123456789101112131415161718192021//fgui-layer.ts...onSpAdd(sp: any): void &#123; const fgo = new fairygui.GObject(); //å…¼å®¹cc/laya fgo[\"_displayObject\"] = sp;//Layaä¸­çš„å®ç° fgo[\"_node\"] = sp;//Cocosä¸­çš„å®ç° //å…¼å®¹cc/laya sp[\"$owner\"] = fgo;//Layaä¸­çš„å®ç° sp[\"$gobj\"] = fgo;//Cocosä¸­çš„å®ç° this.addChild(fgo); &#125;...//fix-some-fgui.tsObject.defineProperty(fairygui.GObject.prototype, \"displayObject\", &#123; get: function () &#123; return this._node; &#125;, enumerable: false, configurable: true&#125;); æˆ‘æ›´æ–°äº†ç¤ºä¾‹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹ ç¤ºä¾‹:http://aigamestudio.ailhc.gitee.io/easygameframeworkopen/examples/egf-ccc-full/ æˆ‘ç°åœ¨çš„å…¬å¸é¡¹ç›®æ˜¯Laya+Fguiï¼Œç®—æ˜¯æ·±åº¦ä½¿ç”¨Fguiäº†ã€‚ FairyGUIéå¸¸å¥½ç”¨ã€‚ ä½†å¦‚æœæœ‰å¤§é‡çš„åŒ…ï¼Œè€Œä¸”ä¸åŒåŒ…ä¹‹é—´çš„æœ‰èµ„æºå¼•ç”¨ï¼ŒFguiå®˜æ–¹çš„ä½¿ç”¨æ–¹å¼ä¼šæ˜¯ä¸€ç§å™©æ¢¦ã€‚è€Œå¦‚æœä½ è¦è¿›è¡Œç²¾ç¡®çš„èµ„æºå†…å­˜ç®¡ç†çš„è¯ï¼Œæ›´æ˜¯å™©æ¢¦ä¸­çš„å™©æ¢¦ã€‚ å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘è¿™è¾¹æ˜¯å†™ä¸€ä¸ªæ’ä»¶å’Œé…å¥—çš„è¿è¡Œæ—¶ï¼Œæ’ä»¶å¯¼å‡ºèµ„æºå¼•ç”¨ä¿¡æ¯ï¼Œæé«˜å¼€å‘å’Œå†…å­˜ç®¡ç†çš„æ•ˆç‡ã€‚ å®Œå–„é€šç”¨å¯¹è±¡æ± æ¨¡å—å¯¹è±¡æ± æ˜¯æ¸¸æˆå¼€å‘ä¸­éå¸¸å¸¸ç”¨çš„ä¸€ç§æ¨¡å¼ï¼Œç”¨äºå‡å°‘å¯¹è±¡çš„é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¼è‡´çš„æ€§èƒ½å‹åŠ›ã€‚ Cocosä¸­ä¹Ÿæœ‰å¯¹è±¡æ± æ¨¡å—:NodePool,Layaä¸­ä¹Ÿæœ‰ä¸€ä¸ªå…¨å±€çš„å¯¹è±¡æ± æ¨¡å—Laya.Pool è¿™ä¸¤ä¸ªéƒ½æœ‰æ·±å…¥ä½¿ç”¨è¿‡ã€‚å®ƒä»¬åŠŸèƒ½éå¸¸ç®€å•ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¾€å¾€éœ€è¦åŠ ä¸Šè‡ªå·±çš„ä¸€äº›å°è£…ï¼Œæˆ–è€…æ˜¯åˆ°å¤„å†™ä¸€äº›é‡å¤çš„ä»£ç ã€‚ ä¸ºäº†åœ¨ä¸åŒçš„é¡¹ç›®ä¸­é‡å¤é€ è½®å­ï¼Œäºæ˜¯é€ äº†è¿™ä¸ªå¥½ç”¨çš„å¯¹è±¡æ± æ¨¡å—ã€‚ å‰æ®µæ—¶é—´å®Œå–„äº†å®ƒçš„ç±»å‹æç¤ºï¼Œä½¿ç”¨æ›´åŠ èˆ’é€‚ã€‚ å¹¶ä¸”å¢åŠ äº†é˜ˆå€¼æ§åˆ¶ç³»ç»Ÿï¼Œç¼“å­˜æ•°è¶…è¿‡é˜ˆå€¼å°±é”€æ¯ï¼Œè®©æ± å­ä¸å†æ— é™æš´æ¶¨ å¯ä»¥ç®€å•æ„Ÿå—ä¸€ä¸‹: 1234567891011121314151617181920212223242526272829303132333435363738394041//ä½¿ç”¨å…¨å±€ç®¡ç†å™¨const mgr = new ObjPoolMgr();//å®ç°å¯¹è±¡æ± æ¥å£class ClassA implements objPool.IObj&#123; onGet()&#123; &#125; onReturn()&#123; &#125; onKill()&#123; &#125;&#125;mgr.createObjPool(&#123;sign:\"test1\",clas:ClassA&#125;);const ins1 = mgr.get(\"test1\");//æ³¨å…¥é€šç”¨å¯¹è±¡å¤„ç†å‡½æ•°//è¿™æ ·å¯¹äºæ²¡æœ‰å®ç°IObjæ¥å£çš„å¯¹è±¡ä¹Ÿå¯ä»¥const objPool = new BaseObjPool();objPool.init( &#123; sign: \"pool1\", objHandler: &#123; onGet(obj: objPool.IObj, onGetData: any) &#123; &#125;, onCreate(obj): void &#123; &#125;, onReturn(obj): void &#123; &#125;, onKill(obj): void &#123; &#125; &#125; &#125;) æç¤ºæ›´åŠ æ™ºèƒ½ 12345678910111213141516interface ITestObjGetDataMap &#123; TestObj1: &#123; num: number &#125;, TestObj2: &#123; name: string &#125;, TestObj3: &#123; name: string &#125;&#125;const poolMgr = new ObjPoolMgr&lt;ITestObjGetDataMap&gt;();poolMgr.createByClass(\"TestObj1\", TestObj1);poolMgr.createByFunc(\"TestObj2\", () =&gt; &#123; return new TestObj2();&#125;);poolMgr.preCreate(\"TestObj1\", 5);//get è¿™é‡Œgetå¯ä»¥è·å¾—å¯¹åº”\"TestObj1\"çš„ä¼ å‚ç±»å‹æç¤ºconst testObj1: TestObj1 = poolMgr.get(\"TestObj1\", &#123; num: 2 &#125;);//æ‰¹é‡è·å–const testObj2s: TestObj2[] = poolMgr.getMore(\"TestObj2\", &#123; name: \"testObj2\" &#125;, 4); é˜ˆå€¼æ§åˆ¶ 1234567891011121314151617181920212223242526const objPool = new BaseObjPool();objPool.init( &#123; sign: \"pool1\", objHandler: &#123; onGet(obj: objPool.IObj, onGetData: any) &#123; &#125;, onCreate(obj): void &#123; &#125;, onReturn(obj): void &#123; &#125;, onKill(obj): void &#123; &#125; &#125;, //é˜ˆå€¼ threshold: 100 &#125;)//å›æ”¶å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡æ± é‡Œçš„æ•°é‡å¤§äºç­‰äº100ï¼Œåˆ™è¿™ä¸ªobjå°±ä¼šè¢«killæ‰ï¼ˆé”€æ¯ï¼‰;objPool.return(obj); å†Qä¸€ä¸‹æ›´æ—©ä¹‹å‰æ›´æ–°çš„ æ•´äº†ä¸€ä¸ªé€šç”¨ç½‘ç»œæ¨¡å—enetä¸€ä¸ªä¸å—é™äºå¼•æ“å’Œæ¡†æ¶ï¼Œæ˜“äºä½¿ç”¨å¹¶ä¸”èƒ½å¤Ÿæ‰©å±•ä¸åŒçš„åº•å±‚ä»¥åŠä¸Šå±‚æ˜¾ç¤ºçš„ç½‘ç»œæ¨¡å—ã€‚ æˆ‘åšè¿‡å‡ ä¸ªé¡¹ç›®ï¼Œæœ‰ç”¨nodejsåšåç«¯çš„ï¼Œæœ‰ç”¨nodejsçš„pomeloæ¡†æ¶åšåç«¯çš„ï¼Œæœ‰erlangåšåç«¯çš„ï¼Œæœ‰ç”¨javaçš„ï¼Œä½¿ç”¨çš„åè®®ï¼Œç½‘ç»œäº¤äº’åº•å±‚éƒ½ä¸å¤ªä¸€æ ·ã€‚ æˆ‘éƒ½å¾—å»é€‚é…ï¼Œå»å†™ä¸€ä¸ªç½‘ç»œæ¨¡å—ã€‚å¦‚æœä»¥åï¼Œè¿˜ä¼šé‡åˆ°ä¸åŒçš„åç«¯ï¼Œé‚£æˆ‘ä¸å¤ªæ„¿æ„å†å»é‡å†™ä¸€ä¸ªç½‘ç»œæ¨¡å—äº†ã€‚æˆ‘æƒ³ç”¨ä¸€ä¸ªå°±å¤Ÿäº†ã€‚ è¿‡å®Œå¹´åï¼Œæˆ‘èŠ±äº†ä¸€æ®µæ—¶é—´ï¼Œå»æ•´ç†æç‚¼æˆ‘ä¹‹å‰é¡¹ç›®å†™è¿‡çš„ç½‘ç»œæ¨¡å—ã€‚ å°†å®ƒè®¾è®¡æˆä¸€ä¸ªï¼Œåº•å±‚æ— å…³ï¼Œä¸šåŠ¡æ— å…³çš„ç½‘ç»œæ¨¡å—ï¼Œå¹¶æä¾›ä¸‰å±‚å¯æ‰©å±•æ¥å£ï¼šæ˜¾ç¤ºå±‚ï¼Œåè®®å±‚ï¼Œsocketå±‚ å¹¶ä¸”å®ç°äº†å¸¸è§çš„ç½‘ç»œäº¤äº’ç»„åˆï¼špomeloã€websocket+protobufã€websocket åªè¦æœ‰éœ€è¦å°±å¯ä»¥è½»æ¾æ›¿æ¢ä¸åŒçš„å±‚ï¼Œä½†é¢å‘ä¸šåŠ¡çš„æ¥å£å§‹ç»ˆä¸å˜ã€‚ è¿™æ˜¯æˆ‘å†™çš„ä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ï¼š ä¸€èµ·èŠå¤©åƒç“œæ”¾çƒŸèŠ±:https://mp.weixin.qq.com/s/tzGzHhPYoIL10skjmuyO_Q ä¸ºäº†æ›´æ–¹ä¾¿ä½¿ç”¨protobufä¹‹å‰æˆ‘åŸºäºç™½é¹­å¼•æ“ç»„å†™çš„ä¸€ä¸ªprotobufå‘½ä»¤å·¥å…·ï¼Œå†™äº†ä¸€ä¸ªé€‚ç”¨äºä»»æ„å¼•æ“çš„ç‰ˆæœ¬ï¼ˆç»™è‡ªå·±çš„Layaé¡¹ç›®ç”¨ï¼‰ã€‚ ä¸æ»¡è¶³äºèƒ½ç”¨ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿ï¼Œæˆ‘é‡å†™äº†å®ƒã€‚äºæ˜¯å°±æœ‰äº†egf-protobuf-cli å®ƒçš„ç‰¹æ€§ æä¾› protobuf.js åŸºç¡€è¿è¡Œæ—¶åº“ æä¾›å‘½ä»¤è¡Œè„šæœ¬ï¼Œå°† protofile ç”Ÿæˆ JavaScript ä»£ç  ç”Ÿæˆæ­£ç¡®çš„ .d.ts ä»£ç ï¼Œä»¥æ–¹ä¾¿ TypeScript é¡¹ç›®ä½¿ç”¨ ç†è®ºä¸Šæ”¯æŒæ‰€æœ‰ HTML5 æ¸¸æˆå¼•æ“ã€‚æ¬¢è¿ä½¿ç”¨ PIXI.js , Cocos2d-js , LayaAir ç­‰å…¶ä»–å¼•æ“çš„å¼€å‘è€…ä½¿ç”¨æœ¬åº“ã€‚ å°è£…protobufjsçš„å‘½ä»¤è¡Œï¼Œä¸éœ€å¦å¤–å®‰è£…protobufjs æ”¯æŒæœåŠ¡ç«¯æ–‡ä»¶åŒæ—¶è¾“å‡º é…ç½®æœ‰æ™ºèƒ½æç¤º ç›´æ¥npmå®‰è£…ä½¿ç”¨ 1npm install egf-protobuf -g å…·ä½“å¯è§:http://aigamestudio.ailhc.gitee.io/easygameframeworkopen/#/packages/egf-protobuf-cli/README æ•´å·¥å…·å¯èƒ½æœ‰ç‚¹é¦™çš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šäººåæ§½CocosCreator2.xèµ„æºå¤šçš„æ—¶å€™å¡é¡¿ï¼Œæ‰“å¼€æ…¢çš„é—®é¢˜ã€‚ åŸå› å¯èƒ½å¤§å®¶éƒ½çŸ¥é“ï¼šç¼–è¾‘å™¨ä¼šç›‘å¬ assets æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶å˜åŠ¨ï¼Œå¹¶ä¼šåšä¸€äº›å¤„ç† å…¶å®æˆ‘åœ¨æƒ³ï¼Œå…¶å®å¾ˆå¤šèµ„æºå…¶å®æ²¡æœ‰å¿…è¦æ”¾åœ¨assetsç›®å½•ï¼Œæ¯”å¦‚é“å…·æ­¦å™¨çš„iconèµ„æºã€å¤§é‡çš„åºåˆ—å¸§å›¾é›†ç­‰ æˆ‘ä¹Ÿç›¸ä¿¡CocosCreatorè‚¯å®šå¯ä»¥è§£æå®ä¾‹åŒ–å¤–éƒ¨èµ„æº(é¾™éª¨ã€tiledmapã€å›¾é›†ã€å›¾ç‰‡ç­‰) æ‰€ä»¥æˆ‘åšäº†ä¸€ä¸ªå°è¯•:å…·ä½“å¯è§:https://mp.weixin.qq.com/s/t7664GuXvEWz2BKnbpPDCw æµ‹è¯•è§†é¢‘:https://www.bilibili.com/video/BV1WU4y1b7Es/ æœ€è¿‘å¢åŠ äº†è§£ætiledmapèµ„æºé€»è¾‘ æ‰“åŒ…åŸç”Ÿæµ‹è¯•é€šè¿‡ï¼Œç›¸å…³å·¥å…·å¿«æå¥½äº†~ å¯ä»¥ç¨ç¨æœŸå¾…ä¸€ä¸‹ğŸ˜‹ æ•´ä¸€ä¸ªç›¸å¯¹å¥½ç”¨çš„å¯¼è¡¨å·¥å…·ä¸€å¼€å§‹æˆ‘é¡¹ç›®çš„å¯¼è¡¨å·¥å…·æ˜¯æ‹¿ç½‘ä¸Šçš„æ¥é­”æ”¹ï¼Œå¹¶ä¸”åŠ ä¸Šå¯¼å‡ºerlangç”¨çš„æ–‡ä»¶çš„åŠŸèƒ½ã€‚ åæ¥åˆ°äº†æ–°çš„é¡¹ç›®ç»„ï¼Œé‡å†™äº†ä¸€æ¬¡ï¼Œå› ä¸ºè¡¨æ ¼è§„èŒƒä¸ä¸€æ ·ï¼ŒæœŸé—´è¿˜è¿­ä»£äº†ä¸¤æ¬¡ è¦åŠ è¡¨å¤´ è¡¨æ ¼æ–‡ä»¶å¤šï¼Œå¯¼è¡¨é€Ÿåº¦æ…¢äº†ï¼Œå¢åŠ å¢é‡å¯¼å‡ºåŠŸèƒ½ è¿™ä¸€æ¬¡æ˜¯ç¬¬ä¸‰ä»£äº†ï¼Œä¸€ä¸ªæ›´åŠ å¼ºå¤§ã€ç›¸å¯¹ä¹‹å‰æ›´åŠ å¥½ç”¨çš„ä¸€ä»£ã€‚ å®ƒé¦–å…ˆè§£å†³çš„é—®é¢˜æ˜¯ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚è‡ªç”±æ‰©å±•å’Œè‡ªå®šä¹‰ æ”¯æŒå¤šçº¿ç¨‹ï¼ˆè¡¨æ ¼æ–‡ä»¶è¶Šå¤šï¼Œæ•ˆæœè¶Šå¥½ï¼‰ æ–°çš„æ¶æ„å¸¦æ¥æ›´å¼ºçš„è‡ªå®šä¹‰åŠŸèƒ½ï¼šè‡ªå®šä¹‰æ ¼å¼è§£æã€è‡ªå®šä¹‰æ–‡ä»¶è½¬æ¢ã€è‡ªå®šä¹‰å¯¼å‡ºæµç¨‹(æ¯”å¦‚ï¼šå¯¼å‡ºè‡ªåŠ¨åä¸Šä¼ ftpã€æäº¤svn) æˆ‘ä¸æƒ³å†å†™ä¸€æ¬¡äº†ã€‚ã€‚ã€‚ é¡ºä¾¿å†™äº†ä¸ªtypescriptæ’ä»¶æ¨¡æ¿å½“æ—¶æƒ³å¼€å‘CocosCreatoræ’ä»¶ï¼Œä½†æ˜¯ä¸Šæ‰‹æœ‰ä¸¢ä¸¢éº»çƒ¦ã€‚ç¤¾åŒºè®ºå›æœ‰ä¸€äº›é—®é¢˜çš„ç­”æ¡ˆå’Œæ•™ç¨‹ï¼Œä½†è¿˜æ˜¯ä¸çˆ½ã€‚ ä¸ºä»€ä¹ˆï¼Œå°±è¦ä¸€ç›´ç„å­¦ï¼Ÿå°±è¦ç”¨ä¸å®Œå…¨åˆç¹ççš„typescriptå¼€å‘æ–¹å¼ï¼Ÿ å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ è™½ç„¶æ’ä»¶æˆ‘ç°åœ¨è¿˜æ²¡åšå®Œã€‚ã€‚ã€‚å› ä¸ºå»æ£é¼“åˆ«çš„å»äº† æ¥ä¸ªè§†é¢‘æ„Ÿå—ä¸€ä¸‹ https://www.bilibili.com/video/BV1Ny4y1b7Vh æœ€åå¦‚æœå¯¹æ¸¸æˆå¼€å‘æ„Ÿå…´è¶£çš„ï¼Œæƒ³äº†è§£æ›´å¤šæ¸¸æˆå¼€å‘ç›¸å…³çš„äº‹å’ŒçŸ¥è¯† å¯ä»¥å…³æ³¨å…¬ä¼—å·æˆ–è€…åŠ ç¾¤äº¤æµ å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"æƒ³æ³•æµæ°´","slug":"æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/categories/æƒ³æ³•æµæ°´/"}],"tags":[{"name":"æƒ³æ³•æµæ°´","slug":"æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/tags/æƒ³æ³•æµæ°´/"}],"keywords":[{"name":"æƒ³æ³•æµæ°´","slug":"æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/categories/æƒ³æ³•æµæ°´/"}]},{"title":"æˆ‘æƒ³æ‘¸ä¸€æ‘¸CocosCreatorçš„ä¸Šé™","slug":"æˆ‘æƒ³æ‘¸ä¸€æ‘¸CocosCreatorçš„ä¸Šé™","date":"2021-04-18T09:28:08.000Z","updated":"2021-04-18T12:40:04.577Z","comments":false,"path":"2021/04/18/æˆ‘æƒ³æ‘¸ä¸€æ‘¸CocosCreatorçš„ä¸Šé™/","link":"","permalink":"http://yoursite.com/2021/04/18/æˆ‘æƒ³æ‘¸ä¸€æ‘¸CocosCreatorçš„ä¸Šé™/","excerpt":"","text":"å‰è¨€Creatoråšæ¸¸æˆæ˜¯çœŸçš„æ–¹ä¾¿ã€‚ ä½†å½“æ¸¸æˆé¡¹ç›®è§„æ¨¡ä¸Šå‡æ—¶ï¼Œä½¿ç”¨Creatorå¼€å‘å°±å˜å¾—æœ‰ç‚¹ä¸èˆ’æœã€‚ æ‰“å¼€æ…¢ åˆ‡å›ç¼–è¾‘å™¨å¡é¡¿ è¿™äº›é—®é¢˜ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½æœ‰é‡åˆ°è¿‡ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººé—®ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ è®ºå›é‡Œçš„è§£å†³æ–¹æ¡ˆ è‡ªå·±æ‰“å›¾é›† ç”¨mac ç”¨å›ºæ€ç¡¬ç›˜ ç”¨é«˜é…ç½®ç”µè„‘ æ”¾åˆ°cdn è¿™äº›æ–¹æ¡ˆå¹¶å¯èƒ½æœ‰ç”¨ï¼Œä½†æ„Ÿè§‰ä¸å¤ªå®é™…å’Œé è°±ï¼Œä¹Ÿæ²¡æœ‰å…·ä½“çš„æ“ä½œæ–¹æ¡ˆ ç–‘é—®å’Œæ¯”è¾ƒCocosCreatorèƒ½å¦èˆ’æœçš„å¼€å‘å¤§å‹é¡¹ç›®ï¼Ÿä¸Šé™åœ¨å“ªé‡Œï¼Ÿ è®ºå›ä¸Šä¹Ÿæœ‰ä¸€ä¸ªå¸–å­ï¼šæ˜¯å¦æœ‰äººæ¯”è¾ƒè¿‡Layaã€Egretã€Cocosè¿™å‡ ä¸ªå¼•æ“ï¼Ÿ é‡Œé¢çš„å¸–å­å’Œå›å¤éƒ½å¾ˆæœ‰æ„æ€ï¼Œä¹ŸæŒºæœ‰æ„ä¹‰çš„ã€‚ æˆ‘ç”¨Layaæœ€å¤šï¼Œç›¸å¯¹æ„Ÿå—ä¹Ÿé¢‡æ·±ï¼ŒLayaçš„å¼€å‘æ–¹å¼åweb Layaçš„IDEèµ„æºå¤šçš„æ—¶å€™ï¼Œå¯¼å‡ºä¹Ÿä¼šå¡ï¼Œå¡å¾ˆä¹…ã€‚ å¦‚æœä¸æ˜¯å›¾é›†èµ„æºï¼Œæˆ–è€…ç”¨æ¥æ‹¼UIçš„èµ„æºï¼Œä¸€èˆ¬ä¸ä¼šæ”¾åœ¨assetsç›®å½• ä¼šæ”¾åœ¨æœ€ç»ˆå¯¼å‡ºçš„ç›®å½•binï¼Œä¹Ÿæ˜¯é¢„è§ˆæœåŠ¡å™¨çš„é™æ€èµ„æºç›®å½• Creatorå¤§é¡¹ç›®å¡é¡¿çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ¯”è¾ƒç›´æ¥çš„æ˜¯ï¼šèµ„æºæ•°é‡è¿‡å¤š å¯¼è‡´å¯åŠ¨é¡¹ç›®ä¼šèŠ±å¾ˆé•¿æ—¶é—´å»éå†å¤„ç†èµ„æº å¯¼è‡´æ¯æ¬¡åˆ‡å›ç¼–è¾‘å™¨æ—¶èŠ±æ—¶é—´å»åšæ£€ç´¢èµ„æºä¹‹ç±»çš„æ“ä½œ æˆ‘çš„æƒ³æ³•è®©Creatoråœ¨å¼€å‘é¢„è§ˆæ—¶èƒ½åŠ è½½ä½¿ç”¨ä¸åœ¨assetsçš„èµ„æº ç„¶ååœ¨æ„å»ºæ—¶ï¼Œå®šåˆ¶æ„å»ºæµç¨‹å°†å¤–éƒ¨èµ„æºå¤„ç†å‘å¸ƒåˆ°å‘å¸ƒç›®å½• è¿™ä¸ªä¹Ÿæ˜¯æˆ‘è·Ÿå®˜æ–¹æçš„ä¸€ä¸ªå»ºè®®ï¼Œä½†è²Œä¼¼æ²¡é‚£ä¹ˆé‡è§†ï¼Œå“ˆå“ˆå“ˆ å®ç°è®©CreatoråŠ è½½assetså¤–çš„èµ„æº ä½¿ç”¨é¢„è§ˆæ¨¡æ¿ Creatoré¢„è§ˆæœåŠ¡å™¨çš„é™æ€èµ„æºç›®å½•åœ¨xxx\\Creator\\x.x.x\\resources\\static\\preview-templates å¦‚æœæˆ‘ä»¬å°†å®ƒå¤åˆ¶åˆ°æˆ‘ä»¬é¡¹ç›®ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆé¢„è§ˆæœåŠ¡å™¨é™æ€èµ„æºç›®å½•å°±æŒ‡å‘æˆ‘ä»¬é¡¹ç›®ç›®å½•ä¸‹çš„preview-templates æˆ‘ä»¬å¯ä»¥å°†å¤–éƒ¨èµ„æºæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ æœ¬åœ°æ­å»ºä¸ªèµ„æºæœåŠ¡å™¨ è¿™ä¸ªå¤§å®¶éƒ½æ‡‚ï¼Œä¸ç»†è®²ï¼Œå°±æ˜¯éº»çƒ¦è€Œå·² è‡ªå·±å†™ä¸ªæ’ä»¶hookä¸€ä¸‹å¼€å‘é¢„è§ˆçš„èµ„æºåŠ è½½ï¼ˆè¿™æ˜¯æˆ‘é€‰æ‹©çš„åšæ³•ï¼‰ åŠ è½½å’Œè§£æå¤æ‚çš„èµ„æº(é¾™éª¨ã€å›¾é›†)CreatoråŠ è½½è¿œç¨‹çš„èµ„æºï¼Œåªèƒ½åŠ è½½å¹¶è§£æç®€å•çš„ æ¯”å¦‚éŸ³é¢‘ã€æ–‡æœ¬ã€jsonã€å›¾ç‰‡ ä½†æœ‰äº›èµ„æºæ˜¯ç»„åˆçš„ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ä¸‹è½½å¹¶ç»„è£… æ¯”å¦‚å›¾é›†ã€é¾™éª¨ã€spine å¥½åœ¨å®˜æ–¹æœ‰demoå’Œå‚è€ƒï¼Œä»¥åŠå¯ä»¥è°ƒè¯•æºç æ¥çœ‹å¦‚ä½•æ„å»ºé‚£äº›èµ„æºå¹¶æ˜¾ç¤º è¿™é‡Œæˆ‘å†™äº†ä¸€ä¸ªå¤–éƒ¨èµ„æºçš„åŠ è½½å’Œè§£æé€»è¾‘ï¼Œæ–¹ä¾¿åŠ è½½å’Œç»„è£…è¿™äº›ç»„åˆå‹èµ„æº æœ€ç»ˆæ•ˆæœæˆ‘ç”¨çš„æ˜¯æŸè¥¿æ¸¸é¡¹ç›®ï¼ŒçŸ¥é“çš„äººéƒ½çŸ¥é“ï¼Œæ‡‚çš„äººéƒ½æ‡‚ æˆ‘çš„ç”µè„‘é…ç½®: é‚£ä¸ªé¡¹ç›®çš„æƒ…å†µ å®ƒç»„ç»‡èµ„æºçš„æ–¹å¼æ¯”è¾ƒç²—æš´ å®ƒåœ¨å±•ç¤ºè§’è‰²çš„ç•Œé¢ç”¨é¾™éª¨ï¼Œåœ¨ä¸»åŸæˆ˜æ–—ä¸­ä½¿ç”¨åºåˆ—å¸§ å¤§æ¦‚æœ‰14000ä¸ªèµ„æºæ”¾åœ¨resourceï¼ŒåŠ ä¸Šmetaæ–‡ä»¶å°±çº¦28000ä¸ªæ–‡ä»¶ æ”¹é€ ä¹‹å å°†å¤§çº¦13000ä¸ªèµ„æºç§»åˆ°å¤–éƒ¨ å¼€å‘ä½“éªŒæ•°æ®æ²¡ä½¿ç”¨ä¹‹å‰ ç¬¬ä¸€æ¬¡10åˆ†14ç§’ ç¬¬äºŒæ¬¡2åˆ†52ç§’ ç¬¬ä¸‰æ¬¡2åˆ†53ç§’ ç¬¬å››æ¬¡2åˆ†42ç§’ æ’é™¤ç¬¬ä¸€æ¬¡ï¼šå¹³å‡169ç§’ ä½¿ç”¨æ’ä»¶å¹¶æ”¹é€ ä¹‹å ç¬¬ä¸€æ¬¡3åˆ†22ç§’ ç¬¬äºŒæ¬¡23ç§’ ç¬¬ä¸‰æ¬¡24ç§’ ç¬¬å››æ¬¡24ç§’ æ’é™¤ç¬¬ä¸€æ¬¡ï¼šå¹³å‡23.666ç§’ ç»Ÿè®¡æ¯”è¾ƒ ç¬¬ä¸€æ¬¡å¯åŠ¨æ‰“å¼€é€Ÿåº¦å¿«äº†3å€ ç¬¬ä¸€æ¬¡ä¹‹åçš„å¯åŠ¨é€Ÿåº¦å¿«äº†ä¸ƒå€ åˆ‡å›ç¼–è¾‘å™¨å¡é¡¿æ„Ÿæ˜æ˜¾å‡è½»å¾ˆå¤š é€‚é…æƒ…å†µ æ”¯æŒæ¨¡æ‹Ÿå™¨é¢„è§ˆ æ”¯æŒå¾®ä¿¡å°æ¸¸æˆ æ”¯æŒwebå‘å¸ƒ æ”¯æŒfairygui åç»­è®¡åˆ’ å®Œå–„runtime å®Œå–„æ’ä»¶ æœ€åä¸Šæµ‹è¯•è§†é¢‘ è§£å†³æ–¹æ¡ˆæµ‹è¯•è§†é¢‘ï¼šhttps://www.bilibili.com/video/av930007589 å¤§é¡¹ç›®æµ‹è¯•è§†é¢‘ï¼šhttps://www.bilibili.com/video/av672691395 å¦‚æœæƒ³è¦ä½“éªŒå’Œæµ‹è¯•æ¬¢è¿å…³æ³¨å…¬ä¼—å·å’ŒåŠ QQç¾¤äº¤æµï¼Œæµ‹è¯•é¡¹ç›®å°±æ”¾åœ¨Qç¾¤ ç¾¤é‡Œæœ‰ä¸ªå°ä¼™ä¼´è¯´ç”¨äº†ä¹‹åç§’å¼€ã€‚ã€‚ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¤¸å¼ ï¼Œä½†åº”è¯¥æ˜¯æœ‰æ•ˆæœçš„ã€‚ å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"åˆ†ç±»1","slug":"åˆ†ç±»1","permalink":"http://yoursite.com/categories/åˆ†ç±»1/"},{"name":"åˆ†ç±»2","slug":"åˆ†ç±»1/åˆ†ç±»2","permalink":"http://yoursite.com/categories/åˆ†ç±»1/åˆ†ç±»2/"}],"tags":[{"name":"æ ‡ç­¾1","slug":"æ ‡ç­¾1","permalink":"http://yoursite.com/tags/æ ‡ç­¾1/"},{"name":"æ ‡ç­¾2","slug":"æ ‡ç­¾2","permalink":"http://yoursite.com/tags/æ ‡ç­¾2/"}],"keywords":[{"name":"åˆ†ç±»1","slug":"åˆ†ç±»1","permalink":"http://yoursite.com/categories/åˆ†ç±»1/"},{"name":"åˆ†ç±»2","slug":"åˆ†ç±»1/åˆ†ç±»2","permalink":"http://yoursite.com/categories/åˆ†ç±»1/åˆ†ç±»2/"}]},{"title":"ä¸€èµ·èŠå¤©åƒç“œæ”¾çƒŸèŠ±-ä»¿å¾®ä¿¡èŠå¤©æ”¾çƒŸèŠ±æ•ˆæœ","slug":"ä¸€èµ·èŠå¤©åƒç“œæ”¾çƒŸèŠ±","date":"2021-01-17T13:29:02.000Z","updated":"2021-04-18T09:27:04.585Z","comments":false,"path":"2021/01/17/ä¸€èµ·èŠå¤©åƒç“œæ”¾çƒŸèŠ±/","link":"","permalink":"http://yoursite.com/2021/01/17/ä¸€èµ·èŠå¤©åƒç“œæ”¾çƒŸèŠ±/","excerpt":"","text":"æ‰“ä¸ªæ‹›å‘¼å¤§å®¶å¥½~ æ¸¸æˆå¼€å‘ä¹‹è·¯æœ‰è¶£ä½†ä¸æ˜“, ç©èµ·æ¥æ‰èƒ½ä¸€ç›´çƒ­æƒ…æ´‹æº¢ã€‚ æˆ‘æ˜¯å–œæ¬¢æ¸¸æˆå¼€å‘çš„æµ·æ½®ğŸ˜‰ å‰è¨€ç¤¾äº¤æ˜¯äººçš„åŸºæœ¬éœ€æ±‚ã€‚ äº’è”ç½‘æ—¶ä»£ï¼ŒåŸºäºäº’è”ç½‘çš„ç¤¾äº¤å¸¦ç»™ç½‘æ°‘ä»¬æ— ç©·çš„æ¬¢ä¹å’Œç“œã€‚ é‚£äº›èƒ½å¤Ÿå®æ—¶äº¤äº’çš„ç¤¾äº¤è½¯ä»¶/æ¸¸æˆï¼Œå¾€å¾€ä¼šå¸¦ç»™æˆ‘ä»¬æ›´å¤šæƒŠå–œã€‚ æœ€è¿‘å¾®ä¿¡æ›´æ–°äº†8.0ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨èŠå¤©çš„æ—¶å€™æ”¾ç‚¸å¼¹ï¼ŒçƒŸèŠ±ç­‰åŠ¨æ€è¡¨æƒ…ã€‚å¾ˆå¤šäººéƒ½ç©å¾—ä¸äº¦ä¹ä¹~ åœ¨è¿™ä¹‹å‰å‘¢ï¼Œæˆ‘çš„æ¡†æ¶ä»“åº“å¢åŠ äº†ä¸€ä¸ªç‹¬ç«‹çš„ç½‘ç»œæ¨¡å—ï¼Œå¯ä»¥ç”¨äºæ„å»ºé•¿è¿æ¥ç½‘ç»œæ¸¸æˆ/åº”ç”¨ã€‚ ç‰¹æ€§: è·¨å¹³å°:é€‚ç”¨äºä»»æ„ts/jsé¡¹ç›® çµæ´»ã€é«˜å¯æ‰©å±•:å¯ä»¥æ ¹æ®é¡¹ç›®éœ€è¦è¿›è¡Œå¤šå±‚æ¬¡å®šåˆ¶ é›¶ä¾èµ– å¼ºç±»å‹:åŸºäºTypeScript åŠŸèƒ½å¼ºå¤§:æä¾›å®Œæ•´çš„åŸºæœ¬éœ€æ±‚å®ç°(æ¶ˆæ¯å¤„ç†ã€æ¡æ‰‹ã€å¿ƒè·³ã€é‡è¿) å¯é :å®Œå–„çš„å•å…ƒæµ‹è¯• ä¼ é€é—¨:enet é‚£æ¥ä¸‹æ¥ï¼Œæˆ‘å¸¦å¤§å®¶å€ŸåŠ©enetåº“å®ç° ä¸€ä¸ªå¸¦çƒŸèŠ±æ•ˆæœçš„socket demo(è¶…ç®€å•ï¼Œä¸‰æ­¥å°±å¯ä»¥) ä¸€ä¸ªæ¥è¿‘çœŸå®ç½‘ç»œæ¸¸æˆå¼€å‘çš„å¤šäººèŠå¤©å®¤demo ç©èµ·æ¥~ æç®€èŠå¤©æ”¾çƒŸèŠ±ç¬¬ä¸€æ­¥:å¼•å…¥ç½‘ç»œåº“å¹¶åˆå§‹åŒ–enetè¿™ä¸ªåº“ï¼Œå‘å¸ƒäºnpmå…¬å…±ä»“åº“ä¸­ã€‚æä¾›å¤šç§è§„èŒƒï¼Œé€‚ç”¨äºä»»ä½•å¹³å°ã€‚ è¿™æ¬¡æˆ‘ä»¬ç›´æ¥é€šè¿‡urlå¼•å…¥iifeæ ¼å¼çš„js åˆ›å»ºhtmlæ–‡ä»¶,å¼•å…¥enetåº“ 1234567891011&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;div id=\"container\"&gt;&lt;/div&gt;&lt;script src=\"https://cdn.jsdelivr.net/npm/@ailhc/enet@1.0.0/dist/iife/lib/index.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; åˆå§‹åŒ–enet 1234567891011121314151617&lt;script&gt; var netNode = new enet.NetNode(); //å®šåˆ¶ç½‘ç»œäº‹ä»¶åé¦ˆé€»è¾‘ netNode.init(&#123; netEventHandler: &#123; //å¼€å§‹è¿æ¥äº‹ä»¶ onStartConnenct: () =&gt; &#123; console.log(`å¼€å§‹è¿æ¥æœåŠ¡å™¨`); &#125;, //è¿æ¥æˆåŠŸäº‹ä»¶ onConnectEnd: () =&gt; &#123; console.log(`è¿æ¥æœåŠ¡å™¨æˆåŠŸğŸ‘Œ`); &#125; &#125; &#125;); &lt;/script&gt; ç¬¬äºŒæ­¥: å†™ä¸Šæ”¶å‘æ¶ˆæ¯çš„é€»è¾‘å°±å‡ å¥ä»£ç ï¼Œso easy~1234567891011121314151617181920&lt;script&gt; //çœç•¥åˆå§‹åŒ–é€»è¾‘.. //è¿ä¸Šä¸€ä¸ªå…¬ç”¨çš„websocketæµ‹è¯•æœåŠ¡å™¨,å®ƒä¼šåŸæœ¬ä¸åŠ¨çš„è¿”å›å‘å‡ºçš„æ¶ˆæ¯ netNode.connect(\"wss://echo.websocket.org/\"); window.netNode = netNode; //å°è£…å‘é€æ¶ˆæ¯é€»è¾‘ï¼Œç›¸å½“äºå¾®ä¿¡å‘é€æŒ‰é’® window.sendMsgToServer = function (msg) &#123; if (!netNode.socket.isConnected) &#123; console.warn(`æœåŠ¡å™¨è¿˜æ²¡è¿ä¸Š`); return; &#125; netNode.notify(\"msg\", msg); &#125; //ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯è¿”å› netNode.onPush(\"msg\", function (dpkg) &#123; console.log(`æœåŠ¡å™¨è¿”å›:`, dpkg.data); &#125;) &lt;/script&gt; è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿è¡Œçœ‹çœ‹æ•ˆæœäº†ç­‰å¾…æœåŠ¡å™¨è¿æ¥æˆåŠŸï¼ˆå› ä¸ºé‚£ä¸ªå…¬ç”¨çš„æµ‹è¯•æœåŠ¡å™¨æœ‰æ—¶æ…¢æœ‰æ—¶å¿«ï¼‰ åœ¨æ§åˆ¶å°è¾“å…¥ sendMsgToServer(â€œhello enetâ€) ç¬¬ä¸‰æ­¥:åŠ ä¸ŠçƒŸèŠ±æ•ˆæœçƒŸèŠ±æ•ˆæœç½‘ä¸Šæ‰’æ¥çš„å¿«è¿‡å¹´äº†ï¼Œç”¨JSè®©ä½ çš„ç½‘é¡µæ”¾çƒŸèŠ±å§ åœ¨åŸæ¥çš„ä»£ç é‡Œæ”¹1234567891011121314151617&lt;script&gt; //çœç•¥ window.sendMsgToServer = function (msg) &#123; /**çœç•¥*/ checkAndFire(msg, true); &#125; netNode.onPush(\"msg\", function (dpkg) &#123; console.log(`æœåŠ¡å™¨è¿”å›:`, dpkg.data); checkAndFire(dpkg.data, false); &#125;) function checkAndFire(msg, left) &#123; if (msg.includes(\"çƒŸèŠ±\") | msg.includes(\"ğŸ‡\")) &#123; fire(window.innerWidth * (left ? 1 / 3 : 2 / 3), window.innerHeight / 2); &#125; &#125;&lt;/script&gt; è¿è¡Œèµ·æ¥ï¼Œçœ‹çœ‹æ•ˆæœ ç®€å•çš„ä»¿å¾®ä¿¡èŠå¤©æ”¾çƒŸèŠ±å°±è¿™æ ·äº† åœ¨çº¿demo æºç  æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æä¸ªå¤§çš„ã€‚ å¤šäººèŠå¤©æ”¾çƒŸèŠ±åœ¨å®é™…çš„ç½‘ç»œåº”ç”¨å¼€å‘ä¸­ï¼Œç½‘ç»œé€šä¿¡çš„éœ€æ±‚ä¼šå¤æ‚è®¸å¤šã€‚ å¯èƒ½ä¼šä½¿ç”¨åè®®åŒ…è£…é€šä¿¡æ•°æ®è¿›è¡Œä¼ è¾“ å¯èƒ½ä¼šå¯¹é€šä¿¡æ•°æ®è¿›è¡ŒåŠ å¯† å¯èƒ½ä¼šä½¿ç”¨ç‰¹æ®Šçš„socket(socket.io)ï¼Œç”šè‡³å®šåˆ¶socket å¿ƒè·³å¤„ç† æ¡æ‰‹å¤„ç† æ–­çº¿é‡è¿å¤„ç† enetæ¨¡å—å¯¹ä¸Šè¿°æƒ…å†µéƒ½è¿›è¡Œäº†å°è£…ï¼Œåªéœ€è¦æ ¹æ®æä¾›çš„æ¥å£è¿›è¡Œå®ç°å°±å¯(æ— éœ€æ”¹æºç ) åœ¨è¿™ä¸ªå¤šäººèŠå¤©å®¤demoä¸­ï¼Œæˆ‘å°†ä½¿ç”¨protobufä½œä¸ºé€šä¿¡åè®®ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨protobufï¼Ÿä»€ä¹ˆæ˜¯protobuf protobuf(Google Protocol Buffers)æ˜¯Googleæä¾›ä¸€ä¸ªå…·æœ‰é«˜æ•ˆçš„åè®®æ•°æ®äº¤æ¢æ ¼å¼å·¥å…·åº“(ç±»ä¼¼Json)ï¼Œä½†ç›¸æ¯”äºJsonï¼ŒProtobufæœ‰æ›´é«˜çš„è½¬åŒ–æ•ˆç‡ï¼Œæ—¶é—´æ•ˆç‡å’Œç©ºé—´æ•ˆç‡éƒ½æ˜¯JSONçš„3-5å€ã€‚ protobufæä¾›äº†å¤šç§ç¼–ç¨‹è¯­è¨€çš„æ”¯æŒï¼šC++ï¼ŒJAVAï¼ŒPythonï¼ŒC#ï¼Œerlangç­‰ ä¼˜åŠ¿ å¯ä»¥å¿«é€Ÿç©èµ·æ¥ï¼Œç»Ÿä¸€çš„åè®®è¯­è¨€å¯ä»¥å’Œå¤šç§åç«¯è¯­è¨€å¿«ä¹åœ°ç©èµ·æ¥ï¼Œç”šè‡³å¤šäººsportğŸ¤ªğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¿ğŸ‘¬ğŸ‘¨ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¼ ä¸ç”¨è‡ªå·±è®¾è®¡åè®®å’Œå®ç°åè®®ç¼–è§£ç  ğŸ‘€æ¥çœ‹çœ‹å¦‚ä½•æ¥å…¥protobuf ä½¿ç”¨protobufè™½ç„¶ä¸ç”¨è‡ªå·±è®¾è®¡åè®®ï¼Œä½†æ€ä¹ˆæ¥å…¥å¼€å‘ä¸­è¿˜æ˜¯éœ€è¦æ»´ å¸¸è§çš„protobufä½¿ç”¨æ–¹å¼ ä½¿ç”¨protobufjsåº“åŠ è½½protoæ–‡ä»¶ï¼Œç„¶åè¿›è¡Œåè®®ç¼–ç è§£ç  ä½¿ç”¨protobufå·¥å…·å°†protoæ–‡ä»¶è½¬æˆjsæ–‡ä»¶+.d.tså£°æ˜æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®ä¸­åŒæ—¶å¼•å…¥protobufåº“å’Œå¯¼å‡ºçš„jsæ–‡ä»¶å°±å¯ æˆ‘è¿™é‡Œé€‰æ‹©ç¬¬äºŒç§æ–¹æ¡ˆ ä¼˜ç‚¹:ä½¿ç”¨æ–¹ä¾¿ï¼Œé€‚ç”¨äºå¤šç§ç¯å¢ƒï¼Œæœ‰ç±»å‹å£°æ˜ ç¼ºç‚¹: ä¼šä½¿jsåŒ…ä½“å¤§äº›ã€‚ ä¸ºäº†æ–¹ä¾¿åè®®çš„å¯¼å‡ºï¼Œæˆ‘ç”¨è‡ªå·±å¼€å‘çš„ä¸€ä¸ªprotobufå·¥å…·:egf-protobuf å®‰è£…å·¥å…·åˆ°å…¨å±€æˆ–è€…é¡¹ç›®ç›®å½• 123npm install egf-protobuf -gæˆ–è€…npm install -S egf-protobuf åœ¨package.jsonå†™ä¸€ä¸‹npm script 1234\"scripts\": &#123; \"genPb\": \"egf-pb g\", \"pbInit\": \"egf-pb i\"&#125; åˆå§‹åŒ–é¡¹ç›® npm run pbInit åˆ›å»ºprotoæ–‡ä»¶ç›®å½•protofiles å†™åè®® pb_base.proto 12345678910111213141516171819202122232425262728293031323334353637package pb_test;message User &#123; required uint32 uid = 1; required string name = 2;&#125; //ç™»å½•è¯·æ±‚message Cs_Login &#123; required string name = 1;&#125;//ç™»å½•è¿”å›message Sc_Login &#123; required uint32 uid = 1; repeated User users = 2;&#125; //ç”¨æˆ·è¿›æ¥æ¨é€message Sc_userEnter &#123; required User user = 1;&#125; //ç”¨æˆ·ç¦»å¼€æ¨é€message Sc_userLeave &#123; required uint32 uid = 2;&#125;//æ¶ˆæ¯ç»“æ„ message ChatMsg &#123; required uint32 uid = 1; required string msg = 2;&#125;//å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯message Cs_SendMsg &#123; required ChatMsg msg = 1;&#125;//æœåŠ¡å™¨æ¨é€æ¶ˆæ¯message Sc_Msg &#123; required ChatMsg msg =1;&#125; ä¿®æ”¹ä¸€ä¸‹å¯¼å‡ºé…ç½®protobuf/epbconfig.js 12345678/**.proto æ–‡ä»¶å¤¹è·¯å¾„ */sourceRoot: \"protofiles\",//æŒ‡å‘åˆ›å»ºçš„protoæ–‡ä»¶ç›®å½•/**è¾“å‡ºjsæ–‡ä»¶å */outFileName: \"proto_bundle\",/**ç”Ÿæˆjsçš„è¾“å‡ºè·¯å¾„ */outputDir: \"egf-ccc-net-ws/assets/protojs\",//å®¢æˆ·ç«¯jsæ–‡ä»¶è¾“å‡ºç›®å½•/**å£°æ˜æ–‡ä»¶è¾“å‡ºè·¯å¾„ */dtsOutDir: \"egf-ccc-net-ws/libs\",//å®¢æˆ·ç«¯å£°æ˜æ–‡ä»¶è¾“å‡ºç›®å½• ps:ç”±äºåç«¯ç”¨tsï¼Œæ‰€ä»¥ä¹Ÿé…ç½®äº†åç«¯æ–‡ä»¶å¯¼å‡ºè·¯å¾„(å‰åç«¯åŒæ—¶å¯¼å‡º=åŒå€çš„å¿«ä¹ğŸ¤ğŸ»âœŒğŸ») 12345678910/**æœåŠ¡ç«¯è¾“å‡ºé…ç½® */serverOutputConfig: &#123; /**protobufjsåº“è¾“å‡ºç›®å½• */ pbjsLibDir: \"egf-net-ws-server/libs\", /**ç”Ÿæˆçš„proto jsæ–‡ä»¶è¾“å‡º */ pbjsOutDir: \"egf-net-ws-server/protojs\", /**å£°æ˜æ–‡ä»¶è¾“å‡ºè·¯å¾„ */dtsOutDir: \"egf-net-ws-server/libs\" &#125; å¯¼å‡ºjså’Œ.d.ts 1npm run genPb é¡¹ç›®ä¸­å¼•å…¥protobufjsåº“å’Œproto_bundle.js CocosCreatoréœ€è¦å°†å®ƒä»¬è®¾ç½®ä¸ºæ’ä»¶ nodejsé¡¹ç›®ï¼Œéœ€è¦ä½¿ç”¨requireåŠ è½½å®ƒä»¬12require(\"../libs/protobuf.js\");require(\"../protojs/proto_bundle.js\"); è¿™æ ·å°±å¯ä»¥åœ¨ä¸šåŠ¡é‡Œæ„‰å¿«åœ°ä½¿ç”¨protobufæ¥è¿›è¡Œåè®®çš„ç¼–ç è§£ç äº† 12345//ç¼–ç const uint8arr = pb_test.ChatMsg.encode(&#123; msg: \"hello world\", uid: 1 &#125;).finish();//è§£ç const msg: pb_test.IChatMsg = pb_test.ChatMsg.decode(uint8arr);//ç»“æœ: &#123; msg: \"hello world\", uid: 1 &#125; å°†enetå’Œprotobufç»“åˆèµ·æ¥enetä¸­å¦‚æœéœ€è¦è‡ªå®šä¹‰åè®®å¤„ç†åˆ™éœ€è¦å®ç°enet.IProtoHandleræ¥å£ 12345678910111213141516171819202122232425262728interface IProtoHandler&lt;ProtoKeyType = any&gt; &#123; /** * åè®®keyè½¬å­—ç¬¦ä¸²key * @param protoKey */ protoKey2Key(protoKey: ProtoKeyType): string; /** * ç¼–ç æ•°æ®åŒ… * @param pkg * @param useCrypto æ˜¯å¦åŠ å¯† */ encodePkg&lt;T&gt;(pkg: enet.IPackage&lt;T&gt;, useCrypto?: boolean): NetData; /** * ç¼–ç æ¶ˆæ¯æ•°æ®åŒ… * @param msg æ¶ˆæ¯åŒ… * @param useCrypto æ˜¯å¦åŠ å¯† */ encodeMsg&lt;T&gt;(msg: enet.IMessage&lt;T, ProtoKeyType&gt;, useCrypto?: boolean): NetData; /** * è§£ç ç½‘ç»œæ•°æ®åŒ…ï¼Œ * @param data */ decodePkg&lt;T&gt;(data: NetData): IDecodePackage&lt;T&gt;; /** * å¿ƒè·³é…ç½® */ heartbeatConfig: enet.IHeartBeatConfig;&#125; ä¸¾ä¸ªæ —å­ğŸŒ° æˆ‘éœ€è¦ä½¿ç”¨protobufåè®®è¿›è¡Œé€šä¿¡ é‚£æˆ‘å°±å®ç°æ¥å£å†™ä¸€ä¸ªprotobufåè®®å¤„ç†å™¨ã€‚ æ¯”å¦‚:egf-pbws ç®€å•ä¸¤æ­¥ç”¨èµ·æ¥(â˜ï¾Ÿãƒ®ï¾Ÿ)â˜ å®‰è£…egf-pbws 1npm i egf-pbws å’Œenetç»“åˆ12345678910import &#123; NetNode &#125; from \"@ailhc/enet\";import &#123; PbProtoHandler &#125; from \"@ailhc/enet-pbws\"; const netMgr = new NetNode&lt;string&gt;();this._net = netMgr;//å°†åè®®ç¼–è§£ç å¯¹è±¡æ³¨å…¥ æˆ‘è¿™é‡Œæ˜¯pb_testconst protoHandler = new PbProtoHandler(pb_test);netMgr.init(&#123; netEventHandler: this, protoHandler: protoHandler &#125;) å‡†å¤‡å·¥ä½œåšå¥½äº†ï¼Œå¼€å§‹å†™å®¢æˆ·ç«¯ CocosCreator2.4.2å®ç°å¤šäººèŠå¤©å®¢æˆ·ç«¯è¿™ä¸ªå®¢æˆ·ç«¯é¡¹ç›®ä¸­å†™äº†3ä¸ªä¾‹å­ testcases/websocket-test çº¯ä½¿ç”¨websocket+æ§åˆ¶å°æ‰“å°çš„æ–¹å¼çš„ä¾‹å­ testcases/simple-test enetç®€å•ä½¿ç”¨ç‰ˆæœ¬ï¼Œæ²¡å¯¹åè®®å±‚è¿›è¡Œå®šåˆ¶ testcases/protobuf-test protobufåè®®å®šåˆ¶ç‰ˆ(ä»Šå¤©çš„ä¸»è§’) ç”±äºç¯‡å¹…æœ‰é™ï¼ŒUIç»„ä»¶çš„å®ç°å°±ä¸è®²äº†ï¼Œéƒ½æ˜¯å¾ˆç®€å•çš„å®ç°ï¼Œå…·ä½“å¯ä»¥ç›´æ¥çœ‹æºç  ä¼ é€é—¨:èŠå¤©å®¢æˆ·ç«¯å®ç° æ ¸å¿ƒé€»è¾‘å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185const &#123; ccclass, property &#125; = cc._decorator;import &#123; NetNode &#125; from \"@ailhc/enet\";import &#123; PbProtoHandler &#125; from \"@ailhc/enet-pbws\";import MsgPanel from \"../../comps/msgPanel/MsgPanel\";@ccclassexport default class ProtobufNetTest extends cc.Component implements enet.INetEventHandler &#123; //çœç•¥ private _uid: number; userMap: &#123; [key: number]: string &#125; = &#123;&#125;; private _userName: string; onLoad() &#123; const netMgr = new NetNode&lt;string&gt;(); this._net = netMgr; const protoHandler = new PbProtoHandler(pb_test); netMgr.init(&#123; netEventHandler: this, protoHandler: protoHandler &#125;) //ç›‘å¬æ¶ˆæ¯æ¨é€ netMgr.onPush&lt;pb_test.ISc_Msg&gt;(\"Sc_Msg\", &#123; method: this.onMsgPush, context: this &#125;); //ç›‘å¬ç”¨æˆ·è¿›æ¥ netMgr.onPush&lt;pb_test.ISc_userEnter&gt;(\"Sc_userEnter\", &#123; method: this.onUserEnter, context: this &#125;); //ç›‘å¬ç”¨æˆ·ç¦»å¼€ netMgr.onPush&lt;pb_test.ISc_userLeave&gt;(\"Sc_userLeave\", &#123; method: this.onUserLeave, context: this &#125;); &#125; /** * è¿æ¥æœåŠ¡å™¨ */ connectSvr() &#123; this._net.connect(\"ws://localhost:8181\"); &#125; /** * ç™»å½•æœåŠ¡å™¨ */ loginSvr() &#123; let nameStr = this.nameInputEdit.string; if (!nameStr || !nameStr.length) &#123; nameStr = \"User\"; &#125; this._net.request&lt;pb_test.ICs_Login, pb_test.ISc_Login&gt;(\"Cs_Login\", &#123; name: nameStr &#125;, (dpkg) =&gt; &#123; if (!dpkg.errorMsg) &#123; this._userName = nameStr; this._uid = dpkg.data.uid; const users = dpkg.data.users; if (users &amp;&amp; users.length) &#123; for (let i = 0; i &lt; users.length; i++) &#123; const user = users[i]; this.userMap[user.uid] = user.name; &#125; &#125; this.hideLoginPanel(); this.showChatPanel(); &#125; &#125;) &#125; /** * å‘é€æ¶ˆæ¯ */ sendMsg() &#123; const msg = this.msgInputEdit.string; if (!msg) &#123; console.error(`è¯·è¾“å…¥æ¶ˆæ¯æ–‡æœ¬`) return; &#125; this.msgInputEdit.string = \"\"; this._net.notify&lt;pb_test.ICs_SendMsg&gt;(\"Cs_SendMsg\", &#123; msg: &#123; uid: this._uid, msg: msg &#125; &#125;) &#125; //ç”¨æˆ·è¿›æ¥å¤„ç† onUserEnter(dpkg: enet.IDecodePackage&lt;pb_test.ISc_userEnter&gt;) &#123; if (!dpkg.errorMsg) &#123; const enterUser = dpkg.data.user; this.userMap[enterUser.uid] = enterUser.name; this.msgPanelComp.addMsg(&#123; name: \"ç³»ç»Ÿ\", msg: `[$&#123;enterUser.name&#125;]è¿›æ¥äº†` &#125;); &#125; else &#123; console.error(dpkg.errorMsg); &#125; &#125; //ç”¨æˆ·ç¦»å¼€å¤„ç† onUserLeave(dpkg: enet.IDecodePackage&lt;pb_test.ISc_userLeave&gt;) &#123; if (!dpkg.errorMsg) &#123; if (this.userMap[dpkg.data.uid]) &#123; const leaveUserName = this.userMap[dpkg.data.uid]; this.msgPanelComp.addMsg(&#123; name: \"ç³»ç»Ÿ\", msg: `[$&#123;leaveUserName&#125;]ç¦»å¼€äº†` &#125;); delete this.userMap[dpkg.data.uid]; &#125; &#125; else &#123; console.error(dpkg.errorMsg); &#125; &#125; //æ¶ˆæ¯ä¸‹å‘å¤„ç† onMsgPush(dpkg: enet.IDecodePackage&lt;pb_test.ISc_Msg&gt;) &#123; if (!dpkg.errorMsg) &#123; const svrMsg = dpkg.data.msg; let userName: string; let isSelf: boolean; if (this._uid === svrMsg.uid) &#123; userName = \"æˆ‘\"; isSelf = true; &#125; else if (this.userMap[svrMsg.uid]) &#123; userName = this.userMap[svrMsg.uid]; &#125; else &#123; console.error(`æ²¡æœ‰è¿™ä¸ªç”¨æˆ·:$&#123;svrMsg.uid&#125;`) &#125; if (userName) &#123; const msgData = &#123; name: userName, msg: svrMsg.msg &#125; //åˆ¤æ–­æ˜¯å¦æ”¾çƒŸèŠ± this.checkAndFire(svrMsg.msg, isSelf); this.msgPanelComp.addMsg(msgData); &#125; &#125; else &#123; console.error(dpkg.errorMsg); &#125; &#125; //#region é®ç½©æç¤ºé¢æ¿ public showMaskPanel() &#123; if (!this.maskPanel.active) this.maskPanel.active = true; if (!isNaN(this._hideMaskTimeId)) &#123; clearTimeout(this._hideMaskTimeId); &#125; &#125; public updateMaskPanelTips(tips: string) &#123; this.maskTips.string = tips; &#125; private _hideMaskTimeId: number; public hideMaskPanel() &#123; this._hideMaskTimeId = setTimeout(() =&gt; &#123; this.maskPanel.active = false; &#125;, 1000) as any; &#125; //#endregion //#region è¿æ¥é¢æ¿ showConnectPanel() &#123; this.connectPanel.active = true; &#125; hideConnectPanel() &#123; this.connectPanel.active = false; &#125; //#endregion //#region ç™»å½•é¢æ¿ showLoginPanel() &#123; this.loginPanel.active = true; &#125; hideLoginPanel() &#123; this.loginPanel.active = false; &#125; //#endregion //#region èŠå¤©é¢æ¿ showChatPanel() &#123; this.chatPanel.active = true; &#125; hideChatPanel() &#123; this.chatPanel.active = false; &#125; //#endregion onStartConnenct?(connectOpt: enet.IConnectOptions&lt;any&gt;): void &#123; this.showMaskPanel() this.updateMaskPanelTips(\"è¿æ¥æœåŠ¡å™¨ä¸­\"); &#125; onConnectEnd?(connectOpt: enet.IConnectOptions&lt;any&gt;): void &#123; this.updateMaskPanelTips(\"è¿æ¥æœåŠ¡å™¨æˆåŠŸ\"); this.hideMaskPanel(); this.showLoginPanel(); &#125; //åˆ¤æ–­å¹¶æ”¾çƒŸèŠ± checkAndFire(msg: string, left: boolean) &#123; if (msg.includes(\"çƒŸèŠ±\") || msg.includes(\"ğŸ‡\")) &#123; window.fire(window.innerWidth * 1 / 2 + (left ? -100 : 100), window.innerHeight / 2); &#125; &#125; //çœç•¥ã€‚ã€‚ã€‚ &#125; çƒŸèŠ±æ•ˆæœä»£ç å®ç° 12345678910111213141516171819202122232425262728293031//çƒŸèŠ±ä»£ç ,ç¨å¾®ä¿®æ”¹ä¸€ä¸‹(function () &#123; var cdom = document.createElement(\"canvas\"); cdom.id = \"myCanvas\"; cdom.style.position = \"fixed\"; cdom.style.left = \"0\"; cdom.style.top = \"0\"; cdom.style.zIndex = 1; document.body.appendChild(cdom); var canvas = document.getElementById('myCanvas'); var context = canvas.getContext('2d'); cdom.style.background = \"rgba(255,255,255,0)\"//èƒŒæ™¯é€æ˜ cdom.style.pointerEvents = \"none\";//è®©è¿™ä¸ªcanvasçš„ç‚¹å‡»ç©¿é€ function resizeCanvas() &#123; canvas.width = window.innerWidth; canvas.height = window.innerHeight; &#125; window.addEventListener('resize', resizeCanvas, false); resizeCanvas(); clearCanvas(); function clearCanvas() &#123; // context.fillStyle = '#000000'; // context.fillRect(0, 0, canvas.width, canvas.height); &#125; var rid; window.fire = function fire(x, y) &#123; createFireworks(x, y); function tick() &#123; context.globalCompositeOperation = 'destination-out'; context.fillStyle = 'rgba(0,0,0,' + 10 / 100 + ')'; context.fillRect(0, 0, canvas.width, canvas.height); context.globalCompositeOperation = 'lighter'; drawFireworks(); rid = requestAnimationFrame(tick); &#125; cancelAnimationFrame(rid); tick(); &#125; var particles = []; function createFireworks(sx, sy) &#123; particles = []; var hue = Math.floor(Math.random() * 51) + 150; var hueVariance = 30; var count = 100; for (var i = 0; i &lt; count; i++) &#123; var p = &#123;&#125;; var angle = Math.floor(Math.random() * 360); p.radians = angle * Math.PI / 180; p.x = sx; p.y = sy; p.speed = (Math.random() * 5) + .4; p.radius = p.speed; p.size = Math.floor(Math.random() * 3) + 1; p.hue = Math.floor(Math.random() * ((hue + hueVariance) - (hue - hueVariance))) + (hue - hueVariance); p.brightness = Math.floor(Math.random() * 31) + 50; p.alpha = (Math.floor(Math.random() * 61) + 40) / 100; particles.push(p); &#125; &#125; function drawFireworks() &#123; clearCanvas(); for (var i = 0; i &lt; particles.length; i++) &#123; var p = particles[i]; var vx = Math.cos(p.radians) * p.radius; var vy = Math.sin(p.radians) * p.radius + 0.4; p.x += vx; p.y += vy; p.radius *= 1 - p.speed / 100; p.alpha -= 0.005; context.beginPath(); context.arc(p.x, p.y, p.size, 0, Math.PI * 2, false); context.closePath(); context.fillStyle = 'hsla(' + p.hue + ', 100%, ' + p.brightness + '%, ' + p.alpha + ')'; context.fill(); &#125; &#125; // document.addEventListener('mousedown', mouseDownHandler, false);&#125;)(); ç•Œé¢æ•ˆæœå›¾ node+TypeScriptå®ç°ç®€æ˜“åç«¯æˆ‘æœ€ç†Ÿæ‚‰nodeï¼Œè€Œä¸”å¯ä»¥å…±ç”¨enet-pbwsçš„è¿™ä¸ªprotobufåè®®å¤„ç†åº“ å°±å‡ è¡Œä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111import WebSocket = require(\"ws\")import config from \"./config\";import &#123; PackageType, PbProtoHandler &#125; from \"@ailhc/enet-pbws\";//å¼•å…¥protobufåº“require(\"../libs/protobuf.js\");//å¼•å…¥è½¬è¯‘åçš„protojsæ–‡ä»¶require(\"../protojs/proto_bundle.js\");import &#123; &#125; from \"@ailhc/enet\"export class App &#123; private _svr: WebSocket.Server; private _clientMap: Map&lt;number, ClientAgent&gt;; private _uid: number = 1; public protoHandler: PbProtoHandler; constructor() &#123; this.protoHandler = new PbProtoHandler(global.pb_test) const wsvr = new WebSocket.Server(&#123; port: config.port &#125;); this._svr = wsvr; this._clientMap = new Map(); wsvr.on('connection', (clientWs) =&gt; &#123; console.log('client connected'); this._clientMap.set(this._uid, new ClientAgent(this, this._uid, clientWs)); this._uid++; &#125;); wsvr.on(\"close\", () =&gt; &#123; &#125;); console.log(`æœåŠ¡å™¨å¯åŠ¨:ç›‘å¬ç«¯å£:$&#123;config.port&#125;`); &#125; sendToAllClient(data: enet.NetData) &#123; this._clientMap.forEach((client) =&gt; &#123; client.ws.send(data); &#125;) &#125; sendToOhterClient(uid: number, data: enet.NetData) &#123; this._clientMap.forEach((client) =&gt; &#123; if (client.uid !== uid) &#123; client.ws.send(data); &#125; &#125;) &#125; sendToClient(uid: number, data: enet.NetData) &#123; const client = this._clientMap.get(uid); client.ws.send(data); &#125; onUserLogin(user: pb_test.IUser, reqId: number) &#123; const users: pb_test.IUser[] = []; const encodeData = this.protoHandler.encodeMsg&lt;pb_test.Sc_Login&gt;(&#123; key: \"Sc_Login\", data: &#123; uid: user.uid, users: users &#125;, reqId: reqId &#125;); this.sendToClient(user.uid, encodeData); const enterEncodeData = this.protoHandler.encodeMsg&lt;pb_test.Sc_userEnter&gt;(&#123; key: \"Sc_userEnter\", data: &#123; user: user &#125; &#125;) this.sendToOhterClient(user.uid, enterEncodeData); &#125;&#125;//å®¢æˆ·ç«¯ä»£ç†export class ClientAgent &#123; private loginData: pb_test.ICs_Login; constructor(public app: App, public uid: number, public ws: WebSocket) &#123; ws.on('message', this.onMessage.bind(this)); ws.on(\"close\", this.onClose.bind(this)); ws.on(\"error\", this.onError.bind(this)); &#125; public get user(): pb_test.IUser &#123; return &#123; uid: this.uid, name: this.loginData.name &#125;; &#125; private onMessage(message) &#123; if (typeof message === \"string\") &#123; //TODO å­—ç¬¦ä¸²å¤„ç† &#125; else &#123; //protobufå¤„ç† const dpkg = this.app.protoHandler.decodePkg(message); if (dpkg.errorMsg) &#123; console.error(`è§£æå®¢æˆ·ç«¯uid:$&#123;this.uid&#125;æ¶ˆæ¯é”™è¯¯:`, dpkg.errorMsg); return; &#125; if (dpkg.type === PackageType.DATA) &#123; this[dpkg.key] &amp;&amp; this[dpkg.key](dpkg) &#125; &#125; &#125; private Cs_Login(dpkg: enet.IDecodePackage&lt;pb_test.Cs_Login&gt;) &#123; this.loginData = dpkg.data; this.app.onUserLogin(this.user, dpkg.reqId); &#125; private Cs_SendMsg(dpkg: enet.IDecodePackage&lt;pb_test.Cs_SendMsg&gt;) &#123; const encodeData = this.app.protoHandler.encodeMsg&lt;pb_test.Sc_Msg&gt;(&#123; key: \"Sc_Msg\", data: dpkg.data &#125;); this.app.sendToAllClient(encodeData); &#125; private onError(err: Error) &#123; console.error(err); &#125; private onClose(code: number, reason: string) &#123; console.error(`$&#123;this.uid&#125; æ–­å¼€è¿æ¥:code$&#123;code&#125;,reason:$&#123;reason&#125;`); const leaveEncodeData = this.app.protoHandler.encodeMsg&lt;pb_test.Sc_userLeave&gt;(&#123; key: \"Sc_userLeave\", data: &#123; uid: this.uid &#125; &#125;) this.app.sendToOhterClient(this.uid, leaveEncodeData); &#125;&#125;(new App()) å¼€å¯å¤šäººSportèŠå¤©å¯åŠ¨é¡¹ç›® åˆå§‹åŒ–é¡¹ç›® åœ¨/examples/egf-net-wsç›®å½•ï¼Œæ‰“å¼€ç»ˆç«¯ 1npm install å¦‚æœæœ‰yarnåˆ™å¯ä»¥ 1yarn install å¯åŠ¨æœåŠ¡å™¨(è¿˜æ˜¯åœ¨åˆšåˆšçš„ç›®å½•ä¸‹) 1npm run star-svr æˆ–è€… npm run dev_svr æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ: 1æœåŠ¡å™¨å¯åŠ¨:ç›‘å¬ç«¯å£:8181 å¯åŠ¨å®¢æˆ·ç«¯:ç”¨CocosCreator2.4.2æ‰“å¼€é¡¹ç›® æœ€ç»ˆæ•ˆæœ ä¸€èµ·èŠå¤©æ”¾çƒŸèŠ± æ€»ç»“ ç¬¬ä¸€ä¸ªdemoï¼Œå€ŸåŠ©eneté€šè¿‡ç®€å•çš„å‡ å¥ä»£ç å°±å¯ä»¥å®ç°socketæ”¶å‘æ¶ˆæ¯ ç¬¬äºŒä¸ªdemoï¼Œå€ŸåŠ©enetä»¥åŠegf-protobufå’Œenet-pbwså¯è½»æ¾å®ç°åŸºäºprotobufåè®®çš„å¤šäººèŠå¤©å®¤åº”ç”¨ ç”±äºç¯‡å¹…æœ‰é™ï¼Œæœ‰äº›åŠŸèƒ½æ²¡æœ‰è®²åˆ° è‡ªå®šä¹‰æ¡æ‰‹å¤„ç† è‡ªå®šä¹‰socketå±‚ è‡ªå®šä¹‰ç½‘ç»œåé¦ˆå±‚(æ¯”å¦‚ï¼šå‘é€è¯·æ±‚å°±å¼¹å‡ºè¯·æ±‚ä¸­é®ç½©ï¼Œè¯·æ±‚ç»“æŸè‡ªåŠ¨å…³é—­é®ç½©ç­‰) å¿ƒè·³å¤„ç† é‡è¿å¤„ç† åç»­å°†åˆ†äº«ä¸€ä¸‹ï¼Œå¦‚ä½•è®¾è®¡enet æœ€åæˆ‘æ˜¯å–œæ¬¢æ¸¸æˆå¼€å‘çš„æµ·æ½®ğŸ˜‰ æŒç»­å­¦ä¹ ï¼ŒæŒç»­upï¼Œåˆ†äº«æ¸¸æˆå¼€å‘å¿ƒå¾—ï¼Œç©è½¬æ¸¸æˆå¼€å‘ æ¸¸æˆå¼€å‘ä¹‹è·¯æœ‰è¶£ä½†ä¸æ˜“, ç©èµ·æ¥æ‰èƒ½ä¸€ç›´çƒ­æƒ…æ´‹æº¢ã€‚ æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/categories/EasyGameFramework/"},{"name":"æƒ³æ³•æµæ°´","slug":"EasyGameFramework/æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/categories/EasyGameFramework/æƒ³æ³•æµæ°´/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"Discussion","slug":"Discussion","permalink":"http://yoursite.com/tags/Discussion/"},{"name":"enet","slug":"enet","permalink":"http://yoursite.com/tags/enet/"}],"keywords":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/categories/EasyGameFramework/"},{"name":"æƒ³æ³•æµæ°´","slug":"EasyGameFramework/æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/categories/EasyGameFramework/æƒ³æ³•æµæ°´/"}]},{"title":"æˆ‘çš„2020","slug":"æˆ‘çš„2020","date":"2020-12-31T15:37:00.000Z","updated":"2021-01-17T14:59:42.158Z","comments":false,"path":"2020/12/31/æˆ‘çš„2020/","link":"","permalink":"http://yoursite.com/2020/12/31/æˆ‘çš„2020/","excerpt":"","text":"å¼‚ä¹å¯»å¸¸çš„ä¸€å¹´å› ä¸ºç–«æƒ…ï¼Œè¿™ä¸€å¹´å˜å¾—å¼‚ä¹å¯»å¸¸ã€‚æ²¡æœ‰ä»»ä½•æ—¶å€™ï¼Œæ¯”ç–«æƒ…çš„æ—¶å€™æ„Ÿåˆ°æ´»ç€ä¸æ˜“ã€‚ æ‰€ä»¥2020è¿™ä¸€å¹´ï¼Œæˆ‘å¸Œæœ›å¥½å¥½æ´»ç€ã€‚ å¥½å¥½çš„æ´»ç€ï¼Œæ¯”ä»€ä¹ˆéƒ½å¥½ã€‚ å¸Œæœ›é¡¹ç›®èƒ½å¤ŸæˆåŠŸä»æ¯•ä¸šåˆ°ç°åœ¨å·²ç»2å¹´åŠäº†ï¼Œç¬¬ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªç”¨Layaåšçš„3Då¡ç‰ŒH5é¡¹ç›®ï¼Œæˆ‘åŠè·¯æ¥æ‰‹ï¼Œå’Œå°ä¼™ä¼´ä»¬å€¾æ³¨å…¨åŠ›ï¼Œæœ€ç»ˆè¿˜æ˜¯è¢«ç æ‰äº†ã€‚ ç¬¬äºŒä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªç”¨Layaåšçš„æŒ‚æœº3drpgï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å‚ä¸åšè¿™ä¹ˆå¤æ‚åºå¤§çš„é¡¹ç›®ï¼Œå¾ˆç´¯ä½†å¾ˆæœ‰æˆå°±æ„Ÿã€‚å¹¸äºæœ‰é¡¹ç›®ç»„çš„å°ä¼™ä¼´ä»¬çš„ä¸€èµ·åŠªåŠ›ï¼Œæ‰èƒ½æœ‰è¿™æ ·çš„æˆæœï¼š æœ‰å…¬å¸ç­¾äº†ï¼Œä¹Ÿå‡†å¤‡ä¸Šçº¿äº†ã€‚ å¸Œæœ›å®ƒèƒ½æˆåŠŸä¸Šçº¿ï¼Œå¤§èµšã€‚ ç¬¬ä¸‰ä¸ªé¡¹ç›®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ç°åœ¨åšçš„é¡¹ç›®ï¼Œä¸€ä¸ª3då¡ç‰ŒH5é¡¹ç›®ï¼Œæ˜¯çš„åˆå›åˆ°äº†åšå¡ç‰Œã€‚æˆ‘å·²ç»åŠ å…¥è¿™ä¸ªé¡¹ç›®åŠå¹´äº†ï¼Œæˆ‘æ˜¯ä¸­é€”åŠ å…¥çš„ï¼Œä¹‹å‰ä»–ä»¬åšäº†æˆ˜æ–—demoã€‚ ç»è¿‡å¤§å®¶çš„å…­ä¸ªæœˆçš„åŠªåŠ›ï¼Œç°åœ¨å®ƒå·²ç»æœ‰ç‚¹åƒæ ·äº†ï¼Œå¹´å‰åº”è¯¥æœ‰ä¸ªæµ‹è¯•ç‰ˆæœ¬è¦ä¸Šçº¿å§ã€‚ å¸Œæœ›èƒ½é¡ºåˆ©åšå®Œä¸Šçº¿ï¼Œå¤§èµšã€‚ æœ‰æ‰€æ”¶è·åšé¡¹ç›®è¿™ä¹ˆä¹…äº†ï¼Œå…¶å®å¾ˆç´¯ï¼Œå› ä¸ºæœ‰å¾ˆå¤šå·¥ä½œï¼Œååå¤å¤ã€‚ æ— è®ºåœ¨å“ªä¸ªé¡¹ç›®ç»„ï¼Œäººæ‰‹éƒ½ä¸ç®—å¤šï¼Œä½†ä»»åŠ¡åˆé‚£ä¹ˆå¤šï¼Œè€æ¿å‚¬å¾—é‚£ä¹ˆç´§ã€‚ æ€ä¹ˆæ ·æ‰èƒ½è®©å¼€å‘æ›´åŠ é«˜æ•ˆï¼Œæ˜¯æˆ‘ä¸€ç›´åœ¨æ€è€ƒï¼Œä¹Ÿæ˜¯ä¸€ç›´åœ¨å°è¯•å’Œå®è·µã€‚ æœ‰çš„æœ‰ç”¨ï¼Œæœ‰çš„æ²¡ç”¨ã€‚æ‰€å¹¸ï¼Œæ˜¯æœ‰ç”¨çš„æ›´å¤šã€‚ åœ¨ä¸æ–­æ€è€ƒå’Œå®è·µä¸­ï¼Œæˆ‘æ”¶è·äº†å¾ˆå¤šã€‚ æ²‰æ·€ç§¯ç´¯é¡¹ç›®åƒå·®ä¸‡åˆ«ï¼Œä½†æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚å¤§åŒå°å¼‚ã€‚ è¿™æ˜¯æˆ‘ä¸€ç›´ä»¥æ¥éšéšçš„æ„Ÿè§‰ï¼Œæˆ‘è§‰å¾—æˆ‘å¯ä»¥æ¢³ç†å‡ºæ¥ã€‚ æˆ‘æƒ³å°†æˆ‘çš„ç»éªŒå’Œæ”¶è·æ²‰æ·€ï¼Œå†™ä¸€ä¸ªé€šç”¨çš„å¼€å‘æ¡†æ¶ã€‚ é‚£æ˜¯æˆ‘2020å¹´çš„ç¬¬äºŒä¸ªflagï¼Œå¥½å¥½æ´»ç€å°±å¾—æç‚¹äº‹æƒ…ã€‚ å®ƒå°±æ˜¯ï¼šEasyGameFramework åŸºäºTypeScriptï¼Œè¶…å¼ºç±»å‹æç¤º è·¨å¼•æ“é€šç”¨ï¼Œé«˜åº¦å¯å®šåˆ¶ æ¸è¿›å¼ é›¶ä¾èµ– åŸºç¡€æ¨¡å—å…¨é¢(æ¨¡å—ç®¡ç†ã€UIæ¡†æ¶ã€äº‹ä»¶é€šè®¯ã€çŠ¶æ€ç®¡ç†ã€å¯¹è±¡æ± ã€ç½‘ç»œæ¨¡å—) 12æœˆåˆï¼Œæˆ‘å¼€æºäº†è¿™ä¸ªæ¡†æ¶ï¼Œå¹¶åœ¨åç»­ï¼Œåˆ†äº«äº†æˆ‘å†™è¿™ä¸ªæ¡†æ¶å„ä¸ªæ¨¡å—çš„æ‰€æ€æ‰€æƒ³ã€‚ è¿™ä¸ªä»“åº“æ”¶è·äº†26ä¸ªstarï¼Œè°¢è°¢è¿™26ä¸ªäººçš„è®¤å¯å’Œè‚¯å®šã€‚ å¦‚æœä½ ä»¬ä¹Ÿè§‰å¾—ä¸é”™ï¼Œç‚¹ä¸ªstarå“¦ã€‚ å¸Œæœ›æˆ‘ç¨šå«©çš„ç¬”è§¦ï¼Œèƒ½è®©å¤§å®¶æœ‰æ‰€æ”¶è·ã€‚ 2021å±•æœ›é¦–å…ˆæ˜¯å’Œå°ä¼™ä¼´ä»¬ä¸€èµ·å°†æ‰‹ä¸Šçš„é¡¹ç›®åšå¥½ï¼Œé€ä¸Šçº¿ã€‚ å…¶æ¬¡æ˜¯EasyGameFramework è¿™ä¸ªæ¡†æ¶ï¼Œæˆ‘å°†ç»§ç»­ç»´æŠ¤å’Œå‘å±•ã€‚ æ›´åŠ è§„èŒƒçš„å·¥ç¨‹åŒ– å…±å»ºè®¡åˆ’(ä¸€èµ·æ¥æˆä¸ºè¿™ä¸ªæ¡†æ¶çš„contributorå§~) é¡¹ç›®æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆ æ›´å¤šé€šç”¨æ¨¡å— æ•°æ®é©±åŠ¨çš„é€šç”¨æˆ˜æ–—æ¨¡å— ECSæ¨¡å— ã€‚ã€‚ã€‚ æ›´å¤šæœ‰ç”¨çš„å·¥å…·æ¨¡å—å’ŒCocosç»„ä»¶ æœ€åæ˜¯åšè‡ªå·±çš„æ¸¸æˆï¼Œæ¢¦æƒ³è¿˜æ˜¯è¦æœ‰çš„ï¼Œæ˜¯å§ï¼Œå“ˆå“ˆå“ˆğŸ˜ ç›®æ ‡:æ˜Ÿè¾°å¤§æµ·~ æœ€ååœ¨2020çš„æœ€åä¸€å¤©ï¼Œæ— è®ºè¿‡å»å¦‚ä½•ï¼Œæ–°çš„ä¸€å¹´ï¼Œè¿‡å¾—æ›´åŠ Easyï¼Œæ¸¸æˆå¼€å‘æ›´åŠ Easyï¼Œæ”¶è·å¤šå¤šï¼Œç§¯ç´¯å¤šå¤š~ å…ƒæ—¦å¿«ä¹~ æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå¹²è´§å†…å®¹æŒç»­æ›´æ–°~ å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"æƒ³æ³•æµæ°´","slug":"æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/categories/æƒ³æ³•æµæ°´/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"æƒ³æ³•æµæ°´","slug":"æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/tags/æƒ³æ³•æµæ°´/"}],"keywords":[{"name":"æƒ³æ³•æµæ°´","slug":"æƒ³æ³•æµæ°´","permalink":"http://yoursite.com/categories/æƒ³æ³•æµæ°´/"}]},{"title":"æ„å»ºå¤æ‚æ¸¸æˆ/åº”ç”¨çš„ç¥å™¨:broadcast","slug":"æ„å»ºå¤æ‚æ¸¸æˆ-åº”ç”¨çš„ç¥å™¨-broadcast","date":"2020-12-27T12:44:46.000Z","updated":"2020-12-27T15:00:40.782Z","comments":false,"path":"2020/12/27/æ„å»ºå¤æ‚æ¸¸æˆ-åº”ç”¨çš„ç¥å™¨-broadcast/","link":"","permalink":"http://yoursite.com/2020/12/27/æ„å»ºå¤æ‚æ¸¸æˆ-åº”ç”¨çš„ç¥å™¨-broadcast/","excerpt":"","text":"å‰è¨€äº‹ä»¶æœºåˆ¶,ç›¸ä¿¡å¾ˆå¤šäººéƒ½çŸ¥é“ï¼Œäº†è§£ï¼Œä¹Ÿç»å¸¸ç”¨åˆ°ã€‚ åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œå®ƒå« è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆåˆå«å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼‰ã€‚ å®ƒæ— å¤„ä¸åœ¨: åœ¨Javaä¸­ï¼Œå®ƒæ˜¯Javaçš„æ ¸å¿ƒåº“java.utils.Observableï¼Œ åœ¨C#ä¸­ï¼Œä¸ºå®ƒæä¾›äº†è¯­æ³•ç³–æ”¯æŒ:eventå…³é”®å­— åœ¨webæµè§ˆå™¨çš„Javascriptä¸­ï¼Œæœ‰å†…ç½®çš„äº‹ä»¶æœºåˆ¶:window.addEventListener,Event åœ¨Nodejsä¸­ï¼Œä¹Ÿæœ‰å†…ç½®åº“events åœ¨æ¸¸æˆå¼•æ“ä¸­ä¹Ÿéƒ½æ˜¯å†…ç½®çš„å­˜åœ¨ CocosCreatorçš„cc.EventTarget Layaçš„Laya.EventDispatcher å…¶ä»–å¼•æ“éƒ½æœ‰ ä½¿ç”¨è¿™ç§æ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬æ›´å¥½åœ°è§£è€¦æ¸¸æˆä¸šåŠ¡é€»è¾‘ã€‚ ä½†æ˜¯ è¿™äº›äº‹ä»¶æœºåˆ¶çš„åœ¨Jså’Œtsä¸­çš„å®ç°æ²¡èƒ½è®©æˆ‘è§‰å¾—æ»¡æ„ï¼ˆæˆ‘éƒ½æ˜¯ä½¿ç”¨è¿‡ï¼‰ï¼Œæ€»è§‰å¾—ç¼ºäº†ç‚¹ä»€ä¹ˆã€‚ æºå¸¦æ•°æ®æ²¡ç±»å‹æç¤º æ¶ˆæ¯å‘é€è€…ï¼Œæ²¡æ³•è·å¾—è¦å‘é€æ¶ˆæ¯æºå¸¦çš„æ•°æ®ç±»å‹æç¤º æ¶ˆæ¯æ¥æ”¶è€…ï¼Œæ²¡æ³•è·å¾—å‘é€è¿‡æ¥çš„æ•°æ®ç±»å‹æç¤º é¢å¯¹å¤æ‚çš„é€šä¿¡æƒ…å†µï¼Œæ²¡å†…ç½®æ”¯æŒ æƒ³åœ¨æ¶ˆæ¯å‘é€ç‚¹ï¼Œæ¥æ”¶åˆ°ï¼Œæ¶ˆæ¯æ¥æ”¶å™¨è¿”å›çš„æ•°æ®(å¦‚æœè‡ªå·±å®ç°ï¼Œå°†å›è°ƒåŒ…åœ¨æ•°æ®ä¸­ä¼ ç»™æ¶ˆæ¯æ¥æ”¶è€…ï¼Œè®©å®ƒæ‰§è¡Œè¿™ä¸ªå›è°ƒ) äº‹ä»¶å‘å‡ºå»äº†ï¼Œä½†æ¶ˆæ¯æ¥æ”¶è€…è¿˜æ²¡æ³¨å†Œï¼Œé”™è¿‡äº† ä¸å†…ç½®æ”¯æŒçŠ¶æ€ç®¡ç† å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ç±»ä¼¼è¿™ç§éœ€æ±‚ï¼š å¾ˆå¤šåœ°æ–¹éœ€è¦ç›‘å¬è§’è‰²ç­‰çº§å˜åŒ–äº‹ä»¶ç„¶åå»è§’è‰²ä¿¡æ¯æ¥å£å–è§’è‰²ç­‰çº§çŠ¶æ€åšä¸šåŠ¡å¤„ç† ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹ç›‘å¬åŒä¸€ä¸ªçŠ¶æ€å˜åŒ–ï¼Œç„¶åå»æŸä¸ªæ¥å£å–å‡ºå½“å‰çŠ¶æ€åšä¸šåŠ¡å¤„ç†ã€‚ è¿™æ ·çš„å¤„ç†é‡å¤è€Œä¸ä¼˜é›…ã€‚ çªç„¶æœ‰ä¸€å¤©é€›æ˜é‡‘ï¼Œçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªæ–‡ç« åˆ†äº«: æ„å»ºå¤æ‚åº”ç”¨çš„ç¥å™¨ï¼ŒFBroadcast çœ‹å®Œåï¼Œè„‘å­é‡Œåªæœ‰ä¸€ä¸ªå­—: è¿™å°±æ˜¯æˆ‘æƒ³è¦çš„ç¥å™¨ è™½ç„¶å®ƒæ˜¯ç”¨dartå†™ç»™flutter ä½†æ²¡å…³ç³»ï¼Œå€Ÿé‰´ä¸€ä¸‹ï¼Œç”¨typescripté‡å†™ä¸€ä¸‹ (ps:éƒ¨åˆ†è¯´æ˜ä¹Ÿæ˜¯å¤åˆ¶è¿‡æ¥çš„) æˆ‘å–œæ¬¢é€›æ˜é‡‘ï¼Œè™½ç„¶ä»–ä»¬å¤§å¤šæ˜¯åˆ†äº«webå‰ç«¯ç›¸å…³çš„çŸ¥è¯†ï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šå¯ä»¥å€Ÿé‰´ç”¨åˆ°æ¸¸æˆå‰ç«¯çš„åœ°æ–¹ã€‚å—ç›ŠåŒªæµ…ã€‚ ä»‹ç»ä¸€ä¸ªåŸºäºTypeScriptçš„ä¸€å¥—é«˜æ•ˆçµæ´»çš„å¹¿æ’­ç³»ç»Ÿï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…è½»æ¾ã€æœ‰åºçš„æ„å»ºå…·æœ‰æå…·å¤æ‚æ€§çš„å…³è”äº¤äº’å’ŒçŠ¶æ€å˜åŒ–çš„æ¸¸æˆå’Œåº”ç”¨ã€‚ ç‰¹æ€§ åŸºç¡€äº‹ä»¶æœºåˆ¶çš„æ”¯æŒ æ¶ˆæ¯æ”¯æŒæºå¸¦ä»»æ„ç±»å‹çš„æ•°æ®(å¹¶æœ‰ç±»å‹æç¤º) æ”¯æŒå‡½æ•°thisç»‘å®šæˆ–ä»»æ„ç±»å‹ä½œä¸ºç¯å¢ƒï¼Œä¸€è¡Œä»£ç å°±å¯ä»¥ç§»é™¤ç¯å¢ƒå†…æ‰€æœ‰çš„æ¥æ”¶è€… æ˜“äºæ„å»ºå±€éƒ¨/å…¨å±€çš„çŠ¶æ€ç®¡ç† æ”¯æŒåŒå‘é€šä¿¡ æ”¯æŒä¸å¯æ€è®®çš„ç²˜æ€§å¹¿æ’­ åŸºäºTypeScriptå¹¶æä¾›æåº¦èˆ’é€‚çš„ç±»å‹æç¤º å®‰è£…/è·å– æºç è·å– 12git clone https://github.com/AILHC/EasyGameFrameworkOpen//æ–‡ä»¶è·¯å¾„ï¼šEasyGameFrameworkOpen/packages/broadcast npm å®‰è£… 1npm i @ailhc/broadcast æ³¨æ„âš ï¸ å¦‚æœæ‰€åœ¨é¡¹ç›®ä¸æ”¯æŒç›´æ¥ä½¿ç”¨npmåŒ… åˆ™éœ€è¦åˆ°distæ–‡ä»¶å¤¹ä¸‹ï¼Œå–å‡ºå¯ä»¥ä½¿ç”¨çš„æ¨¡å—è§„èŒƒç±»å‹çš„æ–‡ä»¶ æ¯”å¦‚CocosCreator3Dï¼Œæ”¯æŒsystemjsè§„èŒƒ åˆ™å¯ä»¥æ‹¿systemjsæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œè®¾ç½®ä¸ºæ’ä»¶å°±å¯ä»¥å¼•å…¥ä½¿ç”¨äº† ä½¿ç”¨ é€šè¿‡ broadcast æ¥æ³¨å†Œï¼Œå‘é€å¹¿æ’­éå¸¸ç®€ä¾¿ 123456//æ³¨å†Œæ¥æ”¶å™¨this._broadcast.on(\"testA\", (str) =&gt; &#123; //do something&#125;)//å‘é€æ¶ˆæ¯this._broadcast.broadcast(\"testA\", \"string\") broadcastå…è®¸åœ¨æ³¨å†Œ/å‘é€æ¶ˆæ¯æ—¶ï¼Œæºå¸¦ä»»æ„ç±»å‹æ•°æ®ï¼Œå¹¶æ”¯æŒç±»å‹æç¤º broadcastå…è®¸åœ¨æ³¨å†Œæ¶ˆæ¯æ—¶ï¼Œç»™è‡ªå·±é€ä¼ æ•°æ®ï¼ˆè€Œéé€šè¿‡é—­åŒ…å–é—­åŒ…å¤–æ•°æ®çš„æ–¹å¼ï¼‰ çµæ„Ÿæ¥è‡ªLayaçš„EventDispatcher é—­åŒ…ä½¿ç”¨ä¸å½“å®¹æ˜“å‡ºé—®é¢˜ã€‚ å¼€å‘è€…å¯ä»¥é€‰æ‹©å°†ç‰¹å®šç±»å‹çš„æ¶ˆæ¯è¿›è¡ŒæŒä¹…åŒ–ï¼Œè¿™æ ·å°±èƒ½è½»æ˜“å®ç°å¹¿æ’­å¼çš„å…¨å±€çŠ¶æ€ç®¡ç†ã€‚ âš ï¸æ³¨æ„ï¼Œä¸€ä¸ªæ¶ˆæ¯ç±»å‹ä¸€æ—¦æŒä¹…åŒ–å°±åªèƒ½é€šè¿‡ brocast.offAll(key) æ¥ä»å¹¿æ’­ç³»ç»Ÿä¸­ç§»é™¤è¯¥ç±»å‹çš„æ¶ˆæ¯ã€‚ 12345678910broadcast.broadcast( //æ¶ˆæ¯ç±»å‹key \"objTypeTest\", //æ•°æ® &#123;a:1,b:\"\",c:false&#125;, //å›è°ƒ undefined, //æŒä¹…åŒ– true ) ç²˜æ€§å¹¿æ’­ 12345broadcast.stickyBroadcast( //æ¶ˆæ¯ç±»å‹key \"stringTypeTest\", //æ•°æ® \"\"); å½“å¹¿æ’­ç³»ç»Ÿä¸­æ²¡æœ‰å¯¹åº”ç±»å‹çš„æ¥æ”¶å™¨æ—¶ï¼Œç²˜æ€§å¹¿æ’­ å°†ä¼šæš‚æ—¶æ»ç•™åœ¨ç³»ç»Ÿä¸­ï¼Œç›´åˆ°æœ‰è¯¥ç±»å‹çš„æ¥æ”¶å™¨è¢«æ³¨å†Œï¼Œåˆ™ä¼šç«‹å³å‘å‡ºå¹¿æ’­ï¼ˆå½“å¹¿æ’­ç³»ç»Ÿä¸­æœ‰å¯¹åº”ç±»å‹çš„æ¥æ”¶å™¨æ—¶ï¼Œå°±å’Œæ™®é€šå¹¿æ’­å…·æœ‰ç›¸åŒçš„è¡¨ç°ï¼‰ã€‚ åŒå‘é€šä¿¡ åŒå‘æ²Ÿé€šï¼ŒåŒå€æ•ˆç‡ broadcastæ”¯æŒåœ¨å¹¿æ’­å‘é€ç‚¹æ¥æ”¶æ¥æ”¶å™¨è¿”å›çš„æ¶ˆæ¯ã€‚ 123456789101112131415161718192021//å‘é€æ¶ˆæ¯broadcast.broadcast( //æ¶ˆæ¯ç±»å‹key \"numberTypeTest\", //æ•°æ® 1, ////æ¥æ”¶å™¨è¿”å›çš„æ¶ˆæ¯ (data) =&gt; &#123; // do something &#125;)//æ³¨å†Œæ¥æ”¶å™¨broadcast.on(\"numberTypeTest\", (data, callback) =&gt; &#123; /// do something var result = logic(); // è¿”å›æ¶ˆæ¯ callback(result);&#125;) æ”¯æŒå‡½æ•°thisç»‘å®šæˆ–ä»»æ„ç±»å‹ä½œä¸º ç¯å¢ƒç»‘å®š åœ¨CocosCreatorä¸­æ³¨å†Œäº‹ä»¶å¯ä»¥è¿™æ · 1this.node.on(cc.Node.EventType.TOUCH_START, this.showAnimView, this) è¿™ä¸ªthiså¯ä»¥ç”¨æ¥è°ƒç”¨showAnimViewè¿™ä¸ªæ–¹æ³•ï¼Œä¸è‡³äºè°ƒç”¨çš„æ–¹æ³•é‡Œä½¿ç”¨thisæ—¶ä¸¢å¤±this è€Œåœ¨broadcastä¸­ä¹Ÿæ”¯æŒï¼Œè¿˜æ”¯æŒåœ¨ç¯å¢ƒè§£æ„æ—¶ï¼Œå¼€å‘è€…å¯ä»¥æ–¹ä¾¿çš„ä¸€æ¬¡æ€§ç§»é™¤æ‰€æœ‰åœ¨è¯¥ç¯å¢ƒä¸­æ³¨å†Œçš„æ¥æ”¶å™¨ã€‚ 1broadcast.offAllByContext(this) æ”¯æŒæ‰¹é‡æ³¨å†Œæ¥æ”¶è€… 12345678910111213141516171819broadcast.on([ &#123; //æ¶ˆæ¯ç±»å‹ key: \"numberTypeTest\", //æ¥æ”¶å™¨ listener: this.onNumberTypeTest, //ç¯å¢ƒ context: this &#125;, &#123; //æ¶ˆæ¯ç±»å‹ key: \"stringTypeTest\", //æ¥æ”¶å™¨ listener: this.onStringTypeTest, //ç¯å¢ƒ context: this &#125; //]) åŸºæœ¬çš„ä½¿ç”¨å°±è¿™äº›äº† å…·ä½“çš„ä½¿ç”¨ä¾‹å­å¯ä»¥å…‹éš†ä»“åº“:EasyGameFramework çœ‹åŸºäºCocosCreator2.4.2çš„demo examples/egf-ccc-full/assets/tests/broadcastTest æ‰“å¼€è¿™ä¸ªåœºæ™¯:broadcastTest.fire çœ‹demoä¹‹å‰ï¼Œéœ€è¦å®‰è£…ç¯å¢ƒå“¦ï¼Œ å®‰è£… npm ï¼Œç„¶ååˆ°egf-ccc-full æ ¹ç›®å½• 1npm install æåº¦èˆ’é€‚çš„ç±»å‹æç¤ºæ¼”ç¤º1234567891011121314151617181920212223242526272829303132//éœ€è¦æ¶ˆæ¯å®šä¹‰è€…ï¼Œå®šä¹‰æ—¶æ·»åŠ å¦‚ä¸‹ç±»å‹å£°æ˜declare global &#123; interface ITestKey extends broadcast.IMsgKey &#123; testA: \"testA\", testB: \"testB\", testC: \"testC\", testD: \"testD\", //æ¶ˆæ¯ç±»å‹keyæç¤º objTypeTest: \"objTypeTest\" &#125; interface ITestValueType extends broadcast.IMsgValueType &#123; testA: string, testB: string, testC: string, testD: string, //å¯¹åº”æ¶ˆæ¯ç±»å‹çš„å‘æ¶ˆæ¯å’Œæ”¶æ¶ˆæ¯çš„ç±»å‹å£°æ˜ objTypeTest: &#123; a: number, b: string, c: boolean &#125; &#125; interface ITestResultType extends broadcast.IResultType &#123; testC: string, //åŒå‘é€šä¿¡è¿”å›æ•°æ®ç±»å‹å£°æ˜ objTypeTest: &#123; callbackDataA: &#123; hahah: string &#125; &#125; &#125;&#125;//ç„¶ååœ¨å®ä¾‹åŒ–broadcastæ—¶ï¼Œæ³¨å…¥ç±»å‹export default class TestBroadcast extends cc.Component &#123; private _broadcast: Broadcast&lt;ITestKey, ITestValueType, ITestResultType&gt; start() &#123; this._broadcast = new Broadcast&lt;ITestKey, ITestValueType, ITestResultType&gt;(); &#125;&#125; æ¼”ç¤º demoæµ‹è¯•å±•ç¤º æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/categories/EasyGameFramework/"},{"name":"broadcast","slug":"EasyGameFramework/broadcast","permalink":"http://yoursite.com/categories/EasyGameFramework/broadcast/"}],"tags":[{"name":"äº‹ä»¶æœºåˆ¶","slug":"äº‹ä»¶æœºåˆ¶","permalink":"http://yoursite.com/tags/äº‹ä»¶æœºåˆ¶/"},{"name":"äº‹ä»¶é€šä¿¡","slug":"äº‹ä»¶é€šä¿¡","permalink":"http://yoursite.com/tags/äº‹ä»¶é€šä¿¡/"}],"keywords":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/categories/EasyGameFramework/"},{"name":"broadcast","slug":"EasyGameFramework/broadcast","permalink":"http://yoursite.com/categories/EasyGameFramework/broadcast/"}]},{"title":"è®°ç¬¬ä¸€æ¬¡å‚åŠ Cocoså¼€å‘è€…æ²™é¾™","slug":"è®°ç¬¬ä¸€æ¬¡å‚åŠ Cocoså¼€å‘è€…æ²™é¾™","date":"2020-12-27T03:26:57.000Z","updated":"2020-12-27T04:32:18.047Z","comments":false,"path":"2020/12/27/è®°ç¬¬ä¸€æ¬¡å‚åŠ Cocoså¼€å‘è€…æ²™é¾™/","link":"","permalink":"http://yoursite.com/2020/12/27/è®°ç¬¬ä¸€æ¬¡å‚åŠ Cocoså¼€å‘è€…æ²™é¾™/","excerpt":"","text":"è¿™æ¬¡çš„Cocoså¼€å‘è€…æ²™é¾™ï¼Œæ˜¯åœ¨å¹¿å·å¼€çš„ã€‚ æˆ‘è¿˜æ²¡å‚åŠ è¿‡è¿™ç±»å¼€å‘è€…æ²™é¾™ï¼Œä¸€çœ‹åˆ°æ¨æ–‡ç«‹åˆ»æŠ¥åï¼Œå¿ƒé‡Œéå¸¸æœŸå¾…ã€‚ åˆå°è±¡åˆšåˆ°æ²™é¾™åœ°ç‚¹æ—¶ï¼Œå°±è§åˆ°äº†jareå¤§ä½¬åœ¨é—¨å¤–ï¼ŒæŠ½çƒŸã€‚æˆ‘åå¤ç¡®è®¤äº†ä¸€ä¸‹ï¼Œçš„ç¡®æ˜¯ã€‚å¼€å¿ƒ~ä½†æ²¡æœ‰æ‹åˆ°å¤§ä½¬çš„ç…§ç‰‡ï¼Œå¯æƒœäº†ï¼Œè¿™é‡Œè¡¥ä¸€å¼  æˆ‘ä¸Šå»æ²™é¾™æ‰€åœ¨æ¥¼å±‚ï¼Œç”±äºæˆ‘æ¥å¾—æ—©ï¼Œæ²™é¾™è¿˜æ²¡å¼€å§‹ æŠ€æœ¯åˆ†äº«æ”¾ç©ºå¤§ä½¬ï¼Œåˆ†äº«äº†CocosCreator3.0çš„å…¨è²Œä»¥åŠæ›´å¼ºçš„ç‰¹æ€§ã€‚ è¿˜æœ‰æˆ‘å…¨ç¨‹å–Š666çš„ æ°”æ°›ç»„è´Ÿè´£äººæ½˜ä¼Ÿæ´²å¤§ä½¬çš„åˆ†äº«éå¸¸å€¼å¾—å­¦ä¹  é«˜èƒ½åœ¨çº¿æ•™è‚²è§£å†³æ–¹æ¡ˆå…¨è²Œ é€šä¿¡ç—›ç‚¹å’Œjsbç»‘å®šå®ç° å¤šåè®®ç½‘ç»œåº“æ¶æ„ Cocosæ¸¸æˆå†…éŸ³è§†é¢‘æ’­æ”¾è§£å†³æ€è·¯ è·¯ç”±ç®¡ç†çš„å®ç°(æœ‰æ‰€å¯å‘ï¼Œåˆ°æ—¶åˆ†äº«) nbçš„æ··åˆå¼•æ“å¼€å‘å…¶ä»–å¤§ä½¬çš„åˆ†äº«éƒ½éå¸¸æ£’æˆ‘å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº† æŒºå¥½åƒçš„ç‚¹å¿ƒæˆ‘åƒäº†ä¸€ä¸ªæ¤°å¥¶å†»ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªåå­—ï¼Œç”¨ä¸€ä¸ªç»ç’ƒç“¶è£…ç€ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæ˜¯é…¸å¥¶ï¼Œæ‰“å¼€æƒ³å–ï¼Œå´å€’ä¸ä¸‹æ¥ã€‚ç„¶åå»æ‹¿äº†ä¸€ä¸ªå‰å­ã€‚ æœ€åçš„QAæˆ‘é—®äº†ä¸€ä¸ªæˆ‘æ¯”è¾ƒå…³å¿ƒï¼Œä¹Ÿå¾ˆå¥½å¥‡çš„é—®é¢˜ã€‚å› ä¸ºæ½˜ä¼Ÿæ´²å¤§ä½¬è¯´ï¼Œä»–æ¨åŠ¨è…¾è®¯å†…éƒ¨æ•™è‚²ç›¸å…³é¡¹ç›®ç»„å…±å»ºABCKitè¿™ä¸ªé¡¹ç›®ï¼Œå¹¶æ‰“ç®—æ˜å¹´å¼€æ”¾ã€‚æˆ‘å¾ˆå¥½å¥‡ï¼šè¿™ä¸ªABCKitå¦‚ä½•è¿›è¡Œå…±å»ºå’Œç»´æŠ¤ï¼Ÿ(å› ä¸ºæˆ‘ä¹Ÿæœ‰æ¡†æ¶å¼€æº:EasyGameFramework,å¸Œæœ›æ±²å–ç»éªŒ)å¤§ä½¬å›å¤è¯´ï¼š è¯·åƒé¥­ï¼ˆä¸€é¡¿ä¸è¡Œå°±ä¸¤é¡¿ï¼‰ï¼Œç§¯ææ¨åŠ¨è¿™ä¸ªé¡¹ç›®çš„æ¨å¹¿å’Œä½¿ç”¨ï¼Œå¹¶ä¸€èµ·å…±å»ºã€‚ æŠ€æœ¯ä¸Šï¼Œå†…éƒ¨å¼€æºï¼Œæä¾›æ¡†æ¶æºç å’Œä¾‹å­å±•ç¤ºã€‚ éå¸¸æ„Ÿè°¢å¤§ä½¬~ æˆ‘ä¹Ÿå¦‚æ„¿é¢†åˆ°äº†Cocosçš„åå‘¨å¹´çºªå¿µå“ï¼Œä¸€ä»¶å¥³æœ‹å‹éƒ½è¯´å¥½çœ‹çš„é»‘è‰²å«è¡£ å„ä½å¤§ä½¬åˆç…§ ç¥æ„¿ç¥Cocoså‘å±•å¾—æ›´å¥½ï¼Œèµ°å¾—æ›´è¿œ~ å¸Œæœ›ä¸‹æ¬¡å†æ¥å¹¿å·ä¸‹æ¬¡å†è§~ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"ç»å†","slug":"ç»å†","permalink":"http://yoursite.com/categories/ç»å†/"}],"tags":[{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/tags/CocosCreator/"},{"name":"å¼€å‘è€…æ²™é¾™","slug":"å¼€å‘è€…æ²™é¾™","permalink":"http://yoursite.com/tags/å¼€å‘è€…æ²™é¾™/"}],"keywords":[{"name":"ç»å†","slug":"ç»å†","permalink":"http://yoursite.com/categories/ç»å†/"}]},{"title":"åŸºäºTypeScriptçš„é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„ä½¿ç”¨","slug":"åŸºäºTypeScriptçš„é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„ä½¿ç”¨","date":"2020-12-24T16:56:34.000Z","updated":"2020-12-27T04:25:01.863Z","comments":false,"path":"2020/12/25/åŸºäºTypeScriptçš„é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2020/12/25/åŸºäºTypeScriptçš„é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„ä½¿ç”¨/","excerpt":"","text":"å‰è¨€ä¹‹å‰å‘äº†ä¸€ç¯‡æ–‡ç« åˆ†äº«äº†æˆ‘è®¾è®¡å’Œå®ç°è¿™ä¸ªåŸºäºTypeScriptçš„é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„è¿‡ç¨‹å’Œæƒ³æ³•ï¼Œä½†æ²¡æœ‰è¯¦ç»†çš„ä»‹ç»å¦‚ä½•ä½¿ç”¨ã€‚ æ–‡ç« é“¾æ¥:é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„è®¾è®¡ä¸å®ç° è¿™æ¬¡å°±è®²æ¸…æ¥šå¦‚ä½•ä½¿ç”¨~ ä»‹ç»display-ctrlæ˜¯ä¸€ä¸ªåŸºäºTypeScriptçš„é›¶ä¾èµ–ã€è·¨å¼•æ“ã€é«˜æ•ˆã€çµæ´»ã€é«˜å¯æ‰©å±•çš„æ˜¾ç¤ºæ§åˆ¶åº“(UIæ¡†æ¶åº“) æ‚¨å¯ä»¥æ ¹æ®é¡¹ç›®ï¼Œä»¥åŠé¡¹ç›®æ‰€ä½¿ç”¨çš„å¼•æ“ï¼Œå®šåˆ¶èµ„æºå¤„ç†å’Œæ§åˆ¶å™¨åŸºç±»ã€‚ åˆç†çš„æŠ½è±¡åº•å±‚ï¼Œè®©æ‚¨å¯ä»¥ç»§æ‰¿ç®¡ç†å™¨åŸºç±»ï¼Œä½¿ç”¨åŸºç±»æ¥å£å°±å¯ä»¥ç®€å•æ‰©å±•å‡ºç¬¦åˆè‡ªèº«éœ€æ±‚çš„æ¥å£ã€‚ åŒæ—¶è¿™ä¸ªåº“ä½¿ç”¨äº†TypeScriptçš„é«˜é˜¶çš„ç±»å‹æ¨æ–­ï¼Œç»™æ‚¨å¸¦æ¥æåº¦èˆ’é€‚çš„æ¥å£è°ƒç”¨ä½“éªŒã€‚ è¿™ä¸ªåº“æ— ä»»ä½•ä¾èµ–ï¼Œå¯å•ç‹¬ä½¿ç”¨ã€‚ åœ¨ä»“åº“ä¸­åŒæ—¶æä¾›äº†åŸºäºCocosCreator2.4.2å’ŒCocosCreator3Då®ç°çš„åº“(åŒ…å«layerå±‚çº§ç®¡ç†åº“çš„å®ç°) dpctrl-ccc dpctrl-c3d github:EasyGameFramework ç‰¹æ€§ è·¨å¼•æ“ï¼Œé€‚ç”¨äºä»»ä½•é€‚ç”¨ts/jsçš„æ¸¸æˆ/åº”ç”¨é¡¹ç›® åŸºäºTypeScriptï¼Œä½¿ç”¨é«˜é˜¶ç±»å‹ç¼–ç¨‹ï¼Œæä¾›æåº¦èˆ’é€‚çš„ç±»å‹æç¤º é«˜å¯æ‰©å±• é«˜å¯å®šåˆ¶ é›¶ä¾èµ–ï¼Œå¯å•ç‹¬ä½¿ç”¨å¦‚ä½•ä½¿ç”¨ï¼Ÿå®‰è£… é€šè¿‡npmå®‰è£… npm i @ailhc/display-ctrl æœ¬åœ°link npmåŒ… a. clone é¡¹ç›®ä»“åº“ git clone https://github.com/AILHC/EasyGameFrameworkOpen b. åœ¨packages/display-ctrlæ–‡ä»¶å¤¹ä¸‹ npm link c. åœ¨é¡¹ç›®æ¸¸æˆé¡¹ç›®ç›®å½•ä¸‹ npm link @ailhc/display-ctrl ä½¿ç”¨æºç  a. clone é¡¹ç›®ä»“åº“ git clone https://github.com/AILHC/EasyGameFrameworkOpen b. ç›´æ¥å¤åˆ¶packages/display-ctrl/srcä¸‹çš„tsæºç åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨ å®šåˆ¶ä¸€ä¸‹å®ç°å¼•æ“å±‚ ä¸åŒçš„å¼•æ“æˆ–è€…é¡¹ç›®éƒ½éœ€è¦åšç‚¹ç›¸åº”çš„å®ç°ï¼Œå¾ˆç®€å•çš„ æ§åˆ¶å™¨åŸºç±»å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import &#123; &#125; from \"@ailhc/display-ctrl\";export class NodeCtrl implements displayCtrl.ICtrl&lt;cc.Node&gt; &#123; key?: string | any; isLoading?: boolean; isLoaded?: boolean; isInited?: boolean; isShowed?: boolean; needShow?: boolean; needLoad?: boolean; isShowing?: boolean; visible: boolean; onLoadData: any; protected node: cc.Node; protected _mgr: displayCtrl.IMgr; constructor(dpcMgr?: displayCtrl.IMgr) &#123; this._mgr = dpcMgr; &#125; onInit(config?: displayCtrl.IInitConfig&lt;any, any&gt;): void &#123; &#125; onShow(config?: displayCtrl.IShowConfig&lt;any, any, any&gt;): void &#123; if (this.node) &#123; this.node.active = true; &#125; &#125; getRess(): any[] | string[] &#123; return undefined; &#125; getNode(): cc.Node &#123; return this.node; &#125; onUpdate(updateData: any): void &#123; &#125; getFace&lt;T = any&gt;(): T &#123; return this as any; &#125; onDestroy(destroyRes?: boolean): void &#123; if (this.node) &#123; this.node.destroy(); &#125; &#125; onHide() &#123; if (this.node) &#123; this.node.active = false; &#125; &#125; forceHide() &#123; this.node &amp;&amp; (this.node.active = false); this.isShowed = false; &#125; onResize() &#123; &#125;&#125; æˆ‘å·²ç»æä¾›äº†ä¸¤ä¸ªCocosCreatorç‰ˆæœ¬çš„å®ç°å‚è€ƒ CocosCreator3dçš„å®ç°dpctrl-c3d CocosCreator2.4.2çš„å®ç°dpctrl-cccå¯ä»¥ç›´æ¥å®‰è£…(åŒä¸Š) èµ„æºå¤„ç†æ¥å£å®šåˆ¶æ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±çš„èµ„æºå¤„ç†éœ€æ±‚ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†é€»è¾‘è§£è€¦å‡ºæ¥ï¼Œè®©ä½¿ç”¨è€…æ³¨å…¥èµ„æºå¤„ç†å™¨ã€‚12345678910111213141516171819202122232425262728293031323334353637383940//egf-ccc-full DpcTestMainComp.tsconst dpcMgr = new DpcMgr&lt;IDpcTestViewKeyMap, any, IDpcTestViewShowDataMap&gt;(); dpcMgr.init( &#123; loadRes: (config) =&gt; &#123; const onLoadData: IDpcTestOnLoadData = config.onLoadData; onLoadData?.showLoading &amp;&amp; dtM.uiMgr.showDpc(\"LoadingView\"); cc.assetManager.loadAny(config.ress, &#123; bundle: \"resources\" &#125;, (finish, total) =&gt; &#123; console.log(`$&#123;config.key&#125;åŠ è½½ä¸­:$&#123;finish&#125;/$&#123;total&#125;`); onLoadData?.showLoading &amp;&amp; dtM.uiMgr.updateDpc(\"LoadingView\", &#123; finished: finish, total: total &#125;) &#125;, (err, items) =&gt; &#123; if (err) &#123; console.error(`åŠ è½½å¤±è´¥`, err); config.error &amp;&amp; config.error(); &#125; else &#123; config.complete &amp;&amp; config.complete(); &#125; onLoadData?.showLoading &amp;&amp; dtM.uiMgr.hideDpc(\"LoadingView\"); &#125;) &#125;, releaseRes: (ctrlIns) =&gt; &#123; const ress = ctrlIns.getRess(); if (ress &amp;&amp; ress.length) &#123; let asset: cc.Asset; ress.forEach((res: &#123; path: string &#125;) =&gt; &#123; asset = cc.resources.get(res.path); if (asset) &#123; cc.assetManager.releaseAsset(asset); &#125; &#125;); &#125; &#125; &#125; ) å¼€å§‹ä½¿ç”¨åŸºç¡€ä½¿ç”¨ï¼ˆä»¥CocosCreator2.4.2ä¸ºä¾‹):åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ç•Œé¢ åˆ›å»ºä¸€ä¸ªç®€å•çš„ç•Œé¢çš„prefabåœ¨æµ‹è¯•åœºæ™¯ï¼Œæ–°å»ºä¸€ä¸ªnodeèŠ‚ç‚¹ï¼Œæ”¾ç‚¹å›¾ç‰‡ï¼ŒspineåŠ¨ç”»ä»€ä¹ˆçš„ã€‚ ç„¶åæ‹–åˆ°resources/display-ctrl-test-viewsä¸‹ åˆ æ‰åœºæ™¯ä¸­çš„ç•Œé¢èŠ‚ç‚¹ æ–°å»ºä¸€ä¸ªç•Œé¢æ§åˆ¶å™¨ä»£ç æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142// DepResView.ts// å¢åŠ ç•Œé¢keyå£°æ˜ï¼Œä¸ºäº†è°ƒç”¨æ˜¾ç¤ºæ¥å£æ—¶æœ‰ç±»å‹æç¤ºdeclare global &#123; interface IDpcTestViewKeyMap &#123; DepResView: \"DepResView\" &#125;&#125;export class DepResView extends NodeCtrl &#123; static typeKey = \"DepResView\"; private static _ress: &#123; path: string, type: any &#125;[]; //ç•Œé¢prefabèµ„æºè·¯å¾„ public static prefabUrl = \"display-ctrl-test-views/DepResView\"; onLoadData: IDpcTestOnLoadData = &#123; showLoading: true &#125;; //å®ç°getRessæ¥å£è¿”å›ä¾èµ–èµ„æºæ•°ç»„ getRess() &#123; if (!DepResView._ress) &#123; DepResView._ress = [ &#123; path: DepResView.prefabUrl, type: cc.Prefab &#125;, &#123; path: \"test-txts/txt1\", type: cc.TextAsset &#125; ] &#125; return DepResView._ress; &#125; //å®ç°onInitæ¥å£ï¼Œå®ä¾‹åŒ–æ˜¾ç¤ºèŠ‚ç‚¹ onInit() &#123; super.onInit() this.node = getPrefabNodeByPath(DepResView.prefabUrl); this.node.getChildByName(\"close-icon\").on(cc.Node.EventType.MOUSE_DOWN, () =&gt; &#123; dtM.uiMgr.hideDpc(this.key); &#125;) &#125; //å®ç°onShowæ¥å£ï¼Œæ·»åŠ æ˜¾ç¤ºèŠ‚ç‚¹åˆ°Canvas(æœ€å¥½æ˜¯ä½¿ç”¨å±‚çº§ç®¡ç†ï¼Œæ¯”å¦‚æˆ‘æ¡†æ¶æä¾›çš„layerå±‚çº§ç®¡ç†åº“) onShow(config: displayCtrl.IShowConfig) &#123; super.onShow(config); const canvas = cc.director.getScene().getChildByName(\"Canvas\"); canvas.addChild(this.node); &#125; onHide() &#123; super.onHide(); &#125;&#125; æ¥ä¸€ä¸²åŸºæœ¬æ“ä½œ:è°ƒç”¨ç®¡ç†å™¨æ¥å£ æ˜¾ç¤º12345//ç®€å•è°ƒç”¨æ˜¾ç¤ºdtM.uiMgr.showDpc(\"DepResView\");//æ‰“å‡ºåŒå¼•å·å°±æœ‰ç±»å‹æç¤ºäº†//ä¼ æ•°æ®è°ƒç”¨æ˜¾ç¤ºdtM.uiMgr.showDpc(\"MutiInsView\",onShowData);//æ‰“å‡ºåŒå¼•å·å°±æœ‰ç±»å‹æç¤ºäº† æ‰€ä¼ æ•°æ®ä¹Ÿæœ‰ç±»å‹æç¤ºï¼Œéœ€è¦åœ¨ä»»æ„åœ°æ–¹å£°æ˜ï¼ˆæœ€å¥½æ˜¯åœ¨å¯¹åº”çš„æ§åˆ¶å™¨ä»£ç æ–‡ä»¶ä¸­å£°æ˜ï¼‰è¿™é‡Œä»¥MutiInsViewä¸ºä¾‹ï¼Œå…·ä½“å¯è§:examples\\egf-ccc-full\\assets\\tests\\display-ctrl\\view-ctrls\\MutiInsView.ts12345678declare global &#123; interface IDpcTestViewKeyMap &#123; MutiInsView: \"MutiInsView\" &#125; interface IDpcTestViewShowDataMap &#123; MutiInsView: &#123; preStr: string, clickCount: number &#125;; &#125;&#125; æ›´æ–°å½“ä¸šåŠ¡éœ€è¦ä½¿ç”¨æ•°æ®è®©æŒ‡å®šç•Œé¢æ›´æ–°æ¸²æŸ“æ—¶è°ƒç”¨,ä»¥åŠ è½½ç•Œé¢ä¸ºä¾‹1234//å¼€å§‹åŠ è½½dtM.uiMgr.updateDpc(\"LoadingView\", &#123; finished: 0, total: 1 &#125;);//åŠ è½½ç»“æŸdtM.uiMgr.updateDpc(\"LoadingView\", &#123; finished: 1, total: 1 &#125;); è¿™ä¸ªæ›´æ–°æ‰€ä¼ çš„æ•°æ®ä¹Ÿå¯ä»¥æœ‰ç±»å‹æç¤º,è¯¦æƒ…å¯è§:examples\\egf-ccc-full\\assets\\tests\\display-ctrl\\view-ctrls\\MutiInsView.ts12345678declare global &#123; interface IDpcTestViewKeyMap &#123; LoadingView: \"LoadingView\" &#125; interface IDpcTestUpdateDataMap &#123; LoadingView: &#123; finished: number, total: number &#125; &#125;&#125; éšè— 1dtM.uiMgr.hideDpc(\"DepResView\");//æ‰“å‡ºåŒå¼•å·å°±æœ‰ç±»å‹æç¤ºäº† é”€æ¯ 1dtM.uiMgr.destroyDpc(dtM.uiMgr.keys.DepResView, true);//ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥é€‰æ‹©æ˜¯å¦é”€æ¯èµ„æº è‡ªå®šä¹‰èµ„æºå¤„ç†æ˜¾ç¤ºæ§åˆ¶å™¨ åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œå¯èƒ½æœ‰äº›ç•Œé¢çš„èµ„æºå¤„ç†é€»è¾‘ç‰¹æ®Šï¼Œéœ€è¦è‡ªå®šä¹‰ï¼Œæ¡†æ¶æä¾›äº†è‡ªå®šä¹‰èµ„æºå¤„ç†çš„æ¥å£ åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰èµ„æºå¤„ç†æ˜¾ç¤ºæ§åˆ¶å™¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243//éœ€è¦ç»§æ‰¿displayCtrl.IResHandler,ç®¡ç†å™¨ä¼šè°ƒç”¨æ§åˆ¶å™¨å®ç°çš„è¿™ä¸ªæ¥å£è€Œä¸æ˜¯é€šç”¨å¤„ç†å™¨çš„æ¥å£export class CustomResHandleView extends NodeCtrl implements displayCtrl.IResHandler &#123; static typeKey = \"CustomResHandleView\"; private static _ress: string[]; private static _monsterNames = [\"BuleMonster\", \"GreenMonster\", \"PurpleMonster\", \"RedMonster\", \"YellowMonster\"]; private static _monsterIconDir = \"monster_icon\"; private static prefabUrl: string = \"display-ctrl-test-views/CustomResHandleView\"; private _monsterIconRess: &#123; path: string, type: any &#125;[]; //è‡ªå®šä¹‰èµ„æºåŠ è½½ loadRes(config: displayCtrl.IResLoadConfig): void &#123; dtM.uiMgr.showDpc(&#123; typeKey: dtM.uiMgr.keys.LoadingView, showedCb: () =&gt; &#123; const randomMonsterNameIndexs = getSomeRandomInt(0, CustomResHandleView._monsterNames.length - 1, 2); const ress = []; this._monsterIconRess = ress; randomMonsterNameIndexs.forEach(element =&gt; &#123; ress.push(&#123; path: CustomResHandleView._monsterIconDir + \"/\" + CustomResHandleView._monsterNames[element], type: cc.SpriteFrame &#125;); &#125;); ress.push(&#123; path: CustomResHandleView.prefabUrl, type: cc.Prefab &#125;); ress.push(&#123; path: \"test-txts/txt1\", type: cc.TextAsset &#125;); cc.assetManager.loadAny(ress, &#123; bundle: \"resources\" &#125;, (finished: number, total: number, item) =&gt; &#123; dtM.uiMgr.updateDpc(dtM.uiMgr.keys.LoadingView, &#123; finished: finished, total: total &#125;) &#125;, (err, data) =&gt; &#123; if (err) &#123; config.error(); &#125; else &#123; config.complete(); &#125; dtM.uiMgr.hideDpc(\"LoadingView\"); &#125;); &#125; &#125;) &#125; //è‡ªå®šä¹‰èµ„æºé‡Šæ”¾ releaseRes(): void &#123; cc.assetManager.releaseAsset(cc.resources.get(CustomResHandleView.prefabUrl)); &#125; //çœç•¥ä»£ç &#125; ç®¡ç†å™¨çš„å…¶ä»–æ¥å£ å…·ä½“çš„æ¥å£å£°æ˜å¯ä»¥çœ‹:dp-ctrl-interfaces.ts ä¸­çš„IMgr è·å–ä¾èµ–èµ„æº,å¯ç”¨äºè·å–å¤šä¸ªæ§åˆ¶å™¨ä¾èµ–çš„èµ„æºï¼Œæ‰¹é‡é¢„åŠ è½½ è·å–å•ä¾‹æ§åˆ¶å™¨å®ä¾‹ é¢„åŠ è½½æŒ‡å®šæ§åˆ¶å™¨ åˆ›å»ºæ§åˆ¶å™¨å®ä¾‹ç­‰ç­‰ å…¶ä»–å¯èƒ½æ€§å…¶å®æ¸¸æˆä¸»è§’ä¹Ÿå¯ä»¥æ˜¯æ˜¾ç¤ºæ§åˆ¶å™¨å®ä¾‹ é€šè¿‡IShowConfigå®šåˆ¶æ›´å¤šå¯èƒ½æ€§ï¼Œæ¯”å¦‚é¡µé¢æ˜¾ç¤ºåŠ¨ç”»æ’­æ”¾å®Œå›è°ƒ åˆ©ç”¨ç®¡ç†å™¨çš„åŸºç¡€æ¥å£æ‰©å±•å‡ºç®¡ç†æ ˆå¼UIçš„é€»è¾‘ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"EasyGameFrameworkä½¿ç”¨","slug":"EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/"},{"name":"display-ctrl","slug":"EasyGameFrameworkä½¿ç”¨/display-ctrl","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/display-ctrl/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/tags/CocosCreator/"}],"keywords":[{"name":"EasyGameFrameworkä½¿ç”¨","slug":"EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/"},{"name":"display-ctrl","slug":"EasyGameFrameworkä½¿ç”¨/display-ctrl","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/display-ctrl/"}]},{"title":"è§£å†³CocosCreator2.4.xçš„ABundleä¸èƒ½ä½¿ç”¨npmåŒ…çš„é—®é¢˜","slug":"è§£å†³CocosCreator2-4-xçš„ABundleä¸èƒ½ä½¿ç”¨npmåŒ…çš„é—®é¢˜","date":"2020-12-24T15:34:39.000Z","updated":"2020-12-24T16:57:33.285Z","comments":false,"path":"2020/12/24/è§£å†³CocosCreator2-4-xçš„ABundleä¸èƒ½ä½¿ç”¨npmåŒ…çš„é—®é¢˜/","link":"","permalink":"http://yoursite.com/2020/12/24/è§£å†³CocosCreator2-4-xçš„ABundleä¸èƒ½ä½¿ç”¨npmåŒ…çš„é—®é¢˜/","excerpt":"","text":"å‰è¨€ä»Šå¤©é€›è®ºå›æ—¶ï¼Œæˆ‘çœ‹è®ºå›ä¸Šæœ‰ä¸ªå°ä¼™ä¼´é—®cocoscreatorèƒ½ä¸èƒ½ç”¨npmåŒ…ï¼Ÿ å¸–å­:cocos creator å·¥ç¨‹é‡Œé¢èƒ½è£…npmåŒ…å—ï¼Ÿ æˆ‘åœ¨æƒ³æ€ä¹ˆå¯èƒ½ä¸æ”¯æŒå‘¢? äºæ˜¯ç‚¹å‡»å»çœ‹åˆ°äº†å¤§ä½¬çš„å›ç­”ï¼Œä¹Ÿä»”ç»†çœ‹äº†å¤§ä½¬å†™çš„äº†ä¸€ç¯‡AssetBundleçš„è®²è§£æ–‡ç«  Creator | Asset Bundle å…¨è§£æ è¿™é‡Œè¯´npmåŒ…éƒ½æ‰“è¿›äº†mainè¿™ä¸ªbundleäº†ï¼Œåˆ†åŒ…é‡Œæ²¡æ³•å¼•ç”¨ è¿™å¥è¯è®©æˆ‘ä¸ç¦æƒ³äº†ä¸€ä¸‹ï¼ŒEasyGameFrameworkçš„æ‰€æœ‰åº“éƒ½æ˜¯ä»¥npmåŒ…çš„æ–¹å¼å®‰è£…ä½¿ç”¨çš„ã€‚ å¦‚æœä¸èƒ½åœ¨åˆ†åŒ…å¼•ç”¨ï¼Œé‚£ä¸å°±å¾ˆçƒ¦ï¼Ÿ æˆ‘ç”¨egf-ccc-fullçš„é¡¹ç›®åšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œå‘ç°é¢„è§ˆå¯ä»¥ï¼Œæ„å»ºå‡ºæ¥çœŸçš„ä¸è¡Œï¼ŒåŠ è½½bundleå°±ç›´æ¥æŠ¥é”™äº†ã€‚ åæ¥æˆ‘å°è¯•æŒ‚è½½åˆ°å…¨å±€ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†ç¼–ç ä½“éªŒä¸‹é™ä¸€ç™¾å€ï¼Œè¿‡ç¨‹ç¹çã€‚ æˆ‘å¿ä¸äº†äº† ä¹‹å‰å°±å‘ç°ä¸€ä¸ªè·ŸnpmåŒ…ç›¸å…³çš„é—®é¢˜ï¼šä¸æ”¯æŒå¼•ç”¨é¡¹ç›®æ–‡ä»¶å¤¹å¤–çš„npmåŒ…ï¼Œç¼–è¾‘å™¨ç¼–è¾‘å’Œæ„å»ºä¼šæŠ¥é”™ï¼ˆä½†é¢„è§ˆä¸ä¼šï¼‰é‚£ä¸ªé—®é¢˜æˆ‘å·²ç»è§£å†³äº†:CocosCreator2.4.2/2.4.3æ— æ³•ç¼–è¯‘å¼•ç”¨äº†é¡¹ç›®æ–‡ä»¶å¤¹å¤–éƒ¨çš„npmæ¨¡å— æ‰€ä»¥æˆ‘è§‰å¾—è¿™ä¸¤ä¸ªé—®é¢˜åº”è¯¥æ˜¯å·®ä¸å¤šçš„ã€‚ ä»Šå¤©æˆ‘å°±è®©ABundleæ”¯æŒå¼•ç”¨npmåŒ…ï¼ï¼ï¼ @ä¸€ä¸‹å¼•æ“ç»„ é—®é¢˜é‡è¦å—?æˆ‘è§‰å¾—å¾ˆé‡è¦! è™½ç„¶è¯´å¯ä»¥å°†npmåŒ…çš„ä¸œè¥¿æŒ‚è½½åˆ°å…¨å±€ï¼Œç„¶ååœ¨åˆ†åŒ…é‡Œçš„è„šæœ¬ï¼Œå»å…¨å±€å–ç”¨ã€‚ ä½†è¿™æ ·ä¸å®‰å…¨ã€‚æ§åˆ¶å°ä¹Ÿå¯ä»¥è®¿é—®åˆ°äº†ã€‚ è€Œä¸”æœ€é‡è¦çš„æ˜¯ï¼Œå¾ˆåˆ«æ‰­ï¼Œä½ çŸ¥é“å§ï¼Ÿè¿™ç¼–ç ä½“éªŒå¾ˆä¸çˆ½äº†ã€‚ EasyGameFrameworkçš„å‡ºå‘ç‚¹å°±æ˜¯è¦è®©ç¼–ç æ›´åŠ Easyï¼Œæ›´åŠ çˆ½ã€‚ æ‰€ä»¥ä»Šå¤©æˆ‘å°±è®©ABundleæ”¯æŒå¼•ç”¨npmåŒ…ï¼ï¼ï¼ä»Šå¤©æˆ‘å°±è®©ABundleæ”¯æŒå¼•ç”¨npmåŒ…ï¼ï¼ï¼è®©EasyGameFrameworkæ— ç¼æ”¯æŒåˆ†åŒ…ä½¿ç”¨ å¤ç°é—®é¢˜flagå·²ç»ç«‹äº†ï¼Œè¯´æ˜æˆ‘å·²ç»è§£å†³äº†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ~ å®ƒä¸å¯èƒ½å€’ä¸‹çš„~ æˆ‘ä»¬å…ˆæŠŠé—®é¢˜å¤ç°å‡ºæ¥ï¼Œçœ‹çœ‹æ˜¯æ€ä¹ˆå›äº‹ã€‚ åªæœ‰æ„å»ºä¹‹åæ‰èƒ½çœ‹å‡ºé—®é¢˜ï¼Œæ‰€ä»¥å…ˆæ„å»ºä¸€æ³¢ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨egf-ccc-fullæ¥æµ‹è¯•ã€‚ https://github.com/AILHC/EasyGameFrameworkOpen/tree/main/examples/egf-ccc-full å¤§å®¶å¯ä»¥å…‹éš†ä¸‹æ¥çœ‹çœ‹ æˆ‘ç®€å•è®²ä¸€ä¸‹æˆ‘çš„æµ‹è¯•é€»è¾‘ åŠ è½½abtestè¿™ä¸ªåŒ…ï¼štest/display-ctrl/abtestï¼Œç„¶åå°†è¿™ä¸ªåŒ…é‡Œçš„ABTestModuleæ³¨å…¥æ¨¡å—ç®¡ç†å™¨ é€šè¿‡abtestæ¨¡å—çš„é€»è¾‘ï¼Œæ˜¾ç¤ºabtesté‡Œçš„ç•Œé¢ ABTestModuleæ³¨å…¥å…¨å±€ ABTestViewç»§æ‰¿@ailhc/dpctrl-cccåŒ…çš„NodeCtrlè¿è¡Œæ„å»ºåçš„çœ‹çœ‹æŠ¥é”™æ‰¾ä¸åˆ°æ¨¡å—ï¼Œè¿™ä¸ªæŠ¥é”™çš„æ¨¡å—åæœ‰ç‚¹å¥‡æ€ªå•Šï¼Œä¸æ˜¯æˆ‘çš„åŒ…å@ailhc/dpctrl-ccc,è¢«åˆ‡äº†ä¸‡èƒ½çš„æ–­ç‚¹è°ƒè¯• æˆ‘ä»¬ä¼šå‘ç°ï¼Œåœ¨åˆ†åŒ…çš„index.jsæ‰¾ä¸åˆ°ï¼Œåªæœ‰ä¸¤ä¸ªåŒ…å†…çš„è„šæœ¬æ¨¡å—å¯¹è±¡ ä¸‹ä¸€æ­¥ã€‚ ç„¶åå®ƒæŠŠåŒ…ååˆ‡å‰²äº†ï¼ï¼ï¼ï¼å°±è¿™æ ·å°±åˆ‡å‰²äº†ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼ä¸ºä»€ä¹ˆï¼Ÿ ç»™ä¸æ‡‚çš„ç§‘æ™®ä¸€ä¸‹npmåŒ…å Â· npmåŒ…åæ˜¯æ²¡æœ‰./æˆ–è€…../çš„ï¼Œå¤§å¤šæ˜¯åªæœ‰ä¸€ä¸ªåå­— æ¯”å¦‚xstate Â· æœ‰ä¸€äº›ç‰¹æ®Šçš„åŒ…åæ¯”å¦‚:@babel/coreï¼Œæ¯”å¦‚@ailhc/egf-core ç»§ç»­è·Ÿè¸ªï¼Œå®ƒè¿›äº†ä¸€ä¸ªrequireå‡½æ•°ï¼Œç„¶åè·³è½¬è¿‡å»ï¼Œå‘ç°è¿™ä¸ªindex.jsæ˜¯main bundleé‡Œçš„é€šè¿‡åˆ‡å‰²åçš„åå­—dpctrl-cccåˆ°mainåŒ…é‡Œä¹Ÿæ²¡æ‰¾åˆ°å…¶å®mainåŒ…é‡Œåº”è¯¥æ˜¯æœ‰è¿™ä¸ªåŒ…çš„ï¼Œåªæ˜¯keyä¸å¯¹ã€‚æˆ‘é€šè¿‡è°ƒè¯•main index.jsä¸­å¯¹@ailhc/dpctrl-cccçš„å¼•ç”¨å…¶å®æ˜¯å¯ä»¥æ‰¾åˆ°çš„ï¼Œåªæ˜¯å®ƒçš„key è½¬åŒ–ä¸º4 è°ƒè¯•æ€»ç»“é€šè¿‡è¿™ç³»åˆ—è°ƒè¯•ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ ä¸»åŒ…mainé‡Œçš„index.jsæœ‰npmåŒ…æ¨¡å—ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨ åˆ†åŒ…é‡Œçš„index.jså¦‚æœå¼•ç”¨äº†åŒ…å¤–çš„è„šæœ¬æ¨¡å—ï¼Œåˆ™ä¼šå‘ä¸ŠmainåŒ…æŸ¥æ‰¾ï¼ŒæŸ¥ä¸åˆ°å°±æŠ¥é”™ è€Œè¿™ä¸ªåˆ†åŒ…å‘ä¸»åŒ…æŸ¥æ‰¾æ¨¡å—çš„é€»è¾‘é‡Œï¼Œæ²¡è€ƒè™‘åˆ°npmåŒ…åçš„æƒ…å†µ ä¸»åŒ…å’Œåˆ†åŒ…é‡Œçš„index.jsçš„å¼€å¤´é‚£éƒ¨åˆ†éƒ½å¾ˆåƒï¼Œåƒæ˜¯æ¨¡æ¿ æ€»ç»“å®Œä¹‹åï¼Œæˆ‘ä»¬å°±å»æ ¹æ®æˆ‘ä»¬è°ƒè¯•çš„æˆæœå»å°è¯•è§£å†³é—®é¢˜ å¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿé¦–å…ˆå¾—æ‰¾åˆ°æ¨¡æ¿index.jså¼€å¤´é€šè¿‡è¿›å…¥ç¼–è¾‘å™¨ç›®å½•ï¼Œæœç´¢æ–‡æœ¬__requireæ‰¾åˆ°äº†CocosDashboard\\resources.editors\\Creator\\2.4.2\\resources\\static_prelude.js12345678910111213141516171819202122232425262728(function e(t, n, r) &#123; function s(o, u) &#123; if (!n[o]) &#123; if (!t[o]) &#123; var b = o.split('/'); b = b[b.length - 1]; if (!t[b]) &#123; var a = \"function\" == typeof __require &amp;&amp; __require; if (!u &amp;&amp; a) return a(b, !0); if (i) return i(b, !0); throw new Error(\"Cannot find module '\" + o + \"'\"); &#125; o = b; &#125; var f = n[o] = &#123; exports: &#123;&#125; &#125;; t[o][0].call(f.exports, function (e) &#123; var n = t[o][1][e]; return s(n || e); &#125;, f, f.exports, e, t, n, r); &#125; return n[o].exports; &#125; var i = \"function\" == typeof __require &amp;&amp; __require; for (var o = 0; o &lt; r.length; o++) s(r[o]); return s;&#125;) å¾ˆåƒå•Šå“ˆ ç®€ç›´å°±æ˜¯ğŸ™„ ç„¶åæˆ‘ç®€å•çš„åŠ äº†ä¸€å¥logï¼Œå‘ç°é‡æ–°æ„å»ºä¹‹åè¾“å‡ºå‡ºæ¥äº†ï¼Œè¯´æ˜æ”¹è¿™ä¸ªæœ‰æ•ˆ ç„¶åå‘¢ï¼Œè§£å†³é‚£ä¸ªåˆ‡æ‰æˆ‘npmåŒ…åçš„é€»è¾‘å…ˆåˆ¤æ–­è·¯å¾„æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œå†å†³å®šåˆ‡ä¸åˆ‡ 12345678var b = o;if (o.includes(\"./\")) &#123;//å†…éƒ¨ä»£ç b = o.split(\"/\");b = b[b.length - 1];&#125; else &#123; //npmåŒ…ä»£ç &#125; æœ€åå‘¢ï¼Œå› ä¸ºä¸»åŒ…ä¸­ï¼ŒnpmåŒ…åŒ…åå’Œæ¨¡å—å¯¹è±¡çš„å¯¹åº”å…³ç³»è¢«è½¬æ¢äº†æ‰€ä»¥å‘¢ æˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡å¼•ç”¨çš„æ—¶å€™ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯npmåŒ…ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä»¥åŒ…åä¸ºkeyï¼Œè®°å½•ä¸€ä¸‹ï¼Œä¸‹æ¬¡å¥½ç”¨åŒ…åæŸ¥æ‰¾ 123456789101112131415161718192021222324252627282930313233343536373839(function e(t, n, r) &#123; function s(o, u, npmPkgName) &#123; if (!n[o]) &#123; if (!t[o]) &#123; var b = o; if (o.includes(\"./\")) &#123; //å†…éƒ¨ä»£ç  b = o.split(\"/\"); b = b[b.length - 1]; &#125; else &#123; //npmåŒ…ä»£ç  &#125; if (!t[b]) &#123; var a = \"function\" == typeof __require &amp;&amp; __require; if (!u &amp;&amp; a) return a(b, !0); if (i) return i(b, !0); throw new Error(\"Cannot find module '\" + o + \"'\"); &#125; o = b; &#125; var f = n[o] = &#123; exports: &#123;&#125; &#125;; t[o][0].call(f.exports, function (e) &#123; var n = t[o][1][e]; //åˆ¤æ–­æ˜¯ä¸æ˜¯npmåŒ…ï¼Œæ˜¯å°±ä¼ åŒ…å return s(n || e, undefined, !e.includes(\"./\") ? e : undefined); &#125;, f, f.exports, e, t, n, r); &#125; //åˆ¤æ–­æ˜¯ä¸æ˜¯npmåŒ…ï¼Œæ˜¯å°±ç”¨åŒ…åä½œä¸ºkeyå­˜ä¸€ä¸‹æ¨¡å—å¼•ç”¨ if (npmPkgName &amp;&amp; n[o] &amp;&amp; !n[npmPkgName]) &#123; n[npmPkgName] = n[o]; &#125; return n[o].exports; &#125; var i = \"function\" == typeof __require &amp;&amp; __require; for (var o = 0; o &lt; r.length; o++) s(r[o]); return s;&#125;) é‡æ–°æ„å»ºï¼Œè¿è¡Œï¼Œæ²¡æœ‰æŠ¥é”™~æå®šæ•£èŠ±~ é‡è¦æç¤ºè™½ç„¶è¯´æå®šäº†ï¼Œä½†å®ƒè¿˜æ˜¯æœ‰å±€é™æ€§çš„ æ¯”å¦‚ï¼Œä½ ä¸»åŒ…æ²¡æœ‰å¼•ç”¨è¿‡npmåŒ…ï¼Œé‚£ä¹ˆä½ åˆ†åŒ…ä¹Ÿå¼•ç”¨ä¸äº† æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/categories/CocosCreator/"},{"name":"EasyGameFrameworkä½¿ç”¨","slug":"CocosCreator/EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/CocosCreator/EasyGameFrameworkä½¿ç”¨/"}],"tags":[{"name":"npm","slug":"npm","permalink":"http://yoursite.com/tags/npm/"},{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/tags/CocosCreator/"}],"keywords":[{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/categories/CocosCreator/"},{"name":"EasyGameFrameworkä½¿ç”¨","slug":"CocosCreator/EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/CocosCreator/EasyGameFrameworkä½¿ç”¨/"}]},{"title":"è§£å†³CocosCreator2.4.xçš„ABundleä¸èƒ½ä½¿ç”¨npmåŒ…çš„é—®é¢˜","slug":"Fix-the-problem-with-the-NPM-package-not-available-in-the-ABundle-of-Cocoscreator2-4-x","date":"2020-12-21T12:00:09.000Z","updated":"2020-12-25T00:15:19.522Z","comments":false,"path":"2020/12/21/Fix-the-problem-with-the-NPM-package-not-available-in-the-ABundle-of-Cocoscreator2-4-x/","link":"","permalink":"http://yoursite.com/2020/12/21/Fix-the-problem-with-the-NPM-package-not-available-in-the-ABundle-of-Cocoscreator2-4-x/","excerpt":"","text":"å‰è¨€ä»Šå¤©é€›è®ºå›æ—¶ï¼Œæˆ‘çœ‹è®ºå›ä¸Šæœ‰ä¸ªå°ä¼™ä¼´é—®cocoscreatorèƒ½ä¸èƒ½ç”¨npmåŒ…ï¼Ÿ å¸–å­:cocos creator å·¥ç¨‹é‡Œé¢èƒ½è£…npmåŒ…å—ï¼Ÿ æˆ‘åœ¨æƒ³æ€ä¹ˆå¯èƒ½ä¸æ”¯æŒå‘¢? äºæ˜¯ç‚¹å‡»å»çœ‹åˆ°äº†å¤§ä½¬çš„å›ç­”ï¼Œä¹Ÿä»”ç»†çœ‹äº†å¤§ä½¬å†™çš„äº†ä¸€ç¯‡AssetBundleçš„è®²è§£æ–‡ç«  Creator | Asset Bundle å…¨è§£æ è¿™é‡Œè¯´npmåŒ…éƒ½æ‰“è¿›äº†mainè¿™ä¸ªbundleäº†ï¼Œåˆ†åŒ…é‡Œæ²¡æ³•å¼•ç”¨ è¿™å¥è¯è®©æˆ‘ä¸ç¦æƒ³äº†ä¸€ä¸‹ï¼ŒEasyGameFrameworkçš„æ‰€æœ‰åº“éƒ½æ˜¯ä»¥npmåŒ…çš„æ–¹å¼å®‰è£…ä½¿ç”¨çš„ã€‚ å¦‚æœä¸èƒ½åœ¨åˆ†åŒ…å¼•ç”¨ï¼Œé‚£ä¸å°±å¾ˆçƒ¦ï¼Ÿ æˆ‘ç”¨egf-ccc-fullçš„é¡¹ç›®åšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œå‘ç°é¢„è§ˆå¯ä»¥ï¼Œæ„å»ºå‡ºæ¥çœŸçš„ä¸è¡Œï¼ŒåŠ è½½bundleå°±ç›´æ¥æŠ¥é”™äº†ã€‚ åæ¥æˆ‘å°è¯•æŒ‚è½½åˆ°å…¨å±€ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†ç¼–ç ä½“éªŒä¸‹é™ä¸€ç™¾å€ï¼Œè¿‡ç¨‹ç¹çã€‚ æˆ‘å¿ä¸äº†äº† ä¹‹å‰å°±å‘ç°ä¸€ä¸ªè·ŸnpmåŒ…ç›¸å…³çš„é—®é¢˜ï¼šä¸æ”¯æŒå¼•ç”¨é¡¹ç›®æ–‡ä»¶å¤¹å¤–çš„npmåŒ…ï¼Œç¼–è¾‘å™¨ç¼–è¾‘å’Œæ„å»ºä¼šæŠ¥é”™ï¼ˆä½†é¢„è§ˆä¸ä¼šï¼‰é‚£ä¸ªé—®é¢˜æˆ‘å·²ç»è§£å†³äº†:CocosCreator2.4.2/2.4.3æ— æ³•ç¼–è¯‘å¼•ç”¨äº†é¡¹ç›®æ–‡ä»¶å¤¹å¤–éƒ¨çš„npmæ¨¡å— æ‰€ä»¥æˆ‘è§‰å¾—è¿™ä¸¤ä¸ªé—®é¢˜åº”è¯¥æ˜¯å·®ä¸å¤šçš„ã€‚ ä»Šå¤©æˆ‘å°±è®©ABundleæ”¯æŒå¼•ç”¨npmåŒ…ï¼ï¼ï¼ @ä¸€ä¸‹å¼•æ“ç»„ é—®é¢˜é‡è¦å—?æˆ‘è§‰å¾—å¾ˆé‡è¦! è™½ç„¶è¯´å¯ä»¥å°†npmåŒ…çš„ä¸œè¥¿æŒ‚è½½åˆ°å…¨å±€ï¼Œç„¶ååœ¨åˆ†åŒ…é‡Œçš„è„šæœ¬ï¼Œå»å…¨å±€å–ç”¨ã€‚ ä½†è¿™æ ·ä¸å®‰å…¨ã€‚æ§åˆ¶å°ä¹Ÿå¯ä»¥è®¿é—®åˆ°äº†ã€‚ è€Œä¸”æœ€é‡è¦çš„æ˜¯ï¼Œå¾ˆåˆ«æ‰­ï¼Œä½ çŸ¥é“å§ï¼Ÿè¿™ç¼–ç ä½“éªŒå¾ˆä¸çˆ½äº†ã€‚ EasyGameFrameworkçš„å‡ºå‘ç‚¹å°±æ˜¯è¦è®©ç¼–ç æ›´åŠ Easyï¼Œæ›´åŠ çˆ½ã€‚ æ‰€ä»¥ä»Šå¤©æˆ‘å°±è®©ABundleæ”¯æŒå¼•ç”¨npmåŒ…ï¼ï¼ï¼ä»Šå¤©æˆ‘å°±è®©ABundleæ”¯æŒå¼•ç”¨npmåŒ…ï¼ï¼ï¼è®©EasyGameFrameworkæ— ç¼æ”¯æŒåˆ†åŒ…ä½¿ç”¨ å¤ç°é—®é¢˜flagå·²ç»ç«‹äº†ï¼Œè¯´æ˜æˆ‘å·²ç»è§£å†³äº†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ~ å®ƒä¸å¯èƒ½å€’ä¸‹çš„~ æˆ‘ä»¬å…ˆæŠŠé—®é¢˜å¤ç°å‡ºæ¥ï¼Œçœ‹çœ‹æ˜¯æ€ä¹ˆå›äº‹ã€‚ åªæœ‰æ„å»ºä¹‹åæ‰èƒ½çœ‹å‡ºé—®é¢˜ï¼Œæ‰€ä»¥å…ˆæ„å»ºä¸€æ³¢ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨egf-ccc-fullæ¥æµ‹è¯•ã€‚ https://github.com/AILHC/EasyGameFrameworkOpen/tree/main/examples/egf-ccc-full å¤§å®¶å¯ä»¥å…‹éš†ä¸‹æ¥çœ‹çœ‹ æˆ‘ç®€å•è®²ä¸€ä¸‹æˆ‘çš„æµ‹è¯•é€»è¾‘ åŠ è½½abtestè¿™ä¸ªåŒ…ï¼štest/display-ctrl/abtestï¼Œç„¶åå°†è¿™ä¸ªåŒ…é‡Œçš„ABTestModuleæ³¨å…¥æ¨¡å—ç®¡ç†å™¨ é€šè¿‡abtestæ¨¡å—çš„é€»è¾‘ï¼Œæ˜¾ç¤ºabtesté‡Œçš„ç•Œé¢ ABTestModuleæ³¨å…¥å…¨å±€ ABTestViewç»§æ‰¿@ailhc/dpctrl-cccåŒ…çš„NodeCtrlè¿è¡Œæ„å»ºåçš„çœ‹çœ‹æŠ¥é”™æ‰¾ä¸åˆ°æ¨¡å—ï¼Œè¿™ä¸ªæŠ¥é”™çš„æ¨¡å—åæœ‰ç‚¹å¥‡æ€ªå•Šï¼Œä¸æ˜¯æˆ‘çš„åŒ…å@ailhc/dpctrl-ccc,è¢«åˆ‡äº†ä¸‡èƒ½çš„æ–­ç‚¹è°ƒè¯• æˆ‘ä»¬ä¼šå‘ç°ï¼Œåœ¨åˆ†åŒ…çš„index.jsæ‰¾ä¸åˆ°ï¼Œåªæœ‰ä¸¤ä¸ªåŒ…å†…çš„è„šæœ¬æ¨¡å—å¯¹è±¡ ä¸‹ä¸€æ­¥ã€‚ ç„¶åå®ƒæŠŠåŒ…ååˆ‡å‰²äº†ï¼ï¼ï¼ï¼å°±è¿™æ ·å°±åˆ‡å‰²äº†ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼ä¸ºä»€ä¹ˆï¼Ÿ ç»™ä¸æ‡‚çš„ç§‘æ™®ä¸€ä¸‹npmåŒ…å Â· npmåŒ…åæ˜¯æ²¡æœ‰./æˆ–è€…../çš„ï¼Œå¤§å¤šæ˜¯åªæœ‰ä¸€ä¸ªåå­— æ¯”å¦‚xstate Â· æœ‰ä¸€äº›ç‰¹æ®Šçš„åŒ…åæ¯”å¦‚:@babel/coreï¼Œæ¯”å¦‚@ailhc/egf-core ç»§ç»­è·Ÿè¸ªï¼Œå®ƒè¿›äº†ä¸€ä¸ªrequireå‡½æ•°ï¼Œç„¶åè·³è½¬è¿‡å»ï¼Œå‘ç°è¿™ä¸ªindex.jsæ˜¯main bundleé‡Œçš„é€šè¿‡åˆ‡å‰²åçš„åå­—dpctrl-cccåˆ°mainåŒ…é‡Œä¹Ÿæ²¡æ‰¾åˆ°å…¶å®mainåŒ…é‡Œåº”è¯¥æ˜¯æœ‰è¿™ä¸ªåŒ…çš„ï¼Œåªæ˜¯keyä¸å¯¹ã€‚æˆ‘é€šè¿‡è°ƒè¯•main index.jsä¸­å¯¹@ailhc/dpctrl-cccçš„å¼•ç”¨å…¶å®æ˜¯å¯ä»¥æ‰¾åˆ°çš„ï¼Œåªæ˜¯å®ƒçš„key è½¬åŒ–ä¸º4 è°ƒè¯•æ€»ç»“é€šè¿‡è¿™ç³»åˆ—è°ƒè¯•ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ ä¸»åŒ…mainé‡Œçš„index.jsæœ‰npmåŒ…æ¨¡å—ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨ åˆ†åŒ…é‡Œçš„index.jså¦‚æœå¼•ç”¨äº†åŒ…å¤–çš„è„šæœ¬æ¨¡å—ï¼Œåˆ™ä¼šå‘ä¸ŠmainåŒ…æŸ¥æ‰¾ï¼ŒæŸ¥ä¸åˆ°å°±æŠ¥é”™ è€Œè¿™ä¸ªåˆ†åŒ…å‘ä¸»åŒ…æŸ¥æ‰¾æ¨¡å—çš„é€»è¾‘é‡Œï¼Œæ²¡è€ƒè™‘åˆ°npmåŒ…åçš„æƒ…å†µ ä¸»åŒ…å’Œåˆ†åŒ…é‡Œçš„index.jsçš„å¼€å¤´é‚£éƒ¨åˆ†éƒ½å¾ˆåƒï¼Œåƒæ˜¯æ¨¡æ¿ æ€»ç»“å®Œä¹‹åï¼Œæˆ‘ä»¬å°±å»æ ¹æ®æˆ‘ä»¬è°ƒè¯•çš„æˆæœå»å°è¯•è§£å†³é—®é¢˜ å¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿé¦–å…ˆå¾—æ‰¾åˆ°æ¨¡æ¿index.jså¼€å¤´é€šè¿‡è¿›å…¥ç¼–è¾‘å™¨ç›®å½•ï¼Œæœç´¢æ–‡æœ¬__requireæ‰¾åˆ°äº†CocosDashboard\\resources.editors\\Creator\\2.4.2\\resources\\static_prelude.js12345678910111213141516171819202122232425262728(function e(t, n, r) &#123; function s(o, u) &#123; if (!n[o]) &#123; if (!t[o]) &#123; var b = o.split('/'); b = b[b.length - 1]; if (!t[b]) &#123; var a = \"function\" == typeof __require &amp;&amp; __require; if (!u &amp;&amp; a) return a(b, !0); if (i) return i(b, !0); throw new Error(\"Cannot find module '\" + o + \"'\"); &#125; o = b; &#125; var f = n[o] = &#123; exports: &#123;&#125; &#125;; t[o][0].call(f.exports, function (e) &#123; var n = t[o][1][e]; return s(n || e); &#125;, f, f.exports, e, t, n, r); &#125; return n[o].exports; &#125; var i = \"function\" == typeof __require &amp;&amp; __require; for (var o = 0; o &lt; r.length; o++) s(r[o]); return s;&#125;) å¾ˆåƒå•Šå“ˆ ç®€ç›´å°±æ˜¯ğŸ™„ ç„¶åæˆ‘ç®€å•çš„åŠ äº†ä¸€å¥logï¼Œå‘ç°é‡æ–°æ„å»ºä¹‹åè¾“å‡ºå‡ºæ¥äº†ï¼Œè¯´æ˜æ”¹è¿™ä¸ªæœ‰æ•ˆ ç„¶åå‘¢ï¼Œè§£å†³é‚£ä¸ªåˆ‡æ‰æˆ‘npmåŒ…åçš„é€»è¾‘å…ˆåˆ¤æ–­è·¯å¾„æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œå†å†³å®šåˆ‡ä¸åˆ‡ 12345678var b = o;if (o.includes(\"./\")) &#123;//å†…éƒ¨ä»£ç b = o.split(\"/\");b = b[b.length - 1];&#125; else &#123; //npmåŒ…ä»£ç &#125; æœ€åå‘¢ï¼Œå› ä¸ºä¸»åŒ…ä¸­ï¼ŒnpmåŒ…åŒ…åå’Œæ¨¡å—å¯¹è±¡çš„å¯¹åº”å…³ç³»è¢«è½¬æ¢äº†æ‰€ä»¥å‘¢ æˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡å¼•ç”¨çš„æ—¶å€™ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯npmåŒ…ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä»¥åŒ…åä¸ºkeyï¼Œè®°å½•ä¸€ä¸‹ï¼Œä¸‹æ¬¡å¥½ç”¨åŒ…åæŸ¥æ‰¾ 123456789101112131415161718192021222324252627282930313233343536373839(function e(t, n, r) &#123; function s(o, u, npmPkgName) &#123; if (!n[o]) &#123; if (!t[o]) &#123; var b = o; if (o.includes(\"./\")) &#123; //å†…éƒ¨ä»£ç  b = o.split(\"/\"); b = b[b.length - 1]; &#125; else &#123; //npmåŒ…ä»£ç  &#125; if (!t[b]) &#123; var a = \"function\" == typeof __require &amp;&amp; __require; if (!u &amp;&amp; a) return a(b, !0); if (i) return i(b, !0); throw new Error(\"Cannot find module '\" + o + \"'\"); &#125; o = b; &#125; var f = n[o] = &#123; exports: &#123;&#125; &#125;; t[o][0].call(f.exports, function (e) &#123; var n = t[o][1][e]; //åˆ¤æ–­æ˜¯ä¸æ˜¯npmåŒ…ï¼Œæ˜¯å°±ä¼ åŒ…å return s(n || e, undefined, !e.includes(\"./\") ? e : undefined); &#125;, f, f.exports, e, t, n, r); &#125; //åˆ¤æ–­æ˜¯ä¸æ˜¯npmåŒ…ï¼Œæ˜¯å°±ç”¨åŒ…åä½œä¸ºkeyå­˜ä¸€ä¸‹æ¨¡å—å¼•ç”¨ if (npmPkgName &amp;&amp; n[o] &amp;&amp; !n[npmPkgName]) &#123; n[npmPkgName] = n[o]; &#125; return n[o].exports; &#125; var i = \"function\" == typeof __require &amp;&amp; __require; for (var o = 0; o &lt; r.length; o++) s(r[o]); return s;&#125;) é‡æ–°æ„å»ºï¼Œè¿è¡Œï¼Œæ²¡æœ‰æŠ¥é”™~æå®šæ•£èŠ±~ é‡è¦æç¤ºè™½ç„¶è¯´æå®šäº†ï¼Œä½†å®ƒè¿˜æ˜¯æœ‰å±€é™æ€§çš„ æ¯”å¦‚ï¼Œä½ ä¸»åŒ…æ²¡æœ‰å¼•ç”¨è¿‡npmåŒ…ï¼Œé‚£ä¹ˆä½ åˆ†åŒ…ä¹Ÿå¼•ç”¨ä¸äº† æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"EasyGameFrameworkä½¿ç”¨","slug":"EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/"},{"name":"CocosCreator","slug":"EasyGameFrameworkä½¿ç”¨/CocosCreator","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/CocosCreator/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"npm","slug":"npm","permalink":"http://yoursite.com/tags/npm/"},{"name":"CocosCreator","slug":"CocosCreator","permalink":"http://yoursite.com/tags/CocosCreator/"}],"keywords":[{"name":"EasyGameFrameworkä½¿ç”¨","slug":"EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/"},{"name":"CocosCreator","slug":"EasyGameFrameworkä½¿ç”¨/CocosCreator","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/CocosCreator/"}]},{"title":"é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„è®¾è®¡ä¸å®ç°","slug":"Design-and-implementation-of-a-general-game-display-management-framework","date":"2020-12-19T14:06:23.000Z","updated":"2020-12-20T04:44:12.403Z","comments":true,"path":"2020/12/19/Design-and-implementation-of-a-general-game-display-management-framework/","link":"","permalink":"http://yoursite.com/2020/12/19/Design-and-implementation-of-a-general-game-display-management-framework/","excerpt":"","text":"@TOC å‰è¨€è¿™ä¸ªæœˆæœˆåˆï¼Œæˆ‘å‘äº†å‡ ç¯‡æ–‡ç« åˆ†äº«äº†æˆ‘å†™æ¡†æ¶çš„å¿ƒè·¯å†ç¨‹å’Œä¸€äº›è‡ªå·±çš„æƒ³æ³•ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥é€šè¿‡æ–‡æœ«é“¾æ¥å›é¡¾ã€‚ åŒæ—¶æˆ‘å‘å¸ƒäº†æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºæ¸è¿›å¼H5æ¸¸æˆå¼€å‘æ¡†æ¶: EasyGameFrameworkOpen æä¾›å¼ºå¤§è½»é‡çº§çš„æ ¸å¿ƒåº“:æ¨¡å—ç®¡ç†åº“ @ailhc/egf-coreã€‚å¯ä»¥æ— ç¼æ¥å…¥ä»»æ„å¼•æ“æ¸¸æˆé¡¹ç›® ä»¥åŠæä¾›ä¸€ä¸ªåŸºäºrollupçš„typescriptåº“æ„å»ºå·¥å…·: @ailhc/egf-cliï¼Œå¯ä»¥æ„å»ºå‡ºé€‚åˆä»»æ„å¼•æ“é¡¹ç›®çš„jsåº“å’Œå•ä¸€.d.tså£°æ˜æ–‡ä»¶ ç±»ä¼¼cocos.d.tså£°æ˜æ–‡ä»¶ã€‚ åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä¹Ÿé¢„å‘Šäº†ï¼Œè¿˜æœ‰åç»­çš„åˆ†äº«ã€‚åç»­çš„åˆ†äº«ä¹Ÿæ˜¯å…³äºæ¡†æ¶å…¶ä»–åº“çš„è®¾è®¡ä¸å®ç°çš„ã€‚ è™½ç„¶æ–‡ç« è¿˜æ²¡å‡ºï¼Œä½†ä¸€ç›´åœ¨æ›´æ–°ã€‚ å¤§å®¶å¯ä»¥å…³æ³¨æ¡†æ¶çš„githubä»“åº“ï¼Œå¦‚æœå¯ä»¥ï¼Œç»™ä¸ªstarå“¦ã€‚ ä¸ºä»€ä¹ˆé¸½äº†è¿™ä¹ˆä¹…æ‰æ›´æ–°å‘¢ï¼Ÿæœ¬æ¥é¢„æœŸæ˜¯ä¸Šä¸ªæ˜ŸæœŸæ›´æ–°çš„ã€‚ ä½†æ˜¯æ¶…~(ï¿£â–½ï¿£)~* é¦–å…ˆå·¥ä½œæ¯”è¾ƒå¿™ï¼Œå®¶é‡Œåˆæœ‰äº‹æƒ…éœ€è¦å¤„ç† åŒæ—¶ï¼Œæ¥ä¸‹æ¥è¦è®²çš„è¿™ä¸ªæ–¹é¢æˆ‘è§‰å¾—æ¯”è¾ƒéš¾ï¼Œæˆ‘æƒ³è¦è®²æ¸…æ¥šè®²æ˜ç™½(åŸè°…æˆ‘ç¨šå«©çš„ç¬”è§¦) æˆ‘æƒ³æ·»åŠ å°½å¯èƒ½å¤šçš„å•å…ƒæµ‹è¯•å’Œdemoä¾‹å­(æ¯•ç«Ÿè¦å¾€æ›´åŠ è§„èŒƒçš„å·¥ç¨‹åŒ–é æ‹¢) é¸½å­ğŸ•Š : åˆ«å“”å“”ï¼Œé¸½äº†å°±æ˜¯é¸½äº†ï¼Œèµ¶ç´§è¿›å…¥æ­£é¢˜~ æˆ‘: å¥½å˜~ èƒŒæ™¯åšæ¸¸æˆï¼Œç»å¤§éƒ¨åˆ†ï¼ŒUIäº¤äº’ç•Œé¢æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ å½“é¡¹ç›®çš„UIç•Œé¢å¤šèµ·æ¥çš„æ—¶å€™ï¼Œè€Œä¸”ç­–åˆ’ä»¬çš„éœ€æ±‚åƒå¥‡ç™¾æ€ªï¼Œè¿­ä»£é¢‘ç¹çš„æ—¶å€™ï¼Œå°±ä¼šè®©æˆ‘ä»¬éå¸¸å¤´ç–¼ã€‚ æ¥ä¸‹æ¥æˆ‘å°†ä»¥æˆ‘ç¨šå«©çš„ç¬”è§¦åˆ†äº«æˆ‘æ˜¯å¦‚ä½•åˆ†æå’Œè§£å†³è¿™ä¸ªå¤´ç–¼é—®é¢˜çš„ã€‚ è¿™ä¸ªè®®é¢˜åå‘ä¸»è§‚å’Œå¼€æ”¾ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ä¸šåŠ¡å¼€å‘ç»å†å’Œæƒ³æ³•ï¼Œè€Œæˆ‘å°±åœ¨æ­¤æŠ›ç –å¼•ç‰ï¼ŒçŒ®ä¸‘äº†ã€‚ å¦‚æœ‰ä¸è¶³ï¼Œè¯·å„ä½å¤šå¤šæŒ‡æ•™ğŸ™( â€¢Ì€ Ï‰ â€¢Ì )âœ§ æœ¬è´¨éœ€æ±‚æˆ‘ä»¬æ¥çœ‹ä¸¤ç§æƒ…æ™¯ ç­–åˆ’æäº†ä¸€ä¸ªéœ€æ±‚:ä¸€ä¸ªæœ‰äº”å½©æ–‘æ–“çš„é»‘èƒŒæ™¯çš„æ–‡æœ¬æç¤ºç•Œé¢B-&gt;ç¨‹åºå‘˜å»å®ç°ç•Œé¢Bçš„é€»è¾‘ ç‚¹å‡»AæŒ‰é’®-&gt;æ˜¾ç¤ºBç•Œé¢ è¿™ä¸¤ä¸ªæƒ…æ™¯å°±æ˜¯æˆ‘ä»¬å¼€å‘ä¸­æœ€æœ€æœ€å¸¸è§ï¼Œæœ€æœ€æœ€æœ¬è´¨çš„ä¸¤ä¸ªéœ€æ±‚ï¼š å®ç°UIç•Œé¢é€»è¾‘ è°ƒç”¨ç•Œé¢ é‚£ä¹ˆæˆ‘ä»¬å¤´ç–¼ä¹Ÿå°±æ˜¯è¿™ä¸¤ä¸ªéœ€æ±‚çš„å®ç°ï¼Œæˆ‘åˆ†åˆ«è®²ä¸€ä¸‹ UIé€»è¾‘çš„å®ç°UIé€»è¾‘çš„å®ç°æ˜¯å„ç§å„æ ·ï¼Œéœ€æ±‚ä¹Ÿæ˜¯åƒå¥‡ç™¾æ€ªã€‚ è€Œä¸”è¿™ä¸ªå®ç°å¯èƒ½ä¸æ˜¯ä¸€æ­¥å°±ä½çš„ï¼Œå¯èƒ½è¿˜éœ€è¦è¿­ä»£ï¼Œé‡åšç­‰ã€‚ é‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä½œä¸ºUIé€»è¾‘çš„å¼€å‘è€…ï¼Œæˆ‘å¸Œæœ› ä¸ç”¨å…³æ³¨åˆ«çš„ä¸šåŠ¡é€»è¾‘åœ¨ä»€ä¹ˆåœ°æ–¹æ€ä¹ˆè°ƒç”¨æˆ‘ï¼Œåªéœ€è¦é€šè¿‡å‘Šè¯‰å¤–ç•Œå¦‚ä½•è°ƒç”¨æˆ‘ æ‹¥æœ‰è¶³å¤Ÿé«˜çš„è‡ªç”±åº¦ æˆ‘ä¸ä¸€å®šè¦åŠ è½½prefabï¼Œæˆ‘å¸Œæœ›å¯ä»¥åŠ è½½ä¸€ä¸ªå›¾ç‰‡æ¥åŠ¨æ€newä¸€ä¸ªnodeæ¥æ·»åŠ ç»„ä»¶æ˜¾ç¤º ä¹Ÿä¸ä¸€å®šè¦å®ä¾‹åŒ–prefabï¼Œä½œä¸ºæ˜¾ç¤ºèŠ‚ç‚¹ï¼Œæˆ‘å¸Œæœ›å¯ä»¥é€šè¿‡ç»˜å›¾apiè‡ªå·±ç”»ç•Œé¢æ˜¾ç¤º æˆ‘ä¸ä¸€å®šè¦ç”¨cocoscreatorçš„æ˜¾ç¤ºæ¸²æŸ“ï¼Œæˆ‘å¸Œæœ›å¯ä»¥é€šè¿‡å†™htmlæ˜¾ç¤ºï¼Œå¯ä»¥æ¥fguiæ˜¾ç¤ºï¼Œå¯ä»¥è°ƒç”¨å®‰å“å’Œiosçš„åŸç”Ÿç•Œé¢æ˜¾ç¤º æˆ‘ä¸ä¸€å®šä½¿ç”¨é€šç”¨çš„åŠ è½½é‡Šæ”¾é€»è¾‘ï¼Œæˆ‘å¸Œæœ›å¯ä»¥è‡ªå®šä¹‰åŠ è½½å’Œèµ„æºé‡Šæ”¾é€»è¾‘ å¯ä»¥è‡ªå·±æ§åˆ¶èŠ‚ç‚¹æ·»åŠ åˆ°é‚£ä¸ªçˆ¶èŠ‚ç‚¹ã€‚ å¯ä»¥ä¾èµ–å¤šä¸ªä¸åŒç±»å‹çš„èµ„æºï¼ŒåŠ¨æ€ç”Ÿæˆ åœ¨ä¸æ”¹å˜å‡½æ•°æ¥å£çš„æƒ…å†µä¸‹ï¼Œæ‹¥æœ‰è¶³å¤Ÿé«˜çš„æ‰©å±•æ€§ è¿™æ ·é«˜å¯æ‰©å±•ï¼Œé«˜è‡ªç”±åº¦ï¼Œå¯¹å¤–ç•Œé€æ˜å¯ä»¥è®©å¼€å‘è€…æ›´åŠ ä¸“æ³¨é«˜æ•ˆåœ°å®ç°å’Œè¿­ä»£UIé€»è¾‘ã€‚ ä¸ç”¨å› ä¸ºåˆ«äººè°ƒç”¨ä¸è§„èŒƒå¯¼è‡´å‡ºbugè€Œå¤´ç–¼ ä¸ç”¨å› ä¸ºæŸæ‰‹æŸè„šè€Œå¤´ç–¼ ä¸ç”¨ä¸ºæƒ³æ‰©å±•åˆä¸æƒ³æ”¹æ¥å£è€Œå¤´ç–¼ UIçš„è°ƒç”¨æˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘ä¸­å¯èƒ½ä¼šæœ‰å„ç§UIè°ƒç”¨çš„éœ€æ±‚ï¼š UIè°ƒç”¨æœ€å¤æ‚ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ˜¯æ˜¾ç¤ºè°ƒç”¨ï¼Œæ¯”å¦‚ æ˜¾ç¤ºAç•Œé¢ æ˜¾ç¤ºBç•Œé¢å¹¶æŒ‰ç…§Bç•Œé¢çš„æ˜¾ç¤ºæ•°æ®æ¥å£ä¼ é€’æ•°æ®ç»™Bç•Œé¢ï¼ŒBæŒ‰ç…§ä¼ é€’çš„æ•°æ®æ¸²æŸ“ï¼Œç”šè‡³ä¼ é€’å„ç§å›è°ƒ æ˜¾ç¤ºCç•Œé¢ï¼Œæƒ³Cæ˜¾ç¤ºæ¥å£è°ƒç”¨åå›è°ƒæ˜¾ç¤ºå®Œæˆå›è°ƒï¼Œå³æƒ³åœ¨ç•Œé¢æ˜¾ç¤ºå®Œæˆåæ‰§è¡Œé€»è¾‘ å…¶ä»–å¸¸ç”¨çš„æ˜¯ æ›´æ–° éšè— é”€æ¯ è¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„æ¯”å¦‚ï¼šé¢„åŠ è½½æŒ‡å®šç•Œé¢ï¼ˆä¸æ˜¾ç¤ºï¼‰ï¼Œè·å–æŒ‡å®šç•Œé¢ä¾èµ–çš„èµ„æºï¼ˆç”¨äºæ‰¹é‡åŠ è½½å¤šä¸ªç•Œé¢ä¾èµ–çš„èµ„æºï¼‰ é™¤äº†å¯¹åŠŸèƒ½çš„éœ€æ±‚ï¼Œè¿˜æœ‰å¯¹æ¥å£æ‰©å±•æ€§çš„éœ€æ±‚ å› ä¸ºåœ¨ä¸åŒé¡¹ç›®ä¸­ï¼Œæˆ–è€…ä¸åŒé¡¹ç›®é˜¶æ®µä¸­ï¼Œå¯èƒ½ä¼šå¢åŠ ä¸€äº›éœ€æ±‚ï¼Œéœ€è¦æ‰©å±•æ¥å£å‚æ•°çš„ã€‚ä½†å¦‚æœæ¥å£å‚æ•°å¤ªå¤šï¼Œè°ƒç”¨å°±å¯èƒ½ä¼šå¾ˆé•¿å¾ˆéº»çƒ¦ã€‚ æ‰€ä»¥ä¼šå¸Œæœ›ï¼Œæ¥å£æœ‰æ›´å¼ºçš„æ‰©å±•æ€§ï¼Œè€Œä¸”åœ¨ä¸æ”¹åŠ¨åº•å±‚çš„æƒ…å†µå¢åŠ æ¥å£å°±èƒ½å®ç°éœ€æ±‚ã€‚ å›å¤´ä¸€çœ‹å¥½åƒæ˜¯è‡ªå·±ç»™è‡ªå·±æŒ–å‘å•Šã€‚ä¸è¿‡é€ è½®å­çš„ï¼Œä¸éƒ½æ˜¯è‡ªå·±æ‰¾å‘æŒ–å‘å—ï¼Ÿ åˆ†æå®Œéœ€æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹å»è®¾è®¡æ¥å£äº† æ¥å£è®¾è®¡ä¸€ä¸ªç®€å•çš„æµç¨‹å›¾ å†çœ‹ä¸€å¼ UMLå›¾ UIæ§åˆ¶å™¨çš„æ¥å£è®¾è®¡UIæ§åˆ¶å™¨çš„èŒè´£å°±æ˜¯ï¼šå®ç°UIé€»è¾‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596 /** * æ˜¾ç¤ºé…ç½® */interface IShowConfig&lt; TypeKey extends keyof any = any, InitDataTypeMapType = any, ShowDataTypeMapType = any, &gt; &#123; typeKey?: TypeKey, /** * é€ä¼ åˆå§‹åŒ–æ•°æ® */ onInitData?: InitDataTypeMapType[ToAnyIndexKey&lt;TypeKey, InitDataTypeMapType&gt;] /** * å¼ºåˆ¶é‡æ–°åŠ è½½ */ forceLoad?: boolean /** * æ˜¾ç¤ºæ•°æ® */ onShowData?: ShowDataTypeMapType[ToAnyIndexKey&lt;TypeKey, ShowDataTypeMapType&gt;], /**åœ¨è°ƒç”¨æ§åˆ¶å™¨å®ä¾‹onShowåå›è°ƒ */ showedCb?: CtrlInsCb; /**æ§åˆ¶å™¨æ˜¾ç¤ºå®Œæˆåå›è°ƒ */ showEndCb?: VoidFunction; /**æ˜¾ç¤ºè¢«å–æ¶ˆäº† */ onCancel?: VoidFunction, /**åŠ è½½åonLoadå‚æ•° */ onLoadData?: any, /**åŠ è½½å®Œæˆå›è°ƒ,è¿”å›å®ä¾‹ä¸ºç©ºåˆ™åŠ è½½å¤±è´¥ï¼Œè¿”å›å®ä¾‹åˆ™æˆåŠŸ */ loadCb?: CtrlInsCb&#125;interface ICtrl&lt;NodeType = any&gt; &#123; key?: string | any; /**æ­£åœ¨åŠ è½½ */ isLoading?: boolean; /**å·²ç»åŠ è½½ */ isLoaded?: boolean; /**å·²ç»åˆå§‹åŒ– */ isInited?: boolean; /**å·²ç»æ˜¾ç¤º */ isShowed?: boolean; /**éœ€è¦æ˜¾ç¤º */ needShow?: boolean /**éœ€è¦åŠ è½½ */ needLoad?: boolean /**æ­£åœ¨æ˜¾ç¤º */ isShowing?: boolean /** * é€ä¼ ç»™åŠ è½½å¤„ç†çš„æ•°æ®, * ä¼šå’Œè°ƒç”¨æ˜¾ç¤ºæ¥å£showDpcä¸­ä¼ æ¥çš„onLoadDataåˆå¹¶, * ä»¥æ¥å£ä¼ å…¥çš„ä¸ºä¸» * Object.assign(ins.onLoadData,cfg.onLoadData); * */ onLoadData?: any; /**è·å–èµ„æº */ getRess?(): string[] | any[]; /** * åˆå§‹åŒ– * @param initData åˆå§‹åŒ–æ•°æ® */ onInit(config?: displayCtrl.IInitConfig): void; /** * å½“æ˜¾ç¤ºæ—¶ * @param showData æ˜¾ç¤ºæ•°æ® */ onShow(config?: displayCtrl.IShowConfig): void; /** * å½“æ›´æ–°æ—¶ * @param updateData æ›´æ–°æ•°æ® * @param endCb ç»“æŸå›è°ƒ */ onUpdate(updateData: any): void; /** * è·å–æ§åˆ¶å™¨ */ getFace&lt;T&gt;(): ReturnCtrlType&lt;T&gt;; /** * å½“éšè—æ—¶ */ onHide(): void; /** * å¼ºåˆ¶éšè— */ forceHide(): void; /** * å½“é”€æ¯æ—¶ * @param destroyRes */ onDestroy(destroyRes?: boolean): void; /** * è·å–æ˜¾ç¤ºèŠ‚ç‚¹ */ getNode(): NodeType;&#125; è¿™ä¸ªæ¥å£ä¸ä¾èµ–ä»»ä½•å¼•æ“çš„æ¥å£å’Œç±»ã€‚æ¯ä¸ªå¼•æ“é¡¹ç›®å®ç°å¯¹åº”çš„åŸºç±» ç®¡ç†å™¨å’Œä¸šåŠ¡ä¸éœ€è¦å…³æ³¨UIé€»è¾‘æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œåªéœ€è¦è°ƒç”¨æ¥å£å¹¶æŒ‰ç…§å¯¹å¤–çš„æ•°æ®æ¥å£ä¼ æ•°æ®å¯¹è±¡å°±å¯ä»¥äº† onLoadData è¿™ä¸ªæ˜¯é€šç”¨åŠ è½½é€ä¼ æ•°æ®ï¼Œæ¯”å¦‚ï¼šå‘Šè¯‰é€šç”¨åŠ è½½é€»è¾‘æ˜¾ç¤ºä»€ä¹ˆåŠ è½½ç­‰å¾…ç•Œé¢ åˆå§‹åŒ–æ¥å£onInit ï¼Œä¸»è¦æ˜¯ç”¨äºå®ä¾‹åŒ–æ˜¾ç¤ºèŠ‚ç‚¹ï¼Œç›‘å¬UIäº¤äº’äº‹ä»¶ç­‰ æ˜¾ç¤ºæ¥å£onShowï¼Œä¸»è¦æ˜¯å°†UIæ˜¾ç¤ºå¹¶æ ¹æ®ä¼ å…¥çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ç”¨ æ›´æ–°æ¥å£onUpdateï¼Œä¸»è¦æ˜¯æ ¹æ®ä¼ å…¥çš„æ•°æ®è¿›è¡Œæ¸²æŸ“æ›´æ–° è·å–èµ„æºä¾èµ–æ¥å£ getRessï¼Œä¸»è¦æ˜¯é€šç”¨èµ„æºå¤„ç†é€»è¾‘éœ€è¦è·å–UIç•Œé¢ä¾èµ–çš„èµ„æºä¿¡æ¯è¿›è¡ŒåŠ è½½/é‡Šæ”¾ å…¶ä»–çš„æ¥å£å°±å¾ˆç®€å•äº†ï¼Œçœç•¥æˆ‘é‡ç‚¹è®²ä¸€ä¸‹ï¼ŒonShowè¿™ä¸ªæ¥å£çš„è®¾è®¡ç¬¬ä¸€ç‰ˆçš„è®¾è®¡æ˜¯1234/** * @param onShowData è°ƒç”¨æ—¶çš„é€ä¼ æ•°æ® */onShow(onShowData?:any): void; è¿™æ ·çš„è®¾è®¡ï¼Œåªèƒ½å®ç°è‡ªå®šä¹‰é€ä¼ æ˜¾ç¤ºæ•°æ®çš„ï¼Œä½†æ˜¯è¦æƒ³å®ç°ç®¡ç†é€»è¾‘çš„æ‰©å±•è€Œä¸æ”¹åŠ¨onShowæ¥å£ï¼Œå°±ä¼šéå¸¸éº»çƒ¦ æ¯”å¦‚ï¼šæˆ‘æƒ³æ‰©å±•ç®¡ç†å™¨ï¼Œç»™UIæ§åˆ¶ä¼ ä¸€ä¸ªæ˜¾ç¤ºå®Œæˆçš„å›è°ƒï¼šæ´¾å‘UIæ˜¾ç¤ºå®Œæˆäº‹ä»¶ï¼Œè®©UIé€»è¾‘ä¸­åŠ¨ç”»æ’­æ”¾å®Œï¼Œæˆ–è€…å…¶ä»–å»¶è¿Ÿæ“ä½œç»“æŸåè°ƒç”¨ã€‚ é‚£æŒ‰ç…§ç¬¬ä¸€ç‰ˆçš„è®¾è®¡ï¼Œé‚£ä¹ˆåªèƒ½åŠ ä¸ªå‚æ•°ï¼šonShow(onShowData?:any,showEnd?:VoidFunction) è¿™ä¸ªæ—¶å€™å°±æ˜¯å¾—ä¿®æ”¹ICtrlè¿™ä¸ªæ¥å£è®¾è®¡äº†ã€‚ä¸€ä¸ªè¿˜å¯ä»¥ï¼Œé‚£å¦‚æœå˜æˆäº†ä¸¤ä¸ªä¸‰ä¸ªå››ä¸ªå‚æ•°å‘¢ï¼Ÿå°±ä¼šå˜å¾—å¤æ‚ã€‚ç°åœ¨çš„è®¾è®¡å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‰©å±•é€ä¼ çš„configå‚æ•°çš„æ¥å£,ä¸ä¼šå¢åŠ æ¥å£å‚æ•°ï¼Œä¸æ”¹å˜æ¥å£ è¿™ä¸ªçµæ„Ÿæ¥è‡ªaxiosè¿™ä¸ªåº“,ä¸€ä¸ªæ˜“ç”¨ã€ç®€æ´ä¸”é«˜æ•ˆçš„httpåº“ å…³äºè‡ªå®šä¹‰èµ„æºå¤„ç†å®ç° æœ‰è‡ªå®šä¹‰èµ„æºå¤„ç†éœ€æ±‚çš„UIæ§åˆ¶å™¨ï¼Œéœ€è¦å®ç°è¿™ä¸ªæ¥å£123456789101112131415/** * èµ„æºå¤„ç†å™¨ */interface IResHandler &#123; /** * åŠ è½½èµ„æº * @param config */ loadRes?(config: displayCtrl.IResLoadConfig): void; /** * é‡Šæ”¾èµ„æº * @param ctrlIns */ releaseRes?(ctrlIns?: ICtrl): void;&#125; é‚£ä¹ˆç®¡ç†å™¨å°±ä¼šè°ƒç”¨è¿™ä¸ªè‡ªå®šä¹‰çš„èµ„æºå¤„ç†æ¥å£ï¼Œè€Œä¸æ˜¯èµ°é€šç”¨çš„èµ„æºå¤„ç†äº† è¿™æ ·çš„æ¥å£è®¾è®¡å¯ä»¥è¯´æ˜¯åœ¨UIè¢«ç®¡ç†çš„åŒæ—¶ï¼Œç»™äºˆäº†UIé€»è¾‘å®ç°è€…æå¤§çš„è‡ªç”±åº¦ï¼Œå¯ä»¥ä¸“æ³¨é«˜æ•ˆåœ°å®ç°å’Œè¿­ä»£ï¼Œä»¥åŠä»»æ„æ‰©å±• æå¤§çš„è‡ªç”±åº¦æ˜¯æœ‰ä»£ä»·çš„ï¼Œå°±æ˜¯ä¸èƒ½å¼€ç®±å³ç”¨ã€‚éœ€è¦å»å®ç°æ¥å£ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯å€¼å¾—çš„ã€‚ å…·ä½“çš„demoç¤ºä¾‹å¯ä»¥çœ‹:egf-ccc-fullä¸­çš„å®ç° ç»§ç»­è®²UIç®¡ç†å™¨çš„è®¾è®¡ UIç®¡ç†å™¨çš„è®¾è®¡UI ç®¡ç†å™¨çš„èŒè´£å°±æ˜¯:æä¾›æ¥å£è®©ä¸šåŠ¡å»è°ƒç”¨UI123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166interface IMgr&lt; CtrlKeyMapType = any, InitDataTypeMapType = any, ShowDataTypeMapType = any, UpdateDataTypeMapType = any&gt; &#123; /**æ§åˆ¶å™¨keyå­—å…¸ */ keys: CtrlKeyMapType; /** * æ§åˆ¶å™¨å•ä¾‹å­—å…¸ */ sigCtrlCache: CtrlInsMap; /** * åˆå§‹åŒ– * @param resHandler èµ„æºå¤„ç† */ init(resHandler?: IResHandler): void; /** * æ‰¹é‡æ³¨å†Œæ§åˆ¶å™¨ç±» * @param classMap */ registTypes(classes: CtrlClassMap | CtrlClassType[]): void; /** * æ³¨å†Œæ§åˆ¶å™¨ç±» * @param ctrlClass * @param typeKey å¦‚æœctrlClassè¿™ä¸ªç±»é‡Œæ²¡æœ‰é™æ€å±æ€§typeKeyåˆ™å–ä¼ å…¥çš„typeKey */ regist(ctrlClass: CtrlClassType, typeKey?: keyof CtrlKeyMapType): void; /** * æ˜¯å¦æ³¨å†Œäº† * @param typeKey */ isRegisted&lt;keyType extends keyof CtrlKeyMapType&gt;(typeKey: keyType): boolean; /** * è·å–æ³¨å†Œç±»çš„èµ„æºä¿¡æ¯ * è¯»å–ç±»çš„é™æ€å˜é‡ ress * @param typeKey */ getDpcRessInClass&lt;keyType extends keyof CtrlKeyMapType&gt;(typeKey: keyType): string[] | any[] /** * è·å–å•ä¾‹UIçš„èµ„æºæ•°ç»„ * @param typeKey */ getSigDpcRess&lt;keyType extends keyof CtrlKeyMapType&gt;(typeKey: keyType): string[] | any[]; /** * è·å–/ç”Ÿæˆå•ä¾‹æ˜¾ç¤ºæ§åˆ¶å™¨ç¤ºä¾‹ * @param typeKey ç±»å‹key */ getSigDpcIns&lt;T, keyType extends keyof CtrlKeyMapType = any&gt;(typeKey: keyType): displayCtrl.ReturnCtrlType&lt;T&gt; /** * åŠ è½½Dpc * @param typeKey æ³¨å†Œæ—¶çš„typeKey * @param loadCfg é€ä¼ æ•°æ®å’Œå›è°ƒ */ loadSigDpc&lt;T, keyType extends keyof CtrlKeyMapType = any&gt;(typeKey: keyType, loadCfg?: displayCtrl.ILoadConfig): displayCtrl.ReturnCtrlType&lt;T&gt;; /** * åˆå§‹åŒ–æ˜¾ç¤ºæ§åˆ¶å™¨ * @param typeKey æ³¨å†Œç±»æ—¶çš„ typeKey * @param initCfg displayCtrl.IInitConfig */ initSigDpc&lt;T, keyType extends keyof CtrlKeyMapType = any&gt;( typeKey: keyType, initCfg?: displayCtrl.IInitConfig&lt;keyType, InitDataTypeMapType&gt; ): displayCtrl.ReturnCtrlType&lt;T&gt;; /** * æ˜¾ç¤ºå•ä¾‹æ˜¾ç¤ºæ§åˆ¶å™¨ * @param typeKey ç±»keyæˆ–è€…æ˜¾ç¤ºé…ç½®IShowConfig * @param onShowData æ˜¾ç¤ºé€ä¼ æ•°æ® * @param showedCb æ˜¾ç¤ºå®Œæˆå›è°ƒ(onShowè°ƒç”¨ä¹‹å) * @param onInitData åˆå§‹åŒ–é€ä¼ æ•°æ® * @param forceLoad æ˜¯å¦å¼ºåˆ¶é‡æ–°åŠ è½½ * @param onCancel å½“å–æ¶ˆæ˜¾ç¤ºæ—¶ */ showDpc&lt;T, keyType extends keyof CtrlKeyMapType = any&gt;( typeKey: keyType | displayCtrl.IShowConfig&lt;keyType, InitDataTypeMapType, ShowDataTypeMapType&gt;, onShowData?: ShowDataTypeMapType[displayCtrl.ToAnyIndexKey&lt;keyType, ShowDataTypeMapType&gt;], showedCb?: displayCtrl.CtrlInsCb&lt;T&gt;, onInitData?: InitDataTypeMapType[displayCtrl.ToAnyIndexKey&lt;keyType, InitDataTypeMapType&gt;], forceLoad?: boolean, onLoadData?: any, loadCb?: displayCtrl.CtrlInsCb, onCancel?: VoidFunction ): displayCtrl.ReturnCtrlType&lt;T&gt;; /** * æ›´æ–°æ§åˆ¶å™¨ * @param key UIkey * @param updateData æ›´æ–°æ•°æ® */ updateDpc&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType, updateData?: UpdateDataTypeMapType[ToAnyIndexKey&lt;keyType, UpdateDataTypeMapType&gt;]): void; /** * éšè—å•ä¾‹æ§åˆ¶å™¨ * @param key */ hideDpc&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType): void; /** * é”€æ¯å•ä¾‹æ§åˆ¶å™¨ * @param key * @param destroyRes é”€æ¯èµ„æº */ destroyDpc&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType, destroyRes?: boolean): void; /** * å®ä¾‹åŒ–æ˜¾ç¤ºæ§åˆ¶å™¨ * @param typeKey ç±»å‹key */ insDpc&lt;T, keyType extends keyof CtrlKeyMapType = any&gt;(typeKey: keyType): ReturnCtrlType&lt;T&gt;; /** * åŠ è½½æ˜¾ç¤ºæ§åˆ¶å™¨ * @param ins * @param loadCfg */ loadDpcByIns(ins: displayCtrl.ICtrl, loadCfg?: ILoadConfig): void; /** * åˆå§‹åŒ–æ˜¾ç¤ºæ§åˆ¶å™¨ * @param ins * @param initData */ initDpcByIns&lt;keyType extends keyof CtrlKeyMapType&gt;( ins: displayCtrl.ICtrl, initCfg?: displayCtrl.IInitConfig&lt;keyType, InitDataTypeMapType&gt;): void /** * æ˜¾ç¤º æ˜¾ç¤ºæ§åˆ¶å™¨ * @param ins * @param showCfg */ showDpcByIns&lt;keyType extends keyof CtrlKeyMapType&gt;( ins: displayCtrl.ICtrl, showCfg?: displayCtrl.IShowConfig&lt;keyType, InitDataTypeMapType, ShowDataTypeMapType&gt; ): void; /** * é€šè¿‡å®ä¾‹éšè— * @param ins */ hideDpcByIns&lt;T extends displayCtrl.ICtrl&gt;(ins: T): void; /** * é€šè¿‡å®ä¾‹é”€æ¯ * @param ins * @param destroyRes æ˜¯å¦é”€æ¯èµ„æº */ destroyDpcByIns&lt;T extends displayCtrl.ICtrl&gt;(ins: T, destroyRes?: boolean, endCb?: VoidFunction): void; /** * è·å–å•ä¾‹æ§åˆ¶å™¨æ˜¯å¦æ­£åœ¨ * @param key */ isLoading&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType): boolean /** * è·å–å•ä¾‹æ§åˆ¶å™¨æ˜¯å¦åŠ è½½äº† * @param key */ isLoaded&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType): boolean; /** * è·å–å•ä¾‹æ§åˆ¶å™¨æ˜¯å¦åˆå§‹åŒ–äº† * @param key */ isInited&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType): boolean; /** * è·å–å•ä¾‹æ§åˆ¶å™¨æ˜¯å¦æ˜¾ç¤º * @param key */ isShowed&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType): boolean; /** * è·å–æ§åˆ¶å™¨ç±» * @param typeKey */ getCtrlClass&lt;keyType extends keyof CtrlKeyMapType&gt;(typeKey: keyType): CtrlClassType&lt;ICtrl&gt;;&#125; è¿™é‡Œæœ‰ä¸€äº›TypeScriptçš„ç±»å‹ç¼–ç¨‹é­”æ³•ã€‚å¯ä»¥å®ç°åŠå…¶å¼ºå¤§çš„ç±»å‹æç¤ºã€‚çœ‹ä¸æ‡‚çš„å¯ä»¥å…ˆå¿½ç•¥ï¼Œå…ˆæ¥è®²ä¸€ä¸‹æ¥å£è®¾è®¡ åœ¨è®¾è®¡è¿™ä¸ªUIç®¡ç†æ¥å£æ—¶ï¼Œä¸€ç›´å¿µç€ï¼šèŒè´£æ˜¯ç®¡ç†UIï¼Œæä¾›æ¥å£è°ƒç”¨UIï¼Œä¸åšå¤šä½™çš„äº‹æƒ…ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè„‘å­é‡Œæ€»æœ‰å¾ˆå¤šåŠŸèƒ½æƒ³è¦å¡è¿›å»ï¼Œä½†å…¶å®éƒ½åªæ˜¯æˆ‘æƒ³è¦çš„ä¸å¿…è¦çš„åŠŸèƒ½ æ‰€ä»¥è®¾è®¡å¾—å¾ˆå…‹åˆ¶ï¼Œèµ„æºå¤„ç†æ¥å£å¤–åŒ…å‡ºå»äº†ï¼Œå› ä¸ºèŒè´£æ˜¯ç®¡ç†UIï¼Œæä¾›æ¥å£è°ƒç”¨UI ä»€ä¹ˆæ ˆå¼UIç®¡ç†å•Šï¼Œä¹Ÿæ²¡æœ‰åšï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½éœ€è¦ï¼Œåªæ˜¯ç‰¹æ®Šéœ€æ±‚ã€‚ æ‰€æœ‰é¡¹ç›®éƒ½éœ€è¦çš„æ˜¯ï¼šç®¡ç†UIï¼Œæä¾›æ¥å£è°ƒç”¨UIã€‚ æ—¢ç„¶è®²åˆ°ç®¡ç†UIï¼Œé‚£æ¸¸æˆå¼€å‘ä¸­éƒ½æœ‰å“ªäº›UIå‘¢ï¼Ÿ å¦‚æœæŒ‰å…·ä½“çš„è®²ï¼Œå„æœ‰å„çš„è¯´æ³•ï¼Œä»€ä¹ˆDialogå•Šï¼ŒTipså•Šï¼ŒWindowå•Šç­‰ç­‰,è¯´ä¸å®Œçš„! æˆ‘æŠ½è±¡ä¸€ä¸‹ï¼ŒæŒ‰ç…§åŒæ—¶å­˜åœ¨å¤šå°‘ä¸ªUIå®ä¾‹æ¥åˆ†ï¼šåªæœ‰ä¸¤ç§ç±»å‹çš„UI å•ä¾‹UI æ¯”å¦‚ï¼šé€šç”¨åŠ è½½ç•Œé¢ï¼Œå…»æˆç•Œé¢ï¼Œè§’è‰²å±•ç¤ºç•Œé¢ï¼Œæˆ˜æ–—ç•Œé¢ç­‰ç­‰ï¼ŒåŒæ—¶æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ å¤šå®ä¾‹UI æ¯”å¦‚ï¼šå¥–åŠ±è·å¾—tipsï¼Œå±æ€§æå‡tips é‚£ä¸šåŠ¡é€»è¾‘é€šè¿‡UIç®¡ç†å™¨ è°ƒç”¨æ˜¾ç¤ºUIï¼Œå°±æ˜¯æƒ³å¦‚æœæœ‰å°±ç›´æ¥æ˜¾ç¤ºå‡ºæ¥ï¼Œæ²¡æœ‰å°±åŠ è½½åˆ›å»ºä¸€ä¸ªæ¥æ˜¾ç¤º è°ƒç”¨æ˜¾ç¤ºnä¸ªUIï¼Œå°±æ˜¯æƒ³åˆ›å»ºnä¸ªUIåŒæ—¶æ˜¾ç¤ºä¸åŒçš„å†…å®¹ è¿™ä¸ªæŠ½è±¡é€»è¾‘æ˜¯æˆ‘èƒ½æƒ³åˆ°çš„æ‰€æœ‰æ¸¸æˆé¡¹ç›®éƒ½é€šç”¨çš„é€»è¾‘ã€‚ é‚£UIç®¡ç†çš„æ¥å£è®¾è®¡å°±åº”è¯¥æ˜¯ï¼šæä¾›è°ƒç”¨å•ä¾‹UIå’Œå¤šå®ä¾‹UIçš„æ¥å£ã€‚ä»…æ­¤ å¤§å®¶ä¼°è®¡éƒ½çœ‹åˆ°äº†å¾ˆå¤šç‰¹æ®Šçš„ç±»å‹å£°æ˜ï¼Œä¸‹é¢æˆ‘ç®€å•çš„è®²ä¸€ä¸‹è¿™äº›ç±»å‹å£°æ˜çš„ä½œç”¨ ç±»å‹æç¤ºä¼˜åŒ–å¦‚æœæƒ³è¦æ›´åŠ èˆ’é€‚çš„æ¥å£è°ƒç”¨ä½“éªŒï¼Œé‚£ä¹ˆå°±å¿…é¡»æ¦¨å¹²typescriptçš„ç±»å‹ç³»ç»Ÿæä¾›çš„èƒ½åŠ›ï¼ˆps:æœ‰ä¸ºä»€ä¹ˆä¸ç”¨ï¼Ÿï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576//displayCtrl.IMgrisLoading&lt;keyType extends keyof CtrlKeyMapType&gt;(key: keyType): boolean//å®ç°UIimport &#123; BaseDpCtrl &#125; from \"./base-dp-ctrl\";declare global &#123; interface ITestCtrlKeyType &#123; OnUpdateDpc: \"OnUpdateDpc\", OnShowDpc: \"OnShowDpc\", OnInitDpc: \"OnInitDpc\" &#125; interface ITestCtrlShowDataMap &#123; OnShowDpc: number &#125; interface ITestCtrlInitDataMap &#123; OnInitDpc: number &#125; interface ITestCtrlUpdateDataMap &#123; OnUpdateDpc: number &#125;&#125;export class OnUpdateDpc extends BaseDpCtrl &#123; public static readonly typeKey: \"OnUpdateDpc\" = \"OnUpdateDpc\"; public updateData: number; constructor() &#123; super(); &#125; onUpdate(updateData: number) &#123; this.updateData = updateData; &#125;&#125;export class OnShowDpc extends BaseDpCtrl &#123; public static readonly typeKey: string = \"OnShowDpc\"; public showData: number; constructor() &#123; super(); &#125; onShow(config: displayCtrl.IShowConfig&lt;\"OnShowDpc\", ITestCtrlShowDataMap&gt;) &#123; this.showData = config.onShowData; super.onShow(config) &#125;&#125;export class OnInitDpc extends BaseDpCtrl &#123; public static readonly typeKey: \"OnInitDpc\" = \"OnInitDpc\"; public initData: number; constructor() &#123; super(); &#125; onInit(config: displayCtrl.IInitConfig&lt;\"OnInitDpc\", ITestCtrlInitDataMap&gt;) &#123; this.initData = config.onInitData; &#125;&#125;//å®ä¾‹åŒ–UIç®¡ç†å™¨const dpcMgr = new DpcMgr&lt;ITestCtrlKeyType,ITestCtrlInitDataMap,ITestCtrlShowDataMap,ITestCtrlUpdateDataMap&gt;();//æ³¨å…¥ç±»å‹ITestCtrlKeyType dpcMgr.init(&#123; loadRes: (config) =&gt; &#123; config.complete(); &#125; &#125;); dpcMgr.regist(OnUpdateDpc); dpcMgr.regist(OnInitDpc); dpcMgr.regist(OnShowDpc);//è°ƒç”¨ä¸€ä¸ªç®€å•çš„dpcMgr.isLoading(\"\")//å½“åŒå¼•å·æ•²å‡ºï¼Œå°±ä¼šå¼¹å‡ºç±»å‹æç¤ºé€‰æ‹©:OnUpdateDpcï¼ŒOnShowDpcï¼ŒOnInitDpc//è°ƒç”¨ä¸€ä¸ªå¤æ‚çš„dpcMgr.showDpc(\"\")//å½“åŒå¼•å·æ•²å‡ºï¼Œå°±ä¼šå¼¹å‡ºç±»å‹æç¤ºé€‰æ‹©:OnUpdateDpcï¼ŒOnShowDpcï¼ŒOnInitDpc,//åŒæ—¶ï¼Œéœ€è¦ä¼ é€’onShowDataæ—¶ï¼Œä¹Ÿä¼šæœ‰å¯¹åº”UIkeyçš„onShowDataç±»å‹æç¤ºdpcMgr.showDpc(\"OnShowDpc\",&#123;&#125;) ä¸ºä»€ä¹ˆè¦è®¾è®¡è¿™æ ·çš„ç±»å‹æç¤ºï¼Ÿ æˆ‘æƒ³è®©UIé€»è¾‘å®ç°è€…æ›´åŠ ä¸“æ³¨ï¼Œåªéœ€è¦åœ¨é¡¶éƒ¨æ·»åŠ å£°æ˜,ä¸šåŠ¡é€»è¾‘è°ƒç”¨å°±çŸ¥é“è¯¥ä¼ ä»€ä¹ˆæ•°æ®äº†ã€‚ä¸ç”¨å»ç¿»æ‰¾æ–‡ä»¶æ‰¾æ¥å£ 12345678910111213141516declare global &#123; interface ITestCtrlKeyType &#123; OnUpdateDpc: \"OnUpdateDpc\", OnShowDpc: \"OnShowDpc\", OnInitDpc: \"OnInitDpc\" &#125; interface ITestCtrlShowDataMap &#123; OnShowDpc: number &#125; interface ITestCtrlInitDataMap &#123; OnInitDpc: number &#125; interface ITestCtrlUpdateDataMap &#123; OnUpdateDpc: number &#125;&#125; æˆ‘æƒ³è®©UIè°ƒç”¨è€…ï¼šä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨å¾—æ›´åŠ èˆ’æœã€æ— ä¾èµ–ã€æ— import å…³äºtypescriptç±»å‹ç¼–ç¨‹å‚è€ƒèµ„æ–™ ç¼–å†™TypeScriptå·¥å…·ç±»å‹ï¼Œä½ éœ€è¦çŸ¥é“çš„çŸ¥è¯† TypeScript çš„å·¥å…·ç±»å‹ æ·±å…¥ TypeScript çš„ç±»å‹ç³»ç»Ÿ TypeScriptç³»åˆ—ï¼ˆä¸‰ï¼‰ä»ç¼–ç¨‹è¯­è¨€åˆ°Conditional Types å…¶ä»–å¯èƒ½æ€§è™½ç„¶è¿™ç¯‡æ–‡ç« è®²çš„æ˜¯UIç®¡ç†æ¡†æ¶ ä½†å…¶å®æˆ‘ä»£ç é‡Œå’Œæ¥å£è®¾è®¡çš„æ–¹å‘å¹¶ä¸é™åˆ¶åªæ˜¯UIç®¡ç†ï¼Œä½ å¯ä»¥ç”¨äºç®¡ç†å„ç§æŠ½è±¡æ˜¾ç¤ºå•ä½ UIåªæ˜¯å…¶ä¸­ä¸€ç§ï¼Œè¿™ä¸ªæŠ½è±¡æ˜¾ç¤ºå•ä½å¯ä»¥æ˜¯ ä¸€ä¸ªå°éƒ¨ä»¶ ä¸»è§’ æ•Œäºº å­å¼¹ ç­‰ç­‰ å®ƒä¸åªæ˜¯UIæ¡†æ¶ï¼Œå®ƒæ˜¯é€šç”¨æ˜¾ç¤ºç®¡ç†æ¡†æ¶ æ€»ç»“å…³äºUIæ¡†æ¶çš„è®¾è®¡ï¼Œæå‡ºUIä¸šåŠ¡å®ç°ä¸­çš„ä¸¤ä¸ªæœ¬è´¨çš„éœ€æ±‚ é«˜æ•ˆã€çµæ´»ä¸”ä¸“æ³¨çš„UIé€»è¾‘å®ç° é«˜æ•ˆã€çµæ´»ä¸”é«˜å¯æ‰©å±•çš„UIç®¡ç† åˆ†ææœ¬è´¨éœ€æ±‚ï¼Œæå‡ºæ›´åŠ ç»†åŒ–çš„éœ€æ±‚ æ ¹æ®éœ€æ±‚è®¾è®¡å’Œå®ç°äº†ä¸€å¥—è·¨å¼•æ“é›¶ä¾èµ–é«˜æ•ˆçµæ´»é«˜å¯æ‰©å±•çš„UIæ¡†æ¶ã€‚ é€‚ç”¨äºæ‰€æœ‰æ¸¸æˆå¼•æ“é¡¹ç›®ï¼Œå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚ä»»æ„æ‰©å±• å¹¶ä¸”é€šè¿‡ç ”ç©¶typescriptçš„ç±»å‹ç¼–ç¨‹ï¼Œä¸ºæ¥å£è°ƒç”¨æä¾›äº†è¶…çº§èˆ’é€‚çš„ç±»å‹æç¤º å…·ä½“çš„å®ç°é€»è¾‘å’ŒCocosCreator2.4.2çš„demoï¼Œå¤§å®¶å¯ä»¥ç§»æ­¥æ¡†æ¶ GitHubä»“åº“ï¼šEasyGameFrameworkOpen å¸Œæœ›å¤§å®¶å¯ä»¥ç»™ä¸ªstar,è°¢è°¢~ è°¢è°¢å¤§å®¶é˜…è¯»æˆ‘çš„æ–‡ç« ~ ç¥å¤§å®¶å‘¨æœ«æ„‰å¿«~ æ¡†æ¶å¼€å‘ç³»åˆ—æ–‡ç«  æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶ æ‰“ç ´CocosCreator3dä¸èƒ½ä½¿ç”¨npmåŒ…çš„é­”å’’!!! æ¡†æ¶çš„è¯ç”Ÿ-äºŒï¼šå®šä½ é€šç”¨æ¸¸æˆUIæ¡†æ¶çš„è®¾è®¡ä¸å®ç° è®© fairygui æ›´å¥½ç”¨çš„æ’ä»¶ æ»¡è¶³å¤šç§éœ€æ±‚çš„é€šç”¨å¯¹è±¡æ±  æ„å»ºæ¸¸æˆ/åº”ç”¨çš„ç¥å™¨:broadcast æ»¡è¶³æ‰€æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„é€šç”¨ socket ç½‘ç»œæ¨¡å— ä¸šåŠ¡å¼€å‘æ€»ç»“ä¹‹çŠ¶æ€ç®¡ç† å¾…ç»­ã€‚ã€‚ã€‚ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 (æ¬¢è¿å‰æ¥è®¨è®ºå¹æ°´) åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"},{"name":"åˆ†ç±»2","slug":"æ¡†æ¶è®¾è®¡/åˆ†ç±»2","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/åˆ†ç±»2/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/tags/æ¡†æ¶è®¾è®¡/"}],"keywords":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"},{"name":"åˆ†ç±»2","slug":"æ¡†æ¶è®¾è®¡/åˆ†ç±»2","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/åˆ†ç±»2/"}]},{"title":"æ¡†æ¶çš„è¯ç”Ÿ-äºŒï¼šå®šä½","slug":"The-birth-of-the-framework-two-positioning","date":"2020-12-02T14:14:52.000Z","updated":"2021-04-18T09:27:04.583Z","comments":false,"path":"2020/12/02/The-birth-of-the-framework-two-positioning/","link":"","permalink":"http://yoursite.com/2020/12/02/The-birth-of-the-framework-two-positioning/","excerpt":"","text":"å‰å‡ å¤©å‘å¸ƒäº†æˆ‘çš„æ¡†æ¶ï¼ŒEasyGameFramework ï¼Œä¹Ÿå‘äº†å‡ ç¯‡æ–‡ç« æ¥åˆ†äº«æˆ‘çš„å¿ƒå¾—å’Œæƒ³æ³•ã€‚ä¹‹ååœ¨è·Ÿä¸€äº›å°ä¼™ä¼´çš„äº¤æµä¸­æ”¶è·å¾ˆå¤šã€‚åˆæ¬¡å†™æ–‡ç« ï¼Œæœ‰äº›åœ°æ–¹å¯èƒ½æ²¡è¡¨è¾¾æ¸…æ¥šï¼Œå¤§å®¶å¯èƒ½ä¸€äº›ç–‘æƒ‘ã€‚æ‰€ä»¥æƒ³äº†ä¸€ä¸‹ï¼Œå†™äº†ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦è®²ä¸€ä¸‹å…³äºè¿™ä¸ªæ¡†æ¶çš„å®šä½ã€‚ æ¡†æ¶:æºç ä¼ é€é—¨ ä»€ä¹ˆæ˜¯å®šä½ï¼Ÿ å®šä½æ˜¯ä¸€ä¸ªæ±‰è¯­è¯æ±‡ï¼Œè¯»éŸ³dÃ¬ng wÃ¨iï¼Œæ„æ€æ˜¯æŒ‡ç¡®å®šæ–¹ä½ï¼Œç¡®å®šæˆ–æŒ‡å‡ºçš„åœ°æ–¹ï¼Œç¡®å®šåœºæ‰€æˆ–ç•Œé™ï¼ˆå¦‚é€šè¿‡å‹˜å¯Ÿï¼‰ç»™è¿™ä¸ªåœ°äº§çš„ç•Œé™å®šä½ã€‚å‡ºè‡ªã€ŠéŸ©éå­Â·æ‰¬æƒã€‹ã€‚ ç¬¬ä¸€ç¯‡æ–‡ç«  : æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿä¸­æœ‰è®²åˆ°ï¼Œæ¡†æ¶æ˜¯è§£å†³ç‰¹å®šé¢†åŸŸé—®é¢˜çš„ã€‚ æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘æƒ³è¦è®²çš„å®šä½æ˜¯ï¼Œå¦‚ä½•åˆ’å®šæ¡†æ¶è§£å†³é—®é¢˜çš„é¢†åŸŸï¼Œä»¥åŠæ–¹å‘ã€‚ ä¸ºä»€ä¹ˆè¦å®šä½å‘¢ï¼Ÿè¿™é‡Œä¸å¾—ä¸æVueè¿™ä¸ªæ¡†æ¶ï¼Œä»¥åŠå…¶ä½œè€…å°¤é›¨æºªå°¤å¤§ã€‚æˆ‘ç›¸ä¿¡æœ‰å¾ˆå¤šäººéƒ½è®¤è¯†ã€‚CocosCreatorçš„ç¼–è¾‘å™¨æ‰€ç”¨çš„å‰ç«¯æ¡†æ¶å°±æ˜¯vue+Eletronã€‚ è¿™é‡Œæœ‰ä¸€ç¯‡å¯¹å°¤é›¨æºªå¤§ä½¬çš„é‡‡è®¿æ–‡ç« :æ¯”è¾ƒè¯¦ç»†çš„é‡‡è®¿ Vue ä½œè€…å°¤é›¨æºªï¼Œè¿™ç¯‡é‡‡è®¿ä¸­å°¤é›¨æºªè°ˆåˆ°äº†å¯¹vueçš„å®šä½ åœ¨æ‰€æœ‰æ¡†æ¶ä¸­ï¼Œæˆ‘è‡ªå·±åˆ›é€ äº†ä¸€ä¸ªæ¦‚å¿µå«æ¸è¿›çš„æ¡†æ¶ã€‚å› ä¸º Vue çš„æ ¸å¿ƒç»„æˆåªæ˜¯æ•°æ®ç»‘å®šå’Œç»„ä»¶ï¼Œå’Œ React å·®ä¸å¤šã€‚å®ƒåªæ˜¯è§£å†³äº†ä¸€å°éƒ¨åˆ†å¾ˆé‡è¦çš„ç—›ç‚¹ã€‚ä¸ React ç›¸æ¯”ï¼ŒVue å¯èƒ½æ›´ç®€å•æ˜“ç”¨ï¼ŒåªçŸ¥é“ä¸€äº› HTMLï¼ŒJavaScript å’Œ CSS çŸ¥è¯†çš„äººéƒ½å¯ä»¥å¾ˆå¿«å…¥é—¨ Vueã€‚ åœ¨æ¡†æ¶å±‚é¢ä¸Šï¼Œæˆ‘æ˜¯ç”¨ä¸€ä¸ªéå¸¸ç²¾ç®€å’Œå°½å¯èƒ½å°çš„çš„å†…æ ¸æ¥æ„å»ºçš„ã€‚ä½†æ˜¯å½“æ„å»ºæ›´å¤æ‚çš„åº”ç”¨çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šå…¶ä»–çš„é—®é¢˜éœ€è¦è§£å†³ã€‚æ¯”å¦‚è¯´è·¯ç”±ï¼Œæˆ–è€…è¯´æ€ä¹ˆå¤„ç†è·¨ç»„ä»¶é€šä¿¡ï¼Œæ€ä¹ˆæ ·åœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­å…±äº«çŠ¶æ€ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±è¿˜éœ€è¦æ›´å¤šçš„æ„å»ºå·¥å…·æ¥æ¨¡å—åŒ–æˆ‘ä»¬çš„ä»£ç åº“ã€‚ æ€ä¹ˆæ ·æ¥ç»„ç»‡æ ·å¼å’Œå„ç§å„æ ·çš„é™æ€èµ„æºï¼Ÿåƒ Ember æˆ– Angular è¿™äº›éå¸¸å®Œæ•´çš„æ¡†æ¶ï¼Œå®ƒä»¬å°±æƒ³è§£å†³æ‰€æœ‰å¯èƒ½é‡åˆ°çš„è¿™äº›é—®é¢˜ï¼Œå¹¶æŠŠè¿™äº›åŠŸèƒ½å…¨éƒ½é›†æˆåˆ°æ¡†æ¶ä¸­ã€‚ è¿™å°±å«æœ‰å¾—å¿…æœ‰å¤±å§ã€‚å¯¹ç”¨æˆ·ä½¿ç”¨æƒ…å†µçš„å‡è®¾è¶Šå¤šï¼Œæ¡†æ¶æœ€ç»ˆçš„çµæ´»æ€§å°±è¶Šä½ã€‚æˆ–è€…åƒ React è¿™æ ·æŠŠå¾ˆå¤šé—®é¢˜éƒ½ç•™ç»™ç¤¾åŒºã€‚React ç¤¾åŒºæ˜¯éå¸¸éå¸¸æ´»è·ƒçš„ï¼Œç»å¸¸æœ‰å¾ˆå¤šç‰› X çš„æƒ³æ³•è·³å‡ºæ¥ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸å°‘ä¸å®Œç¾çš„æƒ³æ³•ã€‚Vue å°±æ˜¯æ¯”è¾ƒæŠ˜ä¸­ï¼Œä»ç„¶ä¿æŒä¸€ä¸ªå¾ˆå°çš„æ ¸å¿ƒï¼Œåªæä¾›ä¸€äº›æœ€é‡è¦çš„åŠŸèƒ½ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯åœ¨é€æ¸æä¾›ä¸€äº›æ›´å¤šçš„ç‹¬ç«‹è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚è¯´è·¯ç”±ï¼ŒçŠ¶æ€ç®¡ç†ï¼Œæ„å»ºå·¥å…·é“¾å’Œ CLIã€‚å®ƒä»¬éƒ½æ˜¯å®˜æ–¹ç»´æŠ¤çš„ï¼Œæœ‰å¾ˆå¥½çš„æ–‡æ¡£ï¼Œè®¾è®¡çš„ä¹Ÿéå¸¸å¥½ï¼Œå¯ä»¥å„ç§æ­é…ä½¿ç”¨ï¼Œä½†é‡ç‚¹æ˜¯ä¸éœ€è¦çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨ã€‚æˆ‘è®¤ä¸ºè¿™å¯èƒ½æ˜¯ Vue ä½œä¸ºä¸€ä¸ªæ¡†æ¶æœ€å¤§çš„ç‰¹è‰²ã€‚ å°±åœ¨ä»Šå¹´Vue3.0ä¹Ÿå‘å¸ƒäº†ï¼Œå®ƒåœ¨è¿™æ¡é“è·¯ä¸Šæ›´åŠ æè‡´äº†ã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥äº†è§£ä¸€ä¸‹ï¼Œæ˜é‡‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šåˆ†æçš„æ–‡ç« ã€‚ æˆ‘å¯¹æ­¤çš„ç†è§£:æ¸è¿›çš„æ¡†æ¶ï¼Œæä¾›ä¸€ä¸ªéå¸¸ç²¾ç®€ï¼Œå°½å¯èƒ½å°çš„å†…æ ¸ã€‚æ¥æ»¡è¶³åŸºæœ¬éœ€æ±‚ã€‚ç„¶åé€æ¸æä¾›ä¸€äº›å®˜æ–¹ç»´æŠ¤çš„å¸®åŠ©æ„å»ºå¤æ‚åº”ç”¨çš„ç‹¬ç«‹è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å„ç§ç»„åˆæ­é…ä½¿ç”¨ï¼Œä¸éœ€è¦æ—¶å¯ä»¥ä¸ç”¨ã€‚åŒæ—¶ä¹Ÿå¯ä»¥è‡ªå·±å¼€å‘å®šåˆ¶è‡ªå·±çš„åº“ã€‚ ä¸€ä¸ªæ¡†æ¶éœ€è¦æœ‰è‡ªå·±çš„å®šä½ï¼Œè¦ä¹ˆç²¾ç®€æ— æ¯”ï¼Œå°±åƒreactä¸€æ ·ï¼Œå°±åšä¸ªæ¸²æŸ“åº“ã€‚æˆ–è€…åƒAngularä¸€æ ·ï¼Œå¤§è€Œå…¨ã€‚äº¦æˆ–è€…åƒvueä¸€æ ·æŠ˜ä¸­ï¼Œæ¸è¿›ã€‚ ä¸€å¼€å§‹ï¼Œæˆ‘åœ¨æ…¢æ…¢æ­å»ºè‡ªå·±çš„æ¡†æ¶æ—¶ï¼Œå¿ƒæ½®æ¾æ¹ƒï¼Œæ¿€æƒ…æ»¡æ»¡ã€‚æƒ³è¦æœ‰å¾ˆå¤šå¾ˆå¤šåŠŸèƒ½ï¼Œä¹Ÿå®ç°äº†å¾ˆå¤šåŠŸèƒ½æ¨¡å—ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æƒ³ç”¨ä¸€éƒ¨åˆ†åŠŸèƒ½æ—¶ï¼Œä¸å¥½æ‹†åˆ†ï¼Œç”¨äº†ä¹‹ååŒæ­¥å’Œç»´æŠ¤ä¹Ÿä¼šå˜å¾—éº»çƒ¦ã€‚(ps.å½“æ—¶ç”¨Laya3dåœ¨å¼€å‘rpgæŒ‚æœºé¡¹ç›®ï¼Œæ¡†æ¶å·²ç»å…·å¤‡å¤§éƒ¨åˆ†åŠŸèƒ½æ¨¡å—äº†ï¼Œä¹Ÿæƒ³å¼€æºå‡ºæ¥ï¼Œä½†æƒ³äº†æƒ³åªæ˜¯èŠ¸èŠ¸ä¼—è½®ä¸­ä¸€ä¸ªå¤§åŒå°å¼‚çš„è½®å­ï¼Œæ²¡å•¥å¥½åˆ†äº«çš„ï¼Œä¹Ÿä¸å¥½ç»´æŠ¤ã€‚) å¤§è€Œå…¨çš„è·¯å­ä¸é€‚åˆæˆ‘ï¼Œå› ä¸ºæ—¶é—´ç²¾åŠ›æ²¡é‚£ä¹ˆå¤šï¼Œè€Œä¸”ä»·å€¼å’Œæ„ä¹‰ä¸å¤§ã€‚ æ‰€ä»¥æˆ‘é€‰æ‹©äº†æ¸è¿›ã€‚ è¿™ä¸€ä¸ªè½¬å˜ï¼Œè®©æˆ‘æ›´å¤šåœ°å…³æ³¨æ‰‹ä¸­çš„ä¸šåŠ¡ï¼Œå…³æ³¨å¤šäººåä½œï¼Œä»¥åŠå¯¹éœ€æ±‚ã€é—®é¢˜çš„æ€è€ƒã€‚å»å­¦ä¹ ä¸åŒæ¡†æ¶çš„è®¾è®¡æ€è·¯ï¼Œä»¥åŠäº†è§£å®ƒä»¬å¦‚ä½•å»è§£å†³å®ƒä»¬ç•Œå®šçš„é¢†åŸŸçš„é—®é¢˜ã€‚ æˆ‘å°†æˆ‘è®¤ä¸ºæœ€é‡è¦æœ€æ ¸å¿ƒçš„æ¨¡å—åˆ†ç¦»å‡ºæ¥ï¼Œè¿›è¡Œç ”ç©¶ï¼Œå®è·µå’Œè¿­ä»£ï¼Œå°½é‡æ‰“ç£¨åˆ°æ›´å¥½çš„çŠ¶æ€ã€‚ è™½ç„¶æˆ‘é€‰æ‹©çš„æ–¹å‘å’ŒVueç›¸ä¼¼ï¼Œä½†ä¸èƒ½æ¯”çš„ã€‚ æ¡†æ¶æ ¸å¿ƒçš„å®šä½ æè‡´è½»é‡çº§ è¿™æ ·å®ƒå°±å¯ä»¥è½»æ˜“èå…¥ä»»æ„é˜¶æ®µçš„é¡¹ç›®ï¼Œæ¯”å¦‚ä½ æƒ³è¦ä¸€ä¸ªèˆ’æœçš„å…¨å±€è°ƒç”¨ä¸åŒæ¨¡å—çš„æ¥å£çš„ä½“éªŒï¼Œé‚£å®ƒçš„æ·»åŠ å‡ ä¹æ— æ„Ÿï¼Œå°±130å¤šè¡Œçš„æºç ï¼Œæœªå‹ç¼©å°±10kbã€‚ å¼•æ“æ— å…³æ€§ ä¸å—é™äºä»»æ„å¼•æ“ï¼Œåªè¦æ˜¯èƒ½ç”¨js/tså¼€å‘çš„ç¨‹åºï¼Œéƒ½å¯ä»¥ç”¨ã€‚å¦‚æœä½ å¸Œæœ›è·å¾—åœ¨ä¸åŒé¡¹ç›®ä¸­æ‹¥æœ‰ä¸€è‡´çš„ç¼–ç å’Œæ¨¡å—ç®¡ç†ä½“éªŒçš„è¯ã€‚ å¯æ’æ‹”å¯æ‰©å±•çš„æ¨¡å—åŒ–æœºåˆ¶ æ ¸å¿ƒåº“æä¾›çš„æœºåˆ¶ï¼Œå¯ä»¥è®©ä½ å¯ä»¥åˆ›é€ å¤šç§æ–¹å¼å»ç®¡ç†ä½ çš„ä¸šåŠ¡å’ŒåŸºç¡€æ¨¡å—ï¼Œä½ å¯ä»¥åœ¨é‡Œé¢å¥—pureMvcé‚£å¥—è§„èŒƒï¼Œä¹Ÿå¯ä»¥ç®€å•çš„æ¨ªå‘æ‰©å±•ã€‚ä½¿ç”¨é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä½ å¯ä»¥åŠ¨æ€åœ°æ ¹æ®å¹³å°ï¼Œç¯å¢ƒï¼Œæ›¿æ¢å…·ä½“æ¨¡å—å®ç°ã€‚ çµæ´»å¯æ‰©å±•çš„æ¨¡å—ç”Ÿå‘½å‘¨æœŸ æ¨¡å—ç”Ÿå‘½å‘¨æœŸå¯ä»¥æ–¹ä¾¿ç®¡ç†æ¨¡å—ä¹‹é—´çš„ä¾èµ–ï¼Œä»¥åŠå¯ä»¥æ‰©å±•è‡ªå·±ä¸šåŠ¡ç¯å¢ƒæ‰€éœ€çš„ç”Ÿå‘½å‘¨æœŸã€‚ æ¯”å¦‚ç™»é™†ï¼Œç™»é™†ä¹‹åï¼Œæ–­çº¿ï¼Œé‡è¿ï¼Œå±å¹•å°ºå¯¸å˜åŒ–ï¼Œè¿›å…¥åå°ï¼Œè¦åšå¼•å¯¼äº†â€¦ç­‰ç­‰ è®ºå›ä¸Šæœ‰ä¸ªå°ä¼™ä¼´@zzzz.leungé—®åˆ°æˆ‘ æ¨¡å—ä¹‹é—´çš„ä¾èµ–æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿä¸€ä¸ªæ¡†æ¶åº”è¯¥éœ€è¦æä¾›æ¨¡å—è£å‰ªèƒ½åŠ›ä»¥å‡å°‘ä»£ç åŒ…å¤§å°å§ï¼Ÿå› ä¸ºè¿­ä»£çš„åŠŸèƒ½è¶Šå¤šï¼Œæ¡†æ¶ä¼šè¶Šåºå¤§å¤æ‚ã€‚ å…¶å®è¿™ä¸ªæ¨¡å—ç”Ÿå‘½å‘¨æœŸçš„ç”¨æ³•åœ¨æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶å°±æœ‰è¯´åˆ°ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚ start, afterStart è¿™äº›ç”Ÿå‘½å‘¨æœŸ æ¥å£è·Ÿ cocos å’Œ Unity çš„ç»„ä»¶å¼æ¥å£å¾ˆåƒã€‚ ä¸»è¦æ˜¯æ–¹ä¾¿å¤„ç†ä¸åŒæ¨¡å—ä¹‹é—´çš„ä¾èµ–å¼•ç”¨ã€‚æ¯”å¦‚ï¼šA ä¾èµ–äº† Bï¼Œä½† B è¿˜æœªåˆå§‹åŒ–ã€‚ å„è‡ªçš„åˆå§‹åŒ–ï¼Œéƒ½åœ¨ start é‡Œå¤„ç†ï¼Œç„¶ååœ¨ afterStart é‡Œè¿›è¡Œä¾èµ–è°ƒç”¨ã€‚ å¯èƒ½å¯¹äºä¸åŒçš„ä¸šåŠ¡ï¼Œè¿™äº›ç”Ÿå‘½å‘¨æœŸå¯èƒ½ä¸å¤Ÿç”¨ï¼Œå¯ä»¥æ ¹æ®å…·ä½“ä¸šåŠ¡è¿›è¡Œæ‰©å±•ï¼Œæ»¡è¶³è‡ªå®šä¹‰éœ€æ±‚ã€‚ æ¯”å¦‚ç™»å½•ä¸šåŠ¡ç›¸å…³çš„ï¼š C æ¨¡å—ä¾èµ– A å’Œ B ç™»å½•åçš„æ•°æ®çŠ¶æ€ï¼Œé‚£ä¹ˆå¢åŠ ä¸¤ä¸ªæ¥å£ onLoginInit,onAfterLoginInitã€‚ é‚£ä¹ˆ A å’Œ B å®ç° onLoginInit æ¥å£è¿›è¡Œç™»å½•åˆå§‹åŒ–ï¼ŒC åœ¨ onAfterLoginInit æ¥å£è¿›è¡Œä¾èµ–è°ƒç”¨ã€‚ æ¨¡å—è‡ªåŠ¨è£å‰ªè¿™ç§åŠŸèƒ½ï¼Œå¤ªé«˜çº§äº†ã€‚è¿™ä¸ªæ˜¯åœ¨ç¼–è¯‘å±‚åšçš„å¤„ç†ï¼Œæ¯”å¦‚æ‘‡æ ‘Treeshakeä¼˜åŒ–ï¼Œå°†æ²¡æœ‰è°ƒç”¨è¿‡çš„å‡½æ•°ä»£ç å‰ªæ‰ã€‚ éšç€åŠŸèƒ½è¿­ä»£å¼€å‘ï¼Œæ¡†æ¶çš„ç¡®ä¼šè¶Šæ¥è¶Šåºå¤§ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¼€å‘è€…è‡ªå·±å»æ•´ç†äº†ï¼Œè¿™ä¸ªå¯èƒ½ä»»ä½•æ¡†æ¶éƒ½æ²¡åŠæ³•å¸®ä½ è‡ªåŠ¨å¤„ç†ã€‚æœ‰äººå¯èƒ½è¯´:äººå®¶CocosCreatorå¯ä»¥å•Šã€‚è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›çš„å¯¹å¼•æ“çš„æ¨¡å—è¿›è¡Œå‰”é™¤ã€‚ä½ è‡ªå·±æ‰©å±•ä¸€å †æ¨¡å—ï¼Œå¯èƒ½éœ€è¦ä½ è‡ªå·±å»å†³å®šå‰”é™¤å“ªäº›äº†ã€‚åŒæ ·ï¼Œæˆ‘æ‰€æä¾›çš„æ¨¡å—ï¼Œä½ å¯ä»¥æŒ‰éœ€ä½¿ç”¨ã€‚ å¯ä»¥å‚ç…§è¿™ä¸¤å¼ å›¾â–¼ æˆ‘æä¾›çš„ä¸€äº›æ¨¡å—æœ‰æˆ‘ä¸ªäººä»ä¸šåŠ¡å¼€å‘ä¸­å®è·µç„¶åæ²‰æ·€æ¯”å¦‚æ˜¾ç¤ºç®¡ç†æ¨¡å—display-ctrlï¼Œä¹Ÿæœ‰æˆ‘åŸºäºå…´è¶£å†™çš„ï¼Œæ¯”å¦‚imguiç¼–è¾‘å™¨å¼€å‘åº“ã€‚ æ¡†æ¶åº“æ„å»ºå·¥å…·çš„å®šä½ ç”¨äºå¯¼å‡ºå¤šæ¨¡å—è§„èŒƒçš„typescriptåº“ å¯ä»¥åšnodejså·¥å…·å¼€å‘ï¼Œé€šç”¨åº“å¼€å‘ï¼Œå¼•æ“æ‰©å±•åº“å¼€å‘ã€ã€ã€ å…¶å®è¿™ä¸ªå¹³æ—¶çš„ä¸šåŠ¡å¼€å‘ä¸æ¨èä½¿ç”¨è¿™ä¸ªå·¥å…·å°†æ¨¡å—ï¼Œç‹¬ç«‹èµ·æ¥å¼€å‘ã€‚åªæœ‰å½“è¿™ä¸ªæ¨¡å—éœ€è¦å¤šé¡¹ç›®å†…å…±ç”¨ï¼Œå¼€æºåˆ†äº«ï¼ŒæŠ½ç¦»æ²‰æ·€æ—¶ä½¿ç”¨ã€‚å› ä¸ºä¼šå¢åŠ ç»´æŠ¤æˆæœ¬ã€‚å¹³æ—¶å¼€å‘æ€ä¹ˆæ–¹ä¾¿å°±æ€ä¹ˆæ¥ã€‚ EasyGameFrameworkä»“åº“çš„å®šä½å¼€æºå’ŒæŒç»­ç»´æŠ¤è¿™ä¸ªé¡¹ç›®ä¸»è¦æ˜¯å¼€æºå’ŒæŒç»­ç»´æŠ¤æ¡†æ¶æä¾›çš„ä¸€äº›é‡è¦çš„åŸºç¡€æ¨¡å—ã€‚ åŒ…æ‹¬ä¸ä»…é™äº å‰ç«¯åŸºç¡€æ¨¡å—ï¼ˆæ˜¾ç¤ºï¼Œèµ„æºï¼Œæ¶ˆæ¯çŠ¶æ€ï¼Œç½‘ç»œç­‰ï¼‰ å¼•æ“æ‰©å±•æ¨¡å— åŸºç¡€æ¨¡å—çš„å¼•æ“å®ç° æŠ›ç –å¼•ç‰ç»™å¤§å®¶æä¾›ä¸€ä¸ªå¼€å‘æ¡†æ¶çš„å®è·µå‚è€ƒï¼Œä¹Ÿæ–¹ä¾¿å¤§å®¶äº¤æµæ¡†æ¶å¼€å‘ï¼Œä¸šåŠ¡å¼€å‘ç­‰ ä¹Ÿé¼“åŠ±æ›´å¤šçš„äººå‚ä¸å’Œäº¤æµï¼Œæ¸¸æˆå¼€å‘è·¯ä¸Šä¸å­¤å•ã€‚ H5æ¸¸æˆæŠ€æœ¯ä¸­å°å®è·µå‚è€ƒè¿™ä¸ªè¯´çš„æœ‰ç‚¹å¤¸å¼ ï¼Œä½†æ„æ€æ˜¯é‚£ä¸ªæ„æ€ï¼Œå°±æ˜¯æ²‰æ·€æŠ€æœ¯è¿›è¡Œå¤šé¡¹ç›®å…±äº«çš„å®è·µ æ¸¸æˆå¼•æ“ï¼Œå±äºæ¸¸æˆç¨‹åºé‡Œçš„æ¸²æŸ“å±‚çº§ï¼Œå¦‚æœèƒ½å°†ä¸šåŠ¡å’Œæ¸²æŸ“å¾ˆå¥½çš„åˆ†ç¦»ï¼Œå°†ä¸šåŠ¡å’Œæ¸²æŸ“æ‰©å±•åˆ†åˆ«æ²‰æ·€ï¼Œä¸ä»…æœ‰ç›Šäºæé«˜ç°æœ‰é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚è€Œä¸”å°†æ¥å¦‚æœåšä¸‹ä¸€ä¸ªé¡¹ç›®ï¼Œç”šè‡³åˆ‡æ¢å¼•æ“åšé¡¹ç›®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ²‰æ·€å°±å¯ä»¥è®©æˆ‘èŠ‚çœå¾ˆå¤šæ—¶é—´ï¼ŒèŠ±æ›´å¤šçš„æ—¶é—´æ¥ä¸“æ³¨ä¸šåŠ¡å’Œæ¸¸æˆæ€§é€»è¾‘çš„ç ”å‘ï¼Œæé«˜é¡¹ç›®å¼€å‘æ•ˆç‡ã€‚ å¦‚æœç”¨äº†fairyguiè¿™ç§ç¬¬ä¸‰æ–¹UIè§£å†³æ–¹æ¡ˆï¼Œè¿UIèµ„äº§ä¹Ÿå¯è·¨é¡¹ç›®è·¨å¼•æ“ï¼Œé‚£ä¹Ÿå¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥å‚ç…§è¿™ä¸ªé¡¹ç›®å»æ‰“é€ å…¬å¸çš„æŠ€æœ¯ä¸­å°ã€‚ å¦‚æœæƒ³åšä¸€ä¸ªå…è´¹ç§æœ‰çš„npmæºï¼Œå¯ä»¥å€ŸåŠ©codingå…è´¹æ‰“é€ ç§æœ‰çš„åˆ¶å“åº“ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹CODING åˆ¶å“åº“ | ç‰ˆæœ¬åŒ–çš„åˆ¶å“ç®¡ç† è¿™ä¸ªé¡¹ç›®æ˜¯åŸºäºmonorepoï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿å¤šæ¨¡å—é¡¹ç›®å¼€å‘å’Œå…±äº«ã€‚ äº†è§£ä¸€ä¸‹monorepoèµ„æ–™ ç™½é¹­çš„egret pro å°±æ˜¯ä½¿ç”¨äº†monorepoçš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚ ã€PPTã€‘ç™½é¹­å¼•æ“é¦–å¸­æ¶æ„å¸ˆ@ç‹æ³½ï¼šæ¡†æ¶å¼€å‘ä¸­çš„åŸºç¡€è®¾æ–½æ­å»º â–¼ å½“ç„¶è¿™ä¸ªå¥½ä¸å¥½ç”¨ï¼Œçœ‹ä¸ªäººå’Œå›¢é˜Ÿã€‚ æˆ‘è‡ªå·±ä½¿ç”¨çš„æ„Ÿè§‰å°±æ˜¯ï¼Œå¤šä¸ªç‹¬ç«‹æ¨¡å—åŒæ—¶å¼€å‘ï¼Œä¸€ä¸ªåŒ…å†™å®Œä»£ç ï¼Œå¦ä¸€ä¸ªåŒ…å°±å¯ä»¥åƒnpm install ä¹‹åé‚£æ ·ç”¨ï¼Œåé¦ˆéå¸¸å¿«ï¼Œéå¸¸èˆ’æœã€‚ å°±æ˜¯æŒ‡ä»¤ç¨å¾®æœ‰ç‚¹å¤æ‚è¿™ä¸ªä¸å¤ªèˆ’æœï¼Œå¼€å‘ä¹…äº†å°±ä¹ æƒ¯äº† å¦‚æœæ˜¯åˆ†å¼€ä»“åº“ï¼Œæœ¬åœ°å¼€å‘è¿˜å¥½ï¼Œå¯ä»¥ä½¿ç”¨npm linkï¼Œä½†å¦‚æœå¤šäººåä½œï¼Œå°±éº»çƒ¦äº†ã€‚ è€Œä¸”æœ¬åœ°å¼€å‘éœ€è¦npm link è¿™ä¸ªå’Œinstallä¸å¤ªä¸€æ ·ï¼Œå°±æ˜¯å’Œå…·ä½“çš„ä½¿ç”¨ç¯å¢ƒä¸åŒã€‚ è°¢è°¢å¤§å®¶é˜…è¯»æˆ‘çš„æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½æœ‰æ‰€æ”¶è·ã€‚ æ¡†æ¶å¼€å‘ç³»åˆ—æ–‡ç«  æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶ æ‰“ç ´CocosCreator3dä¸èƒ½ä½¿ç”¨npmåŒ…çš„é­”å’’!!! æ¡†æ¶çš„è¯ç”Ÿ-äºŒï¼šå®šä½ ä¸åªæ˜¯ UI ç®¡ç†:é€šç”¨æ˜¾ç¤ºç®¡ç† è®© fairygui æ›´å¥½ç”¨çš„æ’ä»¶ æ»¡è¶³å¤šç§éœ€æ±‚çš„é€šç”¨å¯¹è±¡æ±  æ„å»ºæ¸¸æˆ/åº”ç”¨çš„ç¥å™¨:broadcast æ»¡è¶³æ‰€æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„é€šç”¨ socket ç½‘ç»œæ¨¡å— ä¸šåŠ¡å¼€å‘æ€»ç»“ä¹‹çŠ¶æ€ç®¡ç† å¾…ç»­ã€‚ã€‚ã€‚ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/tags/æ¡†æ¶è®¾è®¡/"}],"keywords":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"}]},{"title":"æ‰“ç ´CocosCreator3dä¸èƒ½ä½¿ç”¨npmåŒ…çš„é­”å’’!!!","slug":"Break-the-spell-that-CocosCreator3d-cannot-use-NPM-packages","date":"2020-11-30T14:36:20.000Z","updated":"2020-11-30T16:00:29.540Z","comments":false,"path":"2020/11/30/Break-the-spell-that-CocosCreator3d-cannot-use-NPM-packages/","link":"","permalink":"http://yoursite.com/2020/11/30/Break-the-spell-that-CocosCreator3d-cannot-use-NPM-packages/","excerpt":"","text":"èƒŒæ™¯ æˆ‘åœ¨å¼€å‘EasyGameFrameworkè¿™ä¸ªæ¡†æ¶çš„æ—¶å€™ï¼Œç›®æ ‡ä¹‹ä¸€æ˜¯æ„å»ºå‡ºæ¥çš„æ¨¡å—åŒ…å¯ä»¥åœ¨CocosCreator3Dä¸Šä½¿ç”¨ï¼Œä½¿ç”¨ä½“éªŒå’Œæ­£å¸¸ä½¿ç”¨å…·æœ‰ç±»å‹å£°æ˜çš„NpmåŒ…ä¸€è‡´ã€‚å®åœ¨ä¸è¡Œå†ç”¨å‘å¸ƒæºç çš„æ–¹å¼ã€‚ åœ¨jsç”Ÿæ€ä¸­npmæœ‰å¾ˆå¤šå¾ˆå¼ºå¤§å¾ˆæœ‰ç”¨çš„æ¨¡å—åŒ… è®ºå›ä¸Šä¹Ÿæœ‰å°ä¼™ä¼´å¯¹åœ¨CocosCreator3dä¸Šä½¿ç”¨npmåŒ…æœ‰éœ€æ±‚ã€‚ ä½†CocosCreator3Dçš„æ¨¡å—æœºåˆ¶å’ŒCocosCreatorä¸åŒï¼Œæ‰€ä»¥æš‚ä¸æ”¯æŒç›´æ¥ä½¿ç”¨npmåŒ…ã€‚ é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿé¦–å…ˆäº†è§£ä¸€ä¸‹CocosCreator3dæ¨¡å—æœºåˆ¶ CocosCreator3dæ¨¡å—æœºåˆ¶è¿™ä¸ªæ—¶å€™å°±å¾—ç¥­å‡ºè°ƒè¯•çš„æ€æ‰‹çº§å·¥å…·:Chrome Devtools è°ƒè¯•è¿è¡ŒCocosCreator3dç©ºé¡¹ç›®æŸ¥çœ‹index.html CocosCreator3dä¸­ä½¿ç”¨äº†system.jsï¼Œå¹¶ä¸”åœ¨index.htmlæ³¨å†Œäº†ä¸€ä¸ªå« code-quality:crçš„æ¨¡å— è€Œä¸”åŠ è½½äº†ä¸€ä¸ª.import-map.jsonçš„ä¸œè¥¿ æœç´¢.import-map.jsonçœ‹çœ‹æ˜¯ä»€ä¹ˆ é€šè¿‡ä»¥ä¸Šçš„è°ƒè¯•æˆ‘ä»¬å¤§æ¦‚çŸ¥é“ï¼ŒCocosCreator3dä½¿ç”¨äº†ä¸€ä¸ªå«systemjsçš„åº“ï¼Œç„¶åå‘¢ï¼Œç”¨æ¥æ³¨å†Œä¸€äº›æ¨¡å—ã€‚è¿™ä¸ªsystemjså¯èƒ½æ˜¯å…³é”®çš„ä¸œè¥¿ï¼Œå¾—äº†è§£ä¸€ä¸‹ã€‚ SystemJSçš„å®˜æ–¹github:https://github.com/systemjs/systemjs åˆ«äººçš„ä½¿ç”¨:SystemJSä½¿ç”¨è®°å½• äº†è§£è¿‡åï¼Œæˆ‘ä»¬èƒ½çŸ¥é“å®ƒå°±æ˜¯ä¸€ä¸ªæ¨¡å—åŠ è½½å™¨ï¼Œä»¥åŠå®ƒçš„æ³¨å†Œæ–¹å¼ é€šè¿‡ä¸€ä¸ªmapæ³¨å†Œä¸€å †æ¨¡å— é€šè¿‡registeræ¥å£æ³¨å†Œä¸€ä¸ªæ¨¡å— ä½†æ˜¯æ€ä¹ˆå¤„ç†å¼•ç”¨çš„å‘¢ï¼Ÿ æ–­ç‚¹è°ƒè¯•systemjsæ‰¾åˆ°systemjsï¼Œæœç´¢register æœç´¢importMapä¹‹ç±»çš„å…³é”®è¯ é€šè¿‡ä»¥ä¸Šè°ƒè¯•éªŒè¯äº†æˆ‘ä»¬çš„çŒœæƒ³ï¼šSystemJsï¼Œç”¨æ¥æ³¨å†Œå’ŒåŠ è½½æ¨¡å—çš„ï¼Œæ˜¯ä¸€ç§æ¨¡å—è§„èŒƒï¼Œéœ€è¦åšç‰¹æ®Šå¤„ç†æ‰èƒ½æ³¨å†Œè¿›å»å’Œä½¿ç”¨ã€‚ä½†æˆ‘ä»¬éœ€è¦æ¥å†™ä¸€ä¸ªç®€å•çš„systemjsè§„èŒƒçš„æ¨¡å—æ¥éªŒè¯ä¸€ä¸‹ã€‚ æ‰‹å†™ä¸€ä¸ªç®€å•çš„SystemJsçš„æ¨¡å— simple-sysjs.js 12345678910111213System.register('simple-sysjs', [], function (exports) &#123;'use strict'; return &#123; execute: function () &#123; var SimpleSysJs = exports('SimpleSysJs', /** @class */ (function () &#123; function SimpleSysJs() &#123; console.log(\"æˆ‘æ˜¯ç®€å•çš„systemjsæ¨¡å—\") &#125; return SimpleSysJs; &#125;())); &#125; &#125;;&#125;); å£°æ˜æ–‡ä»¶:simple-sysjs.d.ts 1234declare module 'simple-sysjs' &#123;export class SimpleSysJs &#123; &#125;&#125; ä¸ºäº†ä¿è¯è¿™ä¸ªè„šæœ¬ä¼˜å…ˆäºå…¶ä»–è„šæœ¬åŠ è½½ï¼Œå°†simple-sysjs.jsè®¾ç½®ä¸ºæ’ä»¶ ç„¶ååœ¨ç¼–è¾‘å™¨æ–°å»ºè„šæœ¬ï¼Œå†™ä¸‹ 12import &#123; SimpleSysJs &#125; from \"simple-sysjs\"new SimpleSysJs() è¿è¡Œåå¯ä»¥çœ‹åˆ°è¾“å‡º:æˆ‘æ˜¯ç®€å•çš„systemjsæ¨¡å— è¿™ä¸ªå¾ˆç®€å•çš„ï¼Œå¤§å®¶éƒ½å¯ä»¥æ–°å»ºä¸€ä¸ªç©ºC3dé¡¹ç›®å°è¯•ä¸€ä¸‹ã€‚ ç»è¿‡éªŒè¯å°è¯•ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåªè¦å°†npmåŒ…è½¬æˆsystemjsè§„èŒƒçš„æ–‡ä»¶å°±å¯ä»¥è¢«æˆ‘ä»¬çš„ä»£ç å¼•ç”¨ï¼Œä»¥åŠæ­£å¸¸ä½¿ç”¨äº†ã€‚ä½†æ‰‹å†™å¤ªéº»çƒ¦äº†ï¼Œæœ‰ä»€ä¹ˆç®€å•çš„åŠæ³•å‘¢ï¼Ÿ å¦‚ä½•å¿«é€Ÿåœ°è½¬æ¢npmåŒ…ä¸ºsystemjsè§„èŒƒåº“ä½¿ç”¨egf-cliè¿™ä¸ªå·¥å…·æ˜¯æˆ‘ä¸ºEasyGameFrameworkæ‰“é€ çš„ï¼Œç›®çš„æ˜¯å¯ä»¥å‘å¸ƒæ¡†æ¶åº“ä¸ºä»»æ„è§„èŒƒæ¨¡å—ï¼Œç»™ä¸åŒçš„å¼•æ“å’Œé¡¹ç›®ä½¿ç”¨ã€‚ æœ‰å…´è¶£å¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„æ–‡ç«  æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶ ä»¥åŠæ¡†æ¶ä»“åº“:https://github.com/AILHC/EasyGameClientFramework.git ä½¿ç”¨è¿™ä¸ªå·¥å…·å¯¹npmåŒ…æœ‰ä¸€å®šçš„è¦æ±‚ ç¬¦åˆcommonjsè§„èŒƒ æœ€å¥½æœ‰ç±»å‹å£°æ˜æ–‡ä»¶ æœ€å¥½èƒ½æ˜¯typescriptå¼€å‘çš„ æˆ‘ä»¥xstateï¼ˆä¸€ä¸ªé«˜starçš„çŠ¶æ€æœºåº“ï¼‰ä¸ºä¾‹å­ c3dé¡¹ç›®ä¸‹å®‰è£… xstate ,npm i xstate ç„¶åå¤åˆ¶ EasyGameFrameOpençš„package-templateé¡¹ç›® ä¿®æ”¹åŒ…åä¸º 1\"name\": \"@ailhc/xstate2c3d\", ä¿®æ”¹æ„å»ºå‘½ä»¤ä¸º 1\"build:system\": \"egf build -f system:@ailhc/xstate2c3d\", åˆ é™¤å…¶ä»–tsæ–‡ä»¶ï¼Œç•™ä¸‹index.ts ç„¶åå†™ä¸€å¥: 1export * from \"xstate\" æœ€åæ‰§è¡Œ yarn run build:system æœ€åçš„æœ€åï¼Œå› ä¸ºxstateé‡Œå¼•ç”¨äº†nodeçš„å˜é‡ï¼Œæ‰€ä»¥åœ¨æ„å»ºå‡ºæ¥çš„index.jsè¦åŠ ä¸€å¥ 12345sendParent: sendParent,sendUpdate: sendUpdate,spawn: spawn &#125;);var process = &#123; env: &#123; NODE_ENV: \"production\" &#125; &#125; å¤åˆ¶libå’Œtypesåˆ°c3dé¡¹ç›®ï¼Œå°†index.jsè®¾ç½®ä¸ºæ’ä»¶ åœ¨ä»»æ„è„šæœ¬å¼•ç”¨å°±å¯ä»¥ 1234567891011121314151617181920212223import &#123; createMachine, interpret &#125; from \"@ailhc/xstate2c3d\"// Stateless machine definition// machine.transition(...) is a pure function used by the interpreter.const toggleMachine = createMachine(&#123; id: 'toggle', initial: 'inactive', states: &#123; inactive: &#123; on: &#123; TOGGLE: 'active' &#125; &#125;, active: &#123; on: &#123; TOGGLE: 'inactive' &#125; &#125; &#125;&#125;);// Machine instance with internal stateconst toggleService = interpret(toggleMachine) .onTransition((state) =&gt; console.log(state.value)) .start();// =&gt; 'inactive'toggleService.send('TOGGLE');// =&gt; 'active'toggleService.send('TOGGLE');// =&gt; 'inactive' xstate2c3dçš„å·¥ç¨‹å·²ç»æ›´æ–°åˆ°EasyGameFrameOpenï¼šhttps://github.com/AILHC/EasyGameFrameworkOpen.git å…¶ä»–æ–¹å¼ å¦‚æœnpmåŒ…æœ‰æ„å»ºsystemjsï¼Œç›´æ¥ä½¿ç”¨ å¦‚æœæ²¡æœ‰æ„å»ºsystemjsï¼Œçœ‹æ˜¯å¦æœ‰typescriptæºç ï¼Œcopyæºç ï¼Œä½¿ç”¨egf-cliæ„å»ºä¸€ä¸ªsystemjsè§„èŒƒçš„js å¦‚æœæ˜¯å…¨å±€å˜é‡çš„åº“ï¼Œç›´æ¥è®¾ç½®ä¸ºæ’ä»¶å°±å¯ä»¥äº†ã€‚ CocosCreator3.0?å®ƒä¹Ÿè®¸ä¼šæ”¯æŒnpmåŒ…ï¼Œä½†ç­‰å¾…å®ƒçš„åˆ°æ¥å¯èƒ½è¿˜æœ‰ä¸€æ®µæ—¶é—´ è€Œä¸”ç ”ç©¶ä¸€ä¸‹CocosCreator3dçš„æ¨¡å—åŠ è½½æœºåˆ¶è¯´ä¸å®šï¼Œåœ¨é‡åˆ°çœ‹ä¸æ‡‚çš„é—®é¢˜æ—¶æœ‰æ‰€å¤´ç»ªå‘¢ã€‚ è°¢è°¢å¤§å®¶é˜…è¯»æˆ‘çš„æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½æœ‰æ‰€æ”¶è·ã€‚ æ¡†æ¶å¼€å‘ç³»åˆ—æ–‡ç«  æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶ æ‰“ç ´CocosCreator3dä¸èƒ½ä½¿ç”¨npmåŒ…çš„é­”å’’!!! ä¸åªæ˜¯ UI ç®¡ç†:é€šç”¨æ˜¾ç¤ºç®¡ç† è®© fairygui æ›´å¥½ç”¨çš„æ’ä»¶ æ»¡è¶³å¤šç§éœ€æ±‚çš„é€šç”¨å¯¹è±¡æ±  æ„å»ºæ¸¸æˆ/åº”ç”¨çš„ç¥å™¨:broadcast æ»¡è¶³æ‰€æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„é€šç”¨ socket ç½‘ç»œæ¨¡å— ä¸šåŠ¡å¼€å‘æ€»ç»“ä¹‹çŠ¶æ€ç®¡ç† å¾…ç»­ã€‚ã€‚ã€‚ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"EasyGameFrameworkä½¿ç”¨","slug":"EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"CocosCreator3d","slug":"CocosCreator3d","permalink":"http://yoursite.com/tags/CocosCreator3d/"}],"keywords":[{"name":"EasyGameFrameworkä½¿ç”¨","slug":"EasyGameFrameworkä½¿ç”¨","permalink":"http://yoursite.com/categories/EasyGameFrameworkä½¿ç”¨/"}]},{"title":"æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶","slug":"The-Birth-of-a-Framework-One-The-Framework-I-Want","date":"2020-11-29T09:23:49.000Z","updated":"2021-04-18T09:27:04.580Z","comments":true,"path":"2020/11/29/The-Birth-of-a-Framework-One-The-Framework-I-Want/","link":"","permalink":"http://yoursite.com/2020/11/29/The-Birth-of-a-Framework-One-The-Framework-I-Want/","excerpt":"","text":"ç›®å½•[TOC] æˆ‘æƒ³è¦çš„æ¡†æ¶æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ ä¸Šä¸€ç¯‡æ–‡ç« : ã€Šæ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿã€‹é‡Œæœ‰è®² ä»€ä¹ˆæ˜¯æ¡†æ¶ã€‚ æ¡†æ¶æ˜¯ä¸€ä¸ªæ¶å­ï¼Œåœ¨æ¸¸æˆç¨‹åºä¸­ï¼ŒæŠ›å¼€æ¸²æŸ“å±‚å¼•æ“æ¡†æ¶ï¼Œæˆ‘ä»¬çš„æŒ‡çš„æ¡†æ¶å°±æ˜¯æ”¯æ’‘ä¸šåŠ¡é€»è¾‘çš„æ¶å­ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¡†æ¡†ï¼Œè§„èŒƒå’Œçº¦æŸç€å¼€å‘äººå‘˜ã€‚ æ¯ä¸ªæ¡†æ¶éƒ½æœ‰ç€è‡ªå·±çš„è¾¹ç•Œï¼Œè§£å†³ç‰¹å®šé¢†åŸŸé—®é¢˜çš„ã€‚ é‚£æˆ‘ä»¬ä»å»åˆ†ææˆ‘é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œæœ‰ä»€ä¹ˆéœ€æ±‚ï¼Œå¦‚ä½•è§£å†³é—®é¢˜ï¼Œå¦‚ä½•å®ç°éœ€æ±‚ã€‚ æ— è®ºæ˜¯å°é¡¹ç›®è¿˜æ˜¯å¤§é¡¹ç›®ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¼šä¸æ–­æ‰©å¼ çš„é¡¹ç›®ï¼Œéƒ½å¸Œæœ›èƒ½å¤Ÿé¡¹ç›®ä»£ç ç»“æ„æ¸…æ™°æœ‰æ¡ç†ï¼Œç®¡ç†å¥½ä¸åŒæ¨¡å—ã€‚ æ¡†æ¶:æºç ä¼ é€é—¨ æˆ‘å°è¯•è¿‡çš„æ–¹å¼Manager of Managerså¾ˆå¤šæ¡†æ¶éƒ½ç”¨è¿™ç§æ–¹å¼ï¼ˆåŒ…æ‹¬æˆ‘ä¹‹å‰å†™çš„æ¡†æ¶ï¼‰ è¿™æ˜¯åˆ˜é’¢è€å¸ˆçš„ã€ŠUnity é¡¹ç›®æ¶æ„è®¾è®¡ä¸å¼€å‘ç®¡ç†ã€‹ä¸­è®²åˆ°çš„ä¸€ç§ç›¸å¯¹è¾ƒå¥½çš„æ–¹å¼ â–¼ ä¼˜ç‚¹æ˜¯:ç±»ä¼¼äºåˆ†çº§ç»“æ„ï¼Œå„å¸å…¶èŒï¼›æ¯”å¦‚éŸ³é¢‘ç®¡ç†ï¼Œåœºæ™¯ç®¡ç†ï¼Œå…³å¡ç®¡ç†ç­‰ï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯ä¸€ä¸ªå•ä¾‹è„šæœ¬ï¼Œé…åˆä½¿ç”¨ã€‚ç»“æ„ç›¸å¯¹æ¸…æ™°ã€‚å¯ä»¥å¤ç”¨ ä½†æˆ‘ä¸ªäººä¸å¤ªå–œæ¬¢çš„ç‚¹ è°ƒç”¨ä¸æ–¹ä¾¿ï¼Œè°ƒç”¨é“¾å¤ªé•¿ï¼Œè´¹æ‰‹æŒ‡ã€‚æ¯”å¦‚ UIManager.getInstance().showUI æˆ–è€… UIMgr.ins.showUI æˆ‘æƒ³è¿™æ ·: m.uiMgr.showUI å°‘æ•²å‡ ä¸ªå­—æ¯ï¼Œä¹Ÿä¸æƒ³ import UIMgr æ— ç”Ÿå‘½å‘¨æœŸç»Ÿä¸€ç®¡ç†ï¼Œå•ä¾‹åˆå§‹åŒ–å’Œä¾èµ–ä¸å¤ªå¯æ§ã€‚æƒ°æ€§åˆå§‹åŒ–ï¼Œç­‰åˆ°è°ƒç”¨ getInstance æ‰åˆå§‹åŒ–ã€‚ æ§åˆ¶å°è°ƒè¯•è°ƒç”¨ä¸æ–¹ä¾¿ï¼Œå•ä¾‹å¯èƒ½å¾—å•ç‹¬ç»‘å®šæš´éœ²åˆ°å…¨å±€æ‰èƒ½ï¼Œæ¯ä¸ªæ¨¡å—éƒ½å¾—è¿™æ ·åšæ‰è¡Œ ç›´æ¥ä¾èµ–ä¸å¯åŠ¨æ€æ›¿æ¢ æœ‰ä¸ªæ¨¡å—æˆ‘æƒ³åœ¨ä¸åŒçš„å¹³å°åˆ‡æ¢æˆä¸åŒçš„å®ç°ï¼Œå•ä¾‹åšä¸åˆ°ã€‚ å¤§å¤šè€¦åˆå¼•æ“æ¥å¼€å‘ï¼Œåªèƒ½åœ¨åŒå¼•æ“é¡¹ç›®è¿›è¡Œå¤ç”¨ æ¨¡å—å­—å…¸æŒ‚è½½åˆ°å…¨å±€å˜é‡ windowè¿™æ˜¯æˆ‘ä¹‹å‰çš„æ¡†æ¶ä½¿ç”¨çš„æ–¹å¼ å°±æ˜¯å°†æ‰€æœ‰çš„æ¨¡å—åˆå§‹åŒ–ï¼Œç„¶åæ³¨å…¥ä¸€ä¸ªæ¨¡å—å­—å…¸ ç„¶åå°†å­—å…¸æŒ‚è½½åˆ°å…¨å±€çš„ä¸€ä¸ªå˜é‡ä¸­ã€‚ 1234567891011121314151617export class Main &#123; constructor()&#123; const moduleMap = &#123; &#125;; moduleMap[\"uiMgr\"] = new UIMgr(); moduleMap[\"netMgr\"] = new NetMgr(); window[\"aa\"] = moduleMap; &#125;&#125;class UIMgr &#123;&#125;class NetMgr &#123;&#125; ä¼˜ç‚¹ï¼šè°ƒç”¨æ–¹ä¾¿ ç¼ºç‚¹: æœ‰ç‚¹å±é™©ï¼Œåˆ«äººçŸ¥é“äº†å¯ä»¥åœ¨æ§åˆ¶å°è°ƒç”¨è¿›è¡Œè°ƒè¯•ã€‚ è¿™äº›æ–¹å¼åœ¨æ¨¡å—ç®¡ç†ä¸Šéƒ½æœ‰é—®é¢˜ï¼Œå…ˆä¸è€ƒè™‘å¦‚ä½•æ–¹ä¾¿è°ƒç”¨ï¼Œå…ˆå®ç°ä¸ªå¦‚ä½•ç®¡ç†æ¨¡å—çš„æ ¸å¿ƒæœºåˆ¶ã€‚ ä¸€ä¸ªå…·æœ‰ç”Ÿå‘½å‘¨æœŸçš„æ¨¡å—åŒ–æœºåˆ¶pomelo ç»™æˆ‘çš„çµæ„Ÿè¿™ä¸ªæƒ³æ³•çš„çµæ„Ÿæ¥è‡ª pomelo ä¸€ä¸ªç½‘æ˜“å¼€å‘çš„åŸºäº nodejs çš„åˆ†å¸ƒå¼æœåŠ¡å™¨æ¡†æ¶ã€‚ pomelo æ”¯æŒå¯æ’æ‹”çš„ component æ‰©å±•æ¶æ„ ç”¨æˆ·åªè¦å®ç° component ç›¸å…³çš„æ¥å£ï¼š start, afterStart, stop, å°±å¯ä»¥åŠ è½½è‡ªå®šä¹‰çš„ç»„ä»¶ï¼š 1app.load([name], comp, [opts]) start, afterStart è¿™äº›ç”Ÿå‘½å‘¨æœŸ æ¥å£è·Ÿ cocos å’Œ Unity çš„ç»„ä»¶å¼æ¥å£å¾ˆåƒã€‚ä¸»è¦æ˜¯æ–¹ä¾¿å¤„ç†ä¸åŒæ¨¡å—ä¹‹é—´çš„ä¾èµ–å¼•ç”¨ã€‚æ¯”å¦‚ï¼šA ä¾èµ–äº† Bï¼Œä½† B è¿˜æœªåˆå§‹åŒ–ã€‚ å„è‡ªçš„åˆå§‹åŒ–ï¼Œéƒ½åœ¨ start é‡Œå¤„ç†ï¼Œç„¶ååœ¨ afterStart é‡Œè¿›è¡Œä¾èµ–è°ƒç”¨ã€‚ å¯èƒ½å¯¹äºä¸åŒçš„ä¸šåŠ¡ï¼Œè¿™äº›ç”Ÿå‘½å‘¨æœŸå¯èƒ½ä¸å¤Ÿç”¨ï¼Œå¯ä»¥æ ¹æ®å…·ä½“ä¸šåŠ¡è¿›è¡Œæ‰©å±•ï¼Œæ»¡è¶³è‡ªå®šä¹‰éœ€æ±‚ã€‚ æ¯”å¦‚ç™»å½•ä¸šåŠ¡ç›¸å…³çš„ï¼š C æ¨¡å—ä¾èµ– A å’Œ B ç™»å½•åçš„æ•°æ®çŠ¶æ€ï¼Œé‚£ä¹ˆå¢åŠ ä¸¤ä¸ªæ¥å£ onLoginInit,onAfterLoginInitã€‚ é‚£ä¹ˆ A å’Œ B å®ç° onLoginInit æ¥å£è¿›è¡Œç™»å½•åˆå§‹åŒ–ï¼ŒC åœ¨ onAfterLoginInit æ¥å£è¿›è¡Œä¾èµ–è°ƒç”¨ã€‚ æ€ä¹ˆå®ç°æˆ‘æƒ³è¦çš„æ¡†æ¶ï¼Ÿæ¨¡å—ç”Ÿå‘½å‘¨æœŸå›¾ â–¼ æ¥å£è®¾è®¡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778declare global &#123; namespace egf &#123; interface IModule &#123; /**æ¨¡å—å */ key?: string /** * å½“åˆå§‹åŒ–æ—¶ */ onInit?(app: IApp): void; /** * æ‰€æœ‰æ¨¡å—åˆå§‹åŒ–å®Œæˆæ—¶ */ onAfterInit?(app: IApp): void; /** * æ¨¡å—åœæ­¢æ—¶ */ onStop?(): void; &#125; type BootEndCallback = (isSuccess: boolean) =&gt; void; /** * å¼•å¯¼ç¨‹åº */ interface IBootLoader &#123; /** * å¼•å¯¼ * @param app */ onBoot(app: IApp, bootEnd: BootEndCallback): void; &#125; /** * ä¸»ç¨‹åº */ interface IApp&lt;ModuleMap = any&gt; &#123; /** * ç¨‹åºçŠ¶æ€ * 0 æœªå¯åŠ¨ 1 å¼•å¯¼ä¸­, 2 åˆå§‹åŒ–, 3 è¿è¡Œä¸­ */ state: number; /** * æ¨¡å—å­—å…¸ */ moduleMap: ModuleMap; /** * å¼•å¯¼ * @param bootLoaders */ bootstrap(bootLoaders: egf.IBootLoader[]): Promise&lt;boolean&gt;; /** * åˆå§‹åŒ– */ init(): void; /** * åŠ è½½æ¨¡å— * @param module */ loadModule(module: IModule | any, key?: keyof ModuleMap): void; /** * åœæ­¢ */ stop(): void; /** * è·å–æ¨¡å—å®ä¾‹ * @param moduleKey */ getModule&lt;T extends IModule = any&gt;(moduleKey: keyof ModuleMap): T; /** * åˆ¤æ–­æœ‰æ²¡æœ‰è¿™ä¸ªæ¨¡å— * @param moduleKey */ hasModule(moduleKey: keyof ModuleMap): boolean; &#125; &#125;&#125;// eslint-disable-next-line @typescript-eslint/semiexport &#123; &#125; Bootloader: CatLib ç»™æˆ‘çš„çµæ„Ÿè¿™é‡Œæœ‰ä¸€ä¸ª bootloader çš„ä¸œè¥¿æˆ‘æ²¡æœ‰è®²åˆ°ï¼Œå®ƒçš„çµæ„Ÿæ¥è‡ª CatLibï¼Œä¸€ä¸ªæˆ‘è§‰å¾—å¾ˆæ£’çš„ Unity æ¡†æ¶ã€‚ è¿™ä¸ªæœºåˆ¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»¥å¼€å‘æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸¾ä¾‹ã€‚ æœ‰ä¸€ä¸ª debugBootLoaderï¼Œè¿™ä¸ªå¼•å¯¼ç¨‹åºå¤„ç†ä¸€äº›æµ‹è¯•ç”¨çš„æ¨¡å—åŠ è½½å’Œåˆå§‹åŒ–ï¼Œæ‚ä¸ƒæ‚å…«çš„ã€‚ å½“ä½ å‘å¸ƒç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œå¯ä»¥é€šè¿‡ debug å˜é‡å±è”½åŠ è½½è¿™ä¸ªå¼•å¯¼ç¨‹åºï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¼–è¯‘å·¥å…·å‰”é™¤è¿™æ®µä»£ç ã€‚ å…·ä½“å®ç°å¯ä»¥çœ‹ï¼šhttps://github.com/AILHC/EasyGameFrameworkOpen/tree/main/packages/core#readme æ€ä¹ˆä½¿ç”¨?å…·ä½“ä½¿ç”¨è¯·çœ‹ demo å·¥ç¨‹ cocoscreator2.x çš„ demo https://github.com/AILHC/egf-ccc-empty cocoscreator3d çš„ demo https://github.com/AILHC/egf-ccc3d-empty å¦‚ä½•æ¥å…¥é¡¹ç›®â–¼ 1234567891011121314151617181920212223242526272829303132//FrameworkLoader.tsimport &#123; HelloWorld &#125; from \"../HelloWorld\";export class FrameworkLoader implements egf.IBootLoader &#123; onBoot(app: egf.IApp, bootEnd: egf.BootEndCallback): void &#123; const helloWorld = new HelloWorld(); app.loadModule(helloWorld); bootEnd(true); &#125;&#125;//AppMain.tsimport &#123; App &#125; from \"@ailhc/egf-core\"import &#123; FrameworkLoader &#125; from \"./boot-loaders/FrameworkLoader\";import &#123; setModuleMap, m &#125; from \"./ModuleMap\";/** * è¿™æ˜¯ä¸€ç§å¯åŠ¨å’Œåˆå§‹åŒ–æ¡†æ¶çš„æ–¹å¼ï¼Œåœ¨cocosåŠ è½½è„šæœ¬æ—¶å¯åŠ¨ * ä¸ä¾èµ–åœºæ™¯åŠ è½½å’ŒèŠ‚ç‚¹ç»„ä»¶æŒ‚è½½ */export class AppMain &#123; public static app: App&lt;IModuleMap&gt;; public static initFramework() &#123; const app = new App&lt;IModuleMap&gt;(); AppMain.app = app; app.bootstrap([new FrameworkLoader()]); setModuleMap(app.moduleMap); app.init(); window[\"m\"] = m;//æŒ‚åœ¨åˆ°å…¨å±€ï¼Œæ–¹ä¾¿æ§åˆ¶å°è°ƒè¯•ï¼Œç”Ÿäº§ç¯å¢ƒå¯ä»¥å±è”½=&gt;å®‰å…¨ m.helloWorld.say(); &#125;&#125;AppMain.initFramework(); æ¥å…¥é¡¹ç›®å¾ˆç®€å•ï¼Œnew ä¸€ä¸‹ï¼Œbootstrapï¼Œinit å°±å¯ä»¥äº†~ æ³¨å…¥æ¨¡å—ä¹Ÿå¾ˆç®€å• 12345678//åœ¨UIMgr.tså¼€å¤´å¢åŠ ä¸ªå£°æ˜declare global &#123; interface IModuleMap &#123; uiMgr:UIMgr &#125;&#125;//åœ¨åˆå§‹åŒ–åœ°æ–¹ï¼Œæ³¨å…¥å®ä¾‹app.loadModule(UIMgr.getInstance(),\"uiMgr\"); æ³¨å…¥çš„æ¨¡å—æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œä¸é™åˆ¶ï¼Œä½ å¯ä»¥å°†ä¸šåŠ¡æ¨¡å— æ¯”å¦‚ HeroModule æ³¨å…¥è¿›å»ï¼Œé‚£ä¹ˆä¸šåŠ¡æ¨¡å—ä¹‹é—´å°±å¯ä»¥ç›´æ¥è°ƒç”¨äº†ã€‚ä¹Ÿä¸ç”¨æ‹…å¿ƒ typescript çš„å¾ªç¯å¼•ç”¨äº†ã€‚ ä¸¾ä¸ªæ —å­ï¼ˆéšä¾¿çš„ï¼‰: 12345// BattleModule.tsm.hero.showHero(1);//HeroModule.tsm.battle.startTestBattle(1); å°±åƒæœåŠ¡ç«¯çš„ rpc è°ƒç”¨ä¸€æ ·ã€‚ 12app.rpc.chat.chatRemote.kick(session, uid, player, function(data)&#123;&#125;); è‡³äºæ€ä¹ˆä½¿å¾—æ¥å£è°ƒç”¨æ›´æ–¹ä¾¿ï¼Œè¿™ä¸ªçœ‹ä¸ªäººçš„å–œå¥½ï¼Œæˆ‘å‘¢ï¼Œç”¨äº†ä¸€ç‚¹ç‚¹é­”æ³•ï¼Œè®©è‡ªå·±ç”¨ç€èˆ’æœåˆæœ‰ç‚¹å®‰å…¨æ„Ÿã€‚å…·ä½“å®ç°ç»†èŠ‚è¯·çœ‹ demo æˆ‘æƒ³åœ¨ CocosCreator å’Œ C3d ä¸­ä½¿ç”¨ç”±äºæˆ‘çš„å·¥ä½œä¸­æ˜¯ç”¨ Laya çš„ï¼Œé¡¹ç›®ä¹Ÿç”¨äº†è¿™ä¸ªæ¡†æ¶ã€‚ä½†æˆ‘ç§åº•ä¸‹éƒ½æ˜¯ç© CocosCreator å’Œ CocosCreator3d çš„(ä¸ºä»€ä¹ˆå•Šï¼Ÿä½ æ‡‚å¾— ğŸ˜‰ğŸ˜‰) æˆ‘ä¸æƒ³åœ¨é¡¹ç›®ä¹‹é—´å°†æºç æ‹·è´æ¥æ‹·è´å»ï¼Œè¿­ä»£æ›´æ–°åŒæ­¥éº»çƒ¦ã€‚ å¦‚æœèƒ½åƒ npm åŒ…ä¸€æ · å®‰è£…å°±å¥½äº†ã€‚è€Œä¸”æ ¸å¿ƒæ¨¡å—æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå…¶ä»–æ¨¡å—ä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡å—ã€‚ äºæ˜¯æˆ‘å¼€å‘äº†ä¸€ä¸ªæ¨¡å—ç¼–è¯‘å‘å¸ƒçš„å·¥å…·ï¼Œå¼€å‘ä¹‹å‰ä»¥ä¸ºå¾ˆç®€å•ï¼Œå®é™…ä¸Šï¼Œè¸©å‘äº†å¥½ä¹… ğŸ˜‚ã€‚ è¿™ä¸ªæ¨¡å—ç¼–è¯‘å‘å¸ƒå·¥å…·æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ ç¼–è¯‘æ¨¡å—æˆ iifeã€commonjsã€systemjs æ ¼å¼çš„ js æ–‡ä»¶ è‡ªåŠ¨ç”Ÿæˆå•ä¸ª.d.ts å£°æ˜æ–‡ä»¶ è¿™ä¸ª systemjs æ ¼å¼çš„ js æ–‡ä»¶å¯ä»¥è®©ä¸æ”¯æŒ npm åŒ…çš„ CocosCreator3d å¯ä»¥åƒä½¿ç”¨ npm åŒ…ä¸€æ ·ä½¿ç”¨ã€‚å³ä½¿åˆ°æ—¶ Cocos3.0 æ”¯æŒ npm äº†ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿä¸€æ¨¡ä¸€æ ·ã€‚ä½¿ç”¨ C3d1.2.0 å‘å¸ƒ webï¼Œå¾®ä¿¡å°æ¸¸æˆï¼ŒéªŒè¯è¿è¡Œæ²¡æœ‰é—®é¢˜ã€‚ 123456789101112131415161718192021222324252627282930313233import &#123; App &#125; from '@ailhc/egf-core';//åƒå¼•ç”¨npmåŒ…ä¸€æ ·å¼•ç”¨import &#123; _decorator, Component, Node &#125; from 'cc';import &#123; m, setModuleMap &#125; from './ModuleMap';import &#123; FrameworkLoader &#125; from './boot-loaders/FrameworkLoader';const &#123; ccclass, property &#125; = _decorator;@ccclass('AppMainComp')export class AppMainComp extends Component &#123; /* class member could be defined like this */ // dummy = ''; /* use `property` decorator if your want the member to be serializable */ // @property // serializableDummy = 0; onLoad() &#123; this._initFramework(); &#125; private _initFramework() &#123; const app = new App&lt;IModuleMap&gt;(); // new TestImport(); app.bootstrap([new FrameworkLoader()]); // app.bootstrap([new FrameworkLoader2()]); setModuleMap(app.moduleMap); app.init(); window[\"m\"] = m;//æŒ‚åœ¨åˆ°å…¨å±€ï¼Œæ–¹ä¾¿æ§åˆ¶å°è°ƒè¯•ï¼Œç”Ÿäº§ç¯å¢ƒå¯ä»¥å±è”½=&gt;å®‰å…¨ m.helloWorld.say(); &#125; start() &#123; &#125; // update (dt) &#123;&#125;&#125; å¦‚ä½•å¼€å‘ä¸€ä¸ªæ¨¡å— å…‹éš†é¡¹ç›® git clone https://github.com/AILHC/EasyGameFrameworkOpen.git å¤åˆ¶ packages/package-template é¡¹ç›®ï¼Œæ”¹æ–‡ä»¶å¤¹åï¼Œæ”¹ package.json é‡Œçš„é¡¹ç›®åç­‰ä¿¡æ¯ npm install åˆå§‹åŒ–é¡¹ç›® ç„¶åç”¨ typescript è¿›è¡Œå¼€å‘ï¼Œä½¿ç”¨ index.ts æ–‡ä»¶å°†æ‰€æœ‰ä»£ç  exportï¼ˆå¯ä»¥ä½¿ç”¨ export-typescript æ’ä»¶è‡ªåŠ¨åŒ–ï¼Œæ’ä»¶ç‰ˆæœ¬å¿…é¡»æ˜¯ 0.0.5 ä¹‹å‰çš„ï¼‰ ä½¿ç”¨ egf build è¿›è¡Œç¼–è¯‘å‘å¸ƒ æ€»ç»“ä¸€ä¸‹æ¡†æ¶æœ‰ä»€ä¹ˆç‰¹æ€§ è½»é‡çº§æ¨¡å—åŒ–æœºåˆ¶ æ¨¡å—ç”Ÿå‘½å‘¨æœŸ è®©æ¨¡å—çš„åˆå§‹åŒ–æœ‰åºï¼Œä¾èµ–å¯æ§ å¯é¢å‘æ¥å£ç¼–ç¨‹ æ–¹ä¾¿å…·ä½“å®ç°ç»†èŠ‚å¯æ›¿æ¢ï¼Œæ¨¡å—å¯åŠ¨æ€æ›¿æ¢ å‹å¥½çš„ç±»å‹å£°æ˜ ç‚¹ä¸€ä¸‹å°±æœ‰ç±»å‹æç¤ºï¼Œä¼ å­—ç¬¦ä¸²è·å–æ¨¡å—ä¹Ÿæœ‰ç±»å‹æç¤ºï¼Œå¾ˆé¦™çš„ã€‚ åŸºäº TypeScript ä¸å¼•æ“æ— å…³ æ¯ä¸ªæ¨¡å—åº“éƒ½æ˜¯ä¸€ä¸ª npm åŒ… æ¨¡å—åº“å¯ä»¥å¯¼å‡ºå¤šç§ js æ ¼å¼ï¼Œè®© layaï¼Œcccï¼Œc3d ä½¿ç”¨ï¼Œç”šè‡³ç»™ Unityã€Unreal ç”¨(xLua ä½œè€…çš„ Puerts äº†è§£ä¸€ä¸‹ï¼Ÿ) è¿™ä¸ªæ¡†æ¶å¯ä»¥åšä»€ä¹ˆï¼Ÿç‰¹æ€§ åŸºäºè½»é‡çº§æ— ä¾èµ–çš„æ¨¡å—æœºåˆ¶ï¼Œå¯ä»¥ä¸ºä¸åŒé¡¹ç›®é‡èº«å®šåˆ¶æ¡†æ¶ï¼Œå¯å¤§å¯å°ã€‚ä¹Ÿå¯ä»¥æ ¹æ®é¡¹ç›®çš„ä¸åŒé˜¶æ®µè¿›è¡Œæ¸è¿›å¼æ‰©å±•ã€‚è¿˜å¯ä»¥åœ¨é¡¹ç›®çš„ä¸åŒé˜¶æ®µè½»æ˜“åœ°æ¥å…¥ é¢å‘æ¥å£ç¼–ç¨‹çš„æ¨¡å—ï¼Œåº•å±‚ç»„ä»¶å¯ä»¥æ— æ„ŸçŸ¥æ›¿æ¢ åŸºäºæ¨¡å—å¼€å‘å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å‘å’Œå‘å¸ƒä¸€ä¸ªå•ç‹¬çš„å¯¹æ ¸å¿ƒé›¶ä¾èµ–çš„æ¨¡å—ï¼Œç»™ä¸åŒçš„é¡¹ç›®ä½¿ç”¨ã€‚ æ–¹ä¾¿åˆ«çš„é¡¹ç›®å¼•ç”¨ æ–¹ä¾¿å¼€æº æ–¹ä¾¿åšå•å…ƒæµ‹è¯• åŸºäºæ¨¡å—åŒ–æœºåˆ¶å’Œé…å¥—å¼€å‘å·¥å…·ï¼Œå¤§å®¶å¯ä»¥ä¸ºå…¬å¸æˆ–è€…ä¸ªäººå»ºç«‹è‡ªå·±çš„æ¨¡å—åº“ï¼Œåœ¨ä¸åŒé¡¹ç›®æŒ‰éœ€å¤ç”¨ã€‚ æ¶æ„è®¾æƒ³ â–¼ è°¢è°¢å¤§å®¶é˜…è¯»æˆ‘çš„æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½æœ‰æ‰€æ”¶è·ã€‚ è°¢è°¢å¤§å®¶é˜…è¯»æˆ‘çš„æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½æœ‰æ‰€æ”¶è·ã€‚ æ¡†æ¶å¼€å‘ç³»åˆ—æ–‡ç«  æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶ æ‰“ç ´CocosCreator3dä¸èƒ½ä½¿ç”¨npmåŒ…çš„é­”å’’!!! æ¡†æ¶çš„è¯ç”Ÿ-äºŒï¼šå®šä½ ä¸åªæ˜¯ UI ç®¡ç†:é€šç”¨æ˜¾ç¤ºç®¡ç† è®© fairygui æ›´å¥½ç”¨çš„æ’ä»¶ æ»¡è¶³å¤šç§éœ€æ±‚çš„é€šç”¨å¯¹è±¡æ±  æ„å»ºæ¸¸æˆ/åº”ç”¨çš„ç¥å™¨:broadcast æ»¡è¶³æ‰€æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„é€šç”¨ socket ç½‘ç»œæ¨¡å— ä¸šåŠ¡å¼€å‘æ€»ç»“ä¹‹çŠ¶æ€ç®¡ç† å¾…ç»­ã€‚ã€‚ã€‚ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/tags/æ¡†æ¶è®¾è®¡/"}],"keywords":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"}]},{"title":"æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ","slug":"The-Birth-of-Frames-Zeroï¼šWhy-write-framework","date":"2020-11-17T07:53:39.000Z","updated":"2021-04-18T09:27:04.577Z","comments":false,"path":"2020/11/17/The-Birth-of-Frames-Zeroï¼šWhy-write-framework/","link":"","permalink":"http://yoursite.com/2020/11/17/The-Birth-of-Frames-Zeroï¼šWhy-write-framework/","excerpt":"","text":"ç›®å½•[TOC] é¢˜å¤–è¯å¤§å®¶å¥½ï¼Œå¾ˆé«˜å…´ï¼Œèƒ½å†™è¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ ä»¬çœ‹ï¼Œä¹Ÿå¾ˆæ„Ÿè°¢ä½ ä»¬èƒ½çœ‹æˆ‘çš„æ–‡ç« ã€‚å¦‚æœèƒ½å’Œä½ ä»¬äº¤æµæœ€å¥½äº†ã€‚åšæ¸¸æˆå¼€å‘3ã€4å¹´äº†ï¼Œæˆ‘ç”¨è¿‡è¿™äº›ï¼ŒUnityï¼ŒCocos2dxï¼ŒCocosCreatorï¼ŒLayaAirï¼ŒEgretã€‚ ç”¨å¾—æœ€ä¹…çš„æ˜¯LayaAirï¼Œå› ä¸ºå·¥ä½œéœ€è¦å˜›ã€‚ ä½†æœ€å–œæ¬¢çš„è¿˜æ˜¯CocosCreatorï¼Œå› ä¸ºç¤¾åŒºçš„å°ä¼™ä¼´ã€å¼•æ“ç»„çš„äººéƒ½å¾ˆå¥½å¾ˆå¯çˆ±ï¼Œä»–ä»¬åˆ†äº«çš„ä¸œè¥¿éƒ½è®©æˆ‘å—ç›ŠåŒªæµ…ã€‚ è°¢è°¢~ ç¬¬ä¸€æ¬¡å†™æ–‡ç« ï¼Œå¦‚æœ‰ä¸å½“ä¹‹å¤„è¯·å¤šå¤šè§è°…ã€‚ æ¡†æ¶:æºç ä¼ é€é—¨ ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼Ÿæˆ‘æƒ³æœ‰çš„äººå¿ƒé‡Œæœ‰ç­”æ¡ˆï¼Œæœ‰çš„äººä¹Ÿæœ‰ç–‘é—®ã€‚ è¿™é‡Œæˆ‘æä¾›åˆ«äººå¯¹æ¡†æ¶çš„è§è§£é“¾æ¥: æŸä¹æ–‡ç« :ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¡†æ¶ï¼Ÿæˆ‘å‘Šè¯‰ä½ ç†ç”±å“¦ï¼ 123æ¡†æ¶çš„è‹±æ–‡ä¸ºFrameworkæ„æ€æ˜¯æ¡†æ¶ã€æœºåˆ¶ã€å‡†åˆ™ã€‚æœ€æ—©æ˜¯æºäºå»ºç­‘è¡Œä¸šï¼Œæ˜¯ä¸€ä¸ªæ¡†å­â€”â€”æŒ‡å…¶çº¦æŸæ€§ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¶å­â€”â€”æŒ‡å…¶æ”¯æ’‘æ€§ã€‚æ˜¯ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µä¸Šçš„ç»“æ„ï¼Œç”¨äºå»è§£å†³æˆ–è€…å¤„ç†å¤æ‚çš„é—®é¢˜ã€‚ @é‡‘æˆˆçš„å›ç­”: ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼Ÿ 123æ¡†æ¶ï¼ˆFrameworkï¼‰æ˜¯ä¸€ä¸ªæ¡†å­â€”â€”æŒ‡å…¶çº¦æŸæ€§ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¶å­â€”â€”æŒ‡å…¶æ”¯æ’‘æ€§ã€‚ITè¯­å¢ƒä¸­çš„æ¡†æ¶ï¼Œç‰¹æŒ‡ä¸ºè§£å†³ä¸€ä¸ªå¼€æ”¾æ€§é—®é¢˜è€Œè®¾è®¡çš„å…·æœ‰ä¸€å®šçº¦æŸæ€§çš„æ”¯æ’‘ç»“æ„ã€‚åœ¨æ­¤ç»“æ„ä¸Šå¯ä»¥æ ¹æ®å…·ä½“é—®é¢˜æ‰©å±•ã€å®‰æ’æ›´å¤šçš„ç»„æˆéƒ¨åˆ†ï¼Œä»è€Œæ›´è¿…é€Ÿå’Œæ–¹ä¾¿åœ°æ„å»ºå®Œæ•´çš„è§£å†³é—®é¢˜çš„æ–¹æ¡ˆã€‚ æˆ‘çš„ä¸ªäººè§è§£ï¼šâ–¼ æˆ‘ä»¬çš„æ¸¸æˆç¨‹åºéƒ½æ˜¯åŸºäºæŸä¸ªå¹³å°çš„ï¼Œä»¥åŠå¯èƒ½ä¼šä½¿ç”¨ç°æˆçš„æ¸²æŸ“æ¡†æ¶ï¼Œæ¥å®ç°æˆ‘ä»¬æ¸¸æˆçš„ç©æ³•å’Œä¸šåŠ¡ã€‚åŒæ—¶é’ˆå¯¹å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›å·¥å…·ååŠ©ã€‚ æ¡†æ¶åœ¨æ¸²æŸ“æ¡†æ¶å±‚å’Œä¸šåŠ¡å±‚ä¹‹é—´ï¼Œå°è£…éƒ¨åˆ†é€šç”¨èƒ½åŠ›ä¾›ä¸šåŠ¡å±‚ä½¿ç”¨ã€‚èµ·åˆ°æ”¯æ’‘ä¸šåŠ¡å¼€å‘çš„ä½œç”¨ã€‚ æˆ‘çš„å±‚çº§å›¾çš„çµæ„Ÿæ¥è‡ª @ç™½ç‰æ— å†° å¤§ä½¬æ‹çš„pandaå¤§å¤§è®²çš„ä¸€é¡µä¸€ä¸ªPPT:CocosCreatorè·¨å¹³å°çš„å¼•æ“æ¶æ„ã€‚â–¼ å¯¹äºæ¸¸æˆå®¢æˆ·ç«¯æ¡†æ¶æ¥è¯´ æ¡†æ¶å…·æœ‰ä¸€å®šçš„çº¦æŸæ€§ï¼ŒæŒ‡çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸€å®šèŒƒå›´å†…æŒ‰ç…§æ¡†æ¶ä½œè€…çš„è®¾è®¡å’Œè§„èŒƒå»ä½¿ç”¨å’Œæ‰©å±•ã€‚ æ¯”å¦‚ï¼š åœ¨CocosCreatoræ¡†æ¶ä¸­ã€‚ å¦‚æœè¦åŠ è½½ä¸€ä¸ªèµ„æºï¼Œé‚£å°±éœ€è¦è°ƒç”¨cc.assetManager.loadxxx æˆ–è€…cc.loader.loadxxxï¼Œä¼ è§„å®šçš„å‚æ•°ï¼Œä¼ é”™äº†å°±å¯èƒ½å‡ºé—®é¢˜ã€‚ å¦‚æœéœ€è¦åŠ è½½è‡ªå®šä¹‰çš„èµ„æºå°±éœ€è¦å®‰è£…assetManagerçš„è§„èŒƒå»æ‰©å±•ã€‚å…·ä½“å¯å‚è€ƒCocosCreatorçš„æ–‡æ¡£ï¼Œä¸æŒ‰è§„èŒƒæ‰©å±•å°±å¯èƒ½å‡ºé—®é¢˜ã€‚ æ¡†æ¶æœ‰éƒ¨åˆ†å·²ç»å®ç°çš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æˆ–è€…ç¨å¾®æ‰©å±•å°±å¯ä»¥ç”¨æ¥å®ç°ä¸šåŠ¡é€»è¾‘ã€‚ å¤§éƒ¨åˆ†æ¸¸æˆå®¢æˆ·ç«¯æ¡†æ¶éƒ½åŒ…å«å¾ˆå¤šåŠŸèƒ½æ¨¡å—ï¼Œç”šè‡³ä¸æ˜¯æˆ‘ä»¬é¡¹ç›®éœ€è¦çš„ã€‚ æ¯”å¦‚ï¼š æ¡†æ¶ä¸­åŒ…å«UIç®¡ç†æ¡†æ¶ï¼Œäº‹ä»¶é€šè®¯æ¡†æ¶ï¼Œç½‘ç»œæ¨¡å—ï¼Œç­‰ç­‰ã€‚ æˆ‘ä»¬å¯èƒ½åªéœ€è¦äº‹ä»¶é€šè®¯æ¨¡å—æˆ–è€…UIç®¡ç†æ¨¡å—ï¼Œåªèƒ½æ‰‹åŠ¨å»å‰”é™¤ä¸éœ€è¦çš„ã€‚ æ¡†æ¶æ‰€èƒ½è§£å†³çš„é—®é¢˜æœ‰é™ï¼Œæœ‰è¾¹ç•Œã€‚ æ¯”å¦‚ï¼š æœ‰çš„æ¡†æ¶åªæ˜¯ä¸€ä¸ªUIç®¡ç†æ¡†æ¶åªè§£å†³äº†å¤æ‚UIç®¡ç†çš„é—®é¢˜ æ¡†æ¶å¯èƒ½è·Ÿåº•å±‚å¼ºç›¸å…³ã€‚ æ¯”å¦‚ï¼šä¸€ä¸ªåŸºäºCocosCreatorçš„UIç®¡ç†æ¨¡å—ï¼Œé‡Œé¢è€¦åˆäº†CocosCreatorçš„åŠ è½½ï¼Œprefabæ–‡ä»¶ï¼Œresourceæ–‡ä»¶å¤¹çš„è§„èŒƒç­‰ï¼Œå¯èƒ½ä¹Ÿè€¦åˆäº†cc.Nodeçš„ä½¿ç”¨ç­‰ç­‰ã€‚ æ¡†æ¶è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿå¤§å®¶å¯¹æ¡†æ¶çš„ç¬¬ä¸€å°è±¡å¯èƒ½æ˜¯ æˆ‘å­¦ä¸åŠ¨äº† æé«˜å¼€å‘æ•ˆç‡ï¼Œå¿«ï¼ï¼ï¼ æˆ‘ä¸ªäººè§‰å¾—å¥½åè¿˜å¾—çœ‹æ¡†æ¶å’Œçœ‹ä¸ªäºº å¥½çš„æ¡†æ¶å¯ä»¥ç»Ÿä¸€å¤šä¸ªå¼€å‘äººå‘˜çš„ç¼–ç¨‹é£æ ¼ï¼Œæ–¹ä¾¿å¤šäººåä½œ å¥½çš„æ¡†æ¶å¯ä»¥è®©å¼€å‘äººå‘˜å‡å°‘ç»´æŠ¤ç¨‹åºæ¶æ„å¿ƒæ™ºè´Ÿæ‹…ï¼Œå‡å°‘çº ç»“ã€‚ æœ€é‡è¦çš„æ˜¯å¯ä»¥å¤§å¤§çš„æé«˜å¼€å‘æ•ˆç‡ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ä¸“å¿ƒå†™ä¸šåŠ¡å°±å¯ä»¥äº†ã€‚ ä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿä¸ºäº†é€ ä¸€ä¸ªæ›´å¥½æ›´é€‚åˆçš„è½®å­æœ‰ç°æˆçš„æ¡†æ¶ä¸ºä»€ä¹ˆä¸æ‹¿æ¥ç›´æ¥ç”¨ï¼Œå¹²å˜›è‡ªå·±é€ è½®å­æµªè´¹æ—¶é—´ï¼Ÿ ç°æˆçš„æ¡†æ¶æ²¡æ³•æ»¡è¶³éœ€æ±‚ï¼Œæœ‰æ— æ³•è§£å†³çš„é—®é¢˜ã€‚ ç°æˆçš„æ¡†æ¶å’Œè‡ªå·±çš„æ€æƒ³ä¸ç¬¦ã€‚ ä¸ºäº†å­¦ä¹ å’Œå®è·µå†™æ¡†æ¶å¯ä»¥ç£ä¿ƒæˆ‘å»å­¦ä¹ å…¶ä»–æ¡†æ¶æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Œä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Œèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œä¸ºä»€ä¹ˆèƒ½è§£å†³è¿™äº›é—®é¢˜ã€‚ ç„¶ååè¿‡æ¥å»æ€è€ƒæˆ‘å·¥ä½œå’Œå¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘å­¦ç€å»åˆ†æï¼Œå»å°è¯•æ‰¾è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠæ€è€ƒå¦‚æœæˆ‘å†™æ¡†æ¶æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜ã€‚æ€ä¹ˆå»è®¾è®¡ã€‚ å†™å‡ºæ¥çš„æ¡†æ¶å¾ˆæŒ«æ€ä¹ˆåŠï¼Ÿæ€•ä¸ªæ¯›çº¿ï¼Œç»§ç»­å­¦ä¹ ï¼Œç»§ç»­æ€è€ƒï¼Œç„¶åè§£å†³é—®é¢˜ï¼Œå¤§ä¸äº†æ¨ç¿»é‡å†™ã€‚ å†™å‡ºæ¥çš„æ¡†æ¶ä¸èƒ½ç”¨åœ¨å…¬å¸çš„é¡¹ç›®ä¸­å»å®è·µæ€ä¹ˆåŠï¼Ÿè¿™ä¸ªæƒ³æ³•æœ‰ç‚¹å±é™©ï¼Œå“ˆå“ˆå“ˆï¼Œå¯ä»¥è‡ªå·±å†™é¡¹ç›®æ¥éªŒè¯ã€‚ä¸è¿‡è¿˜æœ‰å¦å¤–ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ä¸‹ä¸€ç¯‡ä¼šè®²ã€‚ å†™æ¡†æ¶æ˜¯ä¸€åœºå†ç»ƒï¼Œç£ä¿ƒç€æˆ‘å»å­¦ä¹ å’Œæ²‰æ·€æ‰€å­¦ï¼Œæ‰“ç£¨æˆ‘çš„çŸ¥è¯†ä½“ç³»ï¼Œè®©å®ƒæ›´åŠ å®Œå–„ã€‚ æ€»ç»“ ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼Ÿæ˜¯æ¸¸æˆç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯æ”¯æ’‘æ¸¸æˆä¸šåŠ¡é€»è¾‘çš„æ¶å­ï¼Œä½†ä¹Ÿæ˜¯å…·æœ‰ä¸€å®šçº¦æŸçš„æ¡†æ¡†ã€‚ æ¡†æ¶è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ å¯ä»¥ç»Ÿä¸€å¤šå¼€å‘äººå‘˜çš„é£æ ¼ï¼ˆæ¡†æ¶çš„é£æ ¼ï¼‰ å¯ä»¥è®©å¼€å‘äººå‘˜å‡å°‘ç»´æŠ¤ç¨‹åºæ¶æ„çš„å¿ƒæ™ºè´Ÿæ‹…ï¼Œå‡å°‘çº ç»“ï¼ˆæŒ‰ç…§æ¡†æ¶çš„æ€æƒ³æ¥å°±è¡Œï¼‰ å¯ä»¥å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ä¸“å¿ƒå†™ä¸šåŠ¡é€»è¾‘å°±å¯ä»¥äº† ä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ å»å­¦ä¹ å…¶ä»–æ¡†æ¶æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³å®ƒä»¬é¢å¯¹çš„é—®é¢˜ã€‚ è§£å†³è‡ªå·±å·¥ä½œå’Œå¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ ç§¯ç´¯å’Œæ²‰æ·€è‡ªå·±çš„çŸ¥è¯† ä¸€äº›æ¸¸æˆå®¢æˆ·ç«¯æ¡†æ¶å‚è€ƒ CatLib ä¸€ä¸ªUnityçš„æ¸è¿›å¼æ¡†æ¶(psï¼šæˆ‘çš„æ¡†æ¶çµæ„Ÿä¹‹ä¸€) U3dç½‘ç»œæ¸¸æˆæ¶æ„è®¾è®¡ ä¸€ä¸ªå¤§ä½¬çš„GitChatä¸“æ ï¼Œéœ€è¦è®¢é˜… è…¾è®¯å­¦é™¢çš„æ‰‹æ¸¸æ ¸å¿ƒæŠ€æœ¯å®æˆ˜ è¿™æ˜¯è…¾è®¯å­¦é™¢çš„ä¸€ä¸ªè´ªåƒè›‡å¤§ä½œæˆ˜çš„ä¸€ä¸ªæ¸¸æˆå¼€å‘è¯¾ç¨‹ï¼Œè®²åˆ°äº†å¦‚ä½•è®¾è®¡å’Œå®ç°åŸºäºUnityçš„æ¸¸æˆæ¡†æ¶ GameFramework åŸºäºUnityçš„ä¸€ä¸ªå®Œå–„çš„æ¡†æ¶ QFramework åŸºäºUnityçš„ä¸€ä¸ªå®Œå–„ä¸”æ‰©å±•æ€§éå¸¸å¼ºçš„æ¡†æ¶ï¼Œè€Œä¸”ä½œè€…æœ‰å¾ˆå¤šå…³äºæ¡†æ¶è®¾è®¡çš„ç†å¿µï¼Œéå¸¸æ£’ UNITE ï¼Unityé¡¹ç›®æ¶æ„è®¾è®¡ä¸å¼€å‘ç®¡ç† æ–‡ç« ï¼šUnityé¡¹ç›®æ¶æ„è®¾è®¡ä¸å¼€å‘ç®¡ç† ã€ituuzåˆ†äº«-æ¡†æ¶ã€‘lightMVC:è½»é‡çº§æ¸¸æˆå¼€å‘æ¡†æ¶(for cocos creator) GameplayFrameWork for CococsCreator å…¶ä»–çš„è¿˜æœ‰å¾ˆå¤šï¼Œè®ºå›æœ â€œæ¡†æ¶â€å³å¯ å¿ƒé‡Œè¯æˆ‘æƒ³å’Œä¼˜ç§€çš„å°ä¼™ä¼´ä¸€èµ·å¼€å‘å¥½ç©çš„æ¸¸æˆ æˆ‘å¸Œæœ›èƒ½é€šè¿‡æˆ‘åšçš„æ¸¸æˆï¼Œæˆ‘çš„èƒ½åŠ›è·å¾—ç”¨äºç”Ÿæ´»å’Œå­¦ä¹ çš„æŠ¥é…¬ã€‚ æˆ‘ä¹Ÿå¸Œæœ› æœ‰äººèƒ½ä»æˆ‘çš„æ¸¸æˆä¸­è·å¾—å¿«ä¹ï¼Œæˆ–è€…æœ‰æ‰€æ”¶è· ä¹Ÿå¸Œæœ› æœ‰äººèƒ½å› æˆ‘çš„åˆ†äº«è€Œæœ‰æ‰€æ”¶è· ç„¶åæˆ‘èƒ½è¯´ä¸€å¥ è°¢è°¢ä½ ç©æˆ‘çš„æ¸¸æˆ è°¢è°¢ä½ ä¿¡ä»»æˆ‘ è°¢è°¢ä½ ç”¨æˆ‘çš„æ¡†æ¶ è°¢è°¢å¤§å®¶é˜…è¯»æˆ‘çš„æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½æœ‰æ‰€æ”¶è·ã€‚ æ¡†æ¶å¼€å‘ç³»åˆ—æ–‡ç«  æ¡†æ¶çš„è¯ç”Ÿ-é›¶ï¼šä¸ºä»€ä¹ˆå†™æ¡†æ¶ï¼Ÿ æ¡†æ¶çš„è¯ç”Ÿ-ä¸€ï¼šæˆ‘æƒ³è¦çš„æ¡†æ¶ æ‰“ç ´CocosCreator3dä¸èƒ½ä½¿ç”¨npmåŒ…çš„é­”å’’!!! æ¡†æ¶çš„è¯ç”Ÿ-äºŒï¼šå®šä½ ä¸åªæ˜¯ UI ç®¡ç†:é€šç”¨æ˜¾ç¤ºç®¡ç† è®© fairygui æ›´å¥½ç”¨çš„æ’ä»¶ æ»¡è¶³å¤šç§éœ€æ±‚çš„é€šç”¨å¯¹è±¡æ±  æ„å»ºæ¸¸æˆ/åº”ç”¨çš„ç¥å™¨:broadcast æ»¡è¶³æ‰€æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„é€šç”¨ socket ç½‘ç»œæ¨¡å— ä¸šåŠ¡å¼€å‘æ€»ç»“ä¹‹çŠ¶æ€ç®¡ç† å¾…ç»­ã€‚ã€‚ã€‚ æœ€åæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œæ›´å¤šå†…å®¹æŒç»­æ›´æ–° å…¬ä¼—å·æœç´¢:ç©è½¬æ¸¸æˆå¼€å‘ æˆ–æ‰«ç : QQ ç¾¤: 1103157878 åšå®¢ä¸»é¡µ: https://ailhc.github.io/ æ˜é‡‘: https://juejin.cn/user/3069492195769469 github: https://github.com/AILHC","categories":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"}],"tags":[{"name":"EasyGameFramework","slug":"EasyGameFramework","permalink":"http://yoursite.com/tags/EasyGameFramework/"},{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/tags/æ¡†æ¶è®¾è®¡/"}],"keywords":[{"name":"æ¡†æ¶è®¾è®¡","slug":"æ¡†æ¶è®¾è®¡","permalink":"http://yoursite.com/categories/æ¡†æ¶è®¾è®¡/"}]},{"title":"å‘½ä»¤è¡Œä½¿ç”¨è®°å½•","slug":"about-terminal-and-shell","date":"2020-03-08T07:02:40.000Z","updated":"2020-10-17T06:49:00.935Z","comments":false,"path":"2020/03/08/about-terminal-and-shell/","link":"","permalink":"http://yoursite.com/2020/03/08/about-terminal-and-shell/","excerpt":"","text":"åœ¨Macä¸Šé…ç½®å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨ iTerm2 + zsh å‚è€ƒèµ„æ–™ å…³äºhomebrewçš„å®‰è£… Macä¸‹ç»ˆç«¯å·¥å…·iTerm2å®‰è£…åœ¨windowsé…ç½®å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨ ä½¿ç”¨Cmder å‚è€ƒèµ„æ–™ Windowsç»ˆç«¯åˆ©å™¨Cmder","categories":[{"name":"ç»éªŒä¹‹è°ˆ","slug":"ç»éªŒä¹‹è°ˆ","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/"}],"tags":[{"name":"terminal","slug":"terminal","permalink":"http://yoursite.com/tags/terminal/"},{"name":"shell","slug":"shell","permalink":"http://yoursite.com/tags/shell/"},{"name":"mac","slug":"mac","permalink":"http://yoursite.com/tags/mac/"}],"keywords":[{"name":"ç»éªŒä¹‹è°ˆ","slug":"ç»éªŒä¹‹è°ˆ","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/"}]},{"title":"å†™ä½œè¾“å‡ºè®°å½•","slug":"how-to-wrrite-blog","date":"2020-02-28T01:52:16.000Z","updated":"2020-10-17T06:49:00.938Z","comments":true,"path":"2020/02/28/how-to-wrrite-blog/","link":"","permalink":"http://yoursite.com/2020/02/28/how-to-wrrite-blog/","excerpt":"","text":"å†™ä½œè¾“å‡ºè®°å½•ä¸ªäººåšå®¢ æ­å»ºå‚è€ƒ hexoå²ä¸Šæœ€å…¨æ­å»ºæ•™ç¨‹ hexo å®˜ç½‘æ–‡æ¡£ ä½¿ç”¨hexo+githubæ­å»ºå…è´¹ä¸ªäººåšå®¢è¯¦ç»†æ•™ç¨‹ ä½¿ç”¨Markdownå†™ä½œ æœ‰é“äº‘ç¬”è®°å¯ä»¥å†™Markdownç¬”è®°ï¼Œç„¶åcopyåˆ°hexoä¸ªäººåšå®¢ä»“åº“ ä¹Ÿå¯ä»¥ä½¿ç”¨vscodeç›´æ¥å†™markdown markdownä½¿ç”¨å‚è€ƒ: ä¸ºä»€ä¹ˆè¦å­¦Markdownï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ å„ä¸ªå¹³å° è‡ªåª’ä½“å¹³å°,å‚è€ƒï¼šè‡ªåª’ä½“æœ‰å“ªäº›å¹³å°ï¼Ÿ åšå®¢å¹³å° CSDN ç®€ä¹¦ åšå®¢å›­ ä¸ªäººå…¬ä¼—å· å¦‚ä½•å°†markdownç¬”è®°å‘å¸ƒåˆ°å„ä¸ªå¹³å° ä½¿ç”¨Md2Allè½¬å¯Œæ–‡æœ¬ :Md2All ç›´æ¥å¤åˆ¶markdownç¬”è®°","categories":[{"name":"ç»éªŒä¹‹è°ˆ","slug":"ç»éªŒä¹‹è°ˆ","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/"}],"tags":[{"name":"å†™ä½œ","slug":"å†™ä½œ","permalink":"http://yoursite.com/tags/å†™ä½œ/"},{"name":"è¾“å‡º","slug":"è¾“å‡º","permalink":"http://yoursite.com/tags/è¾“å‡º/"},{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"http://yoursite.com/tags/åšå®¢/"}],"keywords":[{"name":"ç»éªŒä¹‹è°ˆ","slug":"ç»éªŒä¹‹è°ˆ","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/"}]},{"title":"Gitä½¿ç”¨è®°å½•","slug":"git-use-record","date":"2020-02-27T13:04:35.000Z","updated":"2020-10-17T06:49:00.937Z","comments":true,"path":"2020/02/27/git-use-record/","link":"","permalink":"http://yoursite.com/2020/02/27/git-use-record/","excerpt":"","text":"Git ä½¿ç”¨è®°å½•Gitå­¦ä¹ èµ„æºGité—®é¢˜è®°å½•SSHKey æ€ä¹ˆç”Ÿæˆï¼Ÿ 123ssh-keygen -t rsa -C &quot;youremail&quot;é»˜è®¤ä¼šç”Ÿæˆ åå­— id_rsa çš„sshkey å¯ä»¥è‡ªå·±è‡ªå®šä¹‰,ä½†å†ä½¿ç”¨æ—¶å¯èƒ½ä¼šæœ‰é—®é¢˜ å…³äºé”™è¯¯:ssh: Could not resolve hostname github.com: Name or service not known.fatal: Could not read from remote repository.å‚è€ƒè§£å†³æ–¹æ¡ˆ: åœ¨Githubä¸­ä½¿ç”¨ 1234Settings-&gt;SSHKey -&gt; NewSSHKeyå°† id_rsa.pub(å…¬é’¥) æ–‡ä»¶çš„å†…å®¹å¤åˆ¶è¿›å»ç„¶ååœ¨git bash æ‰§è¡Œ:ssh -T git@github.com â€œæ‰§è¡Œ:ssh -T git@github.comâ€œ å‡ºç°Permission denied (publickey)å‚è€ƒè§£å†³æ–¹æ¡ˆ å¦‚æœåœ¨åˆ›å»ºsshkeyæ—¶ä½¿ç”¨è‡ªå®šä¹‰æ–‡ä»¶å, æ‰§è¡Œ ssh-add ~/.ssh/&lt;è‡ªå®šä¹‰sshkeyå&gt; å¯èƒ½ä¼šå‡ºç°ï¼šCould not open a connection to your authentication agent å‚è€ƒè§£å†³æ–¹æ¡ˆ æ–‡ä»¶åå¤§å°é—®é¢˜ ç¼˜ç”±ï¼šåŸæ¥çš„æ–‡ä»¶åæ˜¯å°å†™çš„æ–‡ä»¶ï¼Œå¤åˆ¶äº†å¤§å†™çš„æ–‡ä»¶åæ–‡ä»¶ï¼Œæ˜¾ç¤ºè¦†ç›–ï¼Œä½†è¦†ç›–åï¼Œæ–‡ä»¶åè¿˜æ˜¯å°å†™çš„ è§£å†³æ–¹æ¡ˆï¼š å‚è€ƒï¼šgit å¤§å°å†™é—®é¢˜ è¸©å‘ç¬”è®° åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š 123touch .gitconfiggit config core.ignorecase falsegit config --global core.ignorecase false GitäºŒè¿›åˆ¶æ–‡ä»¶ç®¡ç†ä»¥åŠå¦‚ä½•gitç˜¦èº«ç¼˜ç”±åœ¨æ¸¸æˆå¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨ç”¨åˆ°å¾ˆå¤šäºŒè¿›åˆ¶ç±»èµ„æºï¼Œæ¯”å¦‚ å›¾ç‰‡ï¼Œé…ç½®å‹ç¼©æ–‡ä»¶ï¼Œ3dèµ„äº§æ–‡ä»¶ç­‰ï¼Œç”±äºgitçš„å·¥ä½œåŸç†ï¼Œä¸æ–­çš„commitä¼šä¸æ–­çš„ç´¯åŠ ã€‚æ•´ä¸ªä»“åº“ä¼šå˜å¾—éå¸¸åºå¤§ã€‚ äºŒè¿›åˆ¶æ–‡ä»¶ç®¡ç† å‚è€ƒèµ„æ–™a. Git ç®¡ç†å®æˆ˜ï¼ˆäº”ï¼‰ï¼šäºŒè¿›åˆ¶å¤§æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶b. Git LFSçš„ä½¿ç”¨c. ç™¾åº¦ git lfsgit ç˜¦èº«å®è·µ å‚è€ƒèµ„æ–™a. Gitæ¸…ç†åˆ é™¤å†å²æäº¤æ–‡ä»¶https://www.jianshu.com/p/7ace3767986ab. ä½¿ç”¨BFGç§»é™¤gitåº“ä¸­çš„å¤§æ–‡ä»¶æˆ–æ±¡ç‚¹æäº¤c. ä½¿ç”¨BFGæ¸…é™¤gitä»“åº“ä¸­çš„éšç§æ–‡ä»¶æˆ–å¤§æ–‡ä»¶d. ä¸ºGitä»“åº“ç˜¦èº«e. git rebaseæœ‰å“ªäº›ç”¨æ³•ï¼Ÿ è¿™ä¸ªå¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œç˜¦èº« å¯ä»¥ä½¿ç”¨ gitlfs æ¥è¿ç§»ä»“åº“çš„ç®¡ç†æ–¹å¼è€Œç˜¦èº«ã€‚ä½†æ˜¯è¿™ä¸ªä¼šç›¸å¯¹éº»çƒ¦ï¼Œéœ€è¦è¿œç¨‹ä»“åº“ä¹Ÿæ”¯æŒã€‚å¦‚æœæ˜¯ä½¿ç”¨giteeæˆ–è€…githubç­‰å…è´¹è¿œç¨‹ä»“åº“åˆ™éœ€è¦ä»˜è´¹ å°†äºŒè¿›åˆ¶æˆ–è€…æ‰€æœ‰èµ„æºæ–‡ä»¶ä½¿ç”¨svnè¿›è¡Œç®¡ç†a. å…ˆå¤‡ä»½èµ„æºæ–‡ä»¶b. å¿½ç•¥ç®¡ç†å¯¹åº”èµ„æºæ–‡ä»¶c. åˆ é™¤èµ„æºæ–‡ä»¶çš„ç‰ˆæœ¬è®°å½•d. åŒæ­¥æ“ä½œåˆ°è¿œç¨‹ä»“åº“ å®šæœŸå¯¹èµ„æºæ–‡ä»¶çš„ç‰ˆæœ¬è®°å½•è¿›è¡Œæ¸…ç†","categories":[{"name":"ç»éªŒä¹‹è°ˆ","slug":"ç»éªŒä¹‹è°ˆ","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/"},{"name":"èµ„æ–™æ”¶é›†","slug":"ç»éªŒä¹‹è°ˆ/èµ„æ–™æ”¶é›†","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/èµ„æ–™æ”¶é›†/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"},{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://yoursite.com/tags/å­¦ä¹ /"},{"name":"è®°å½•","slug":"è®°å½•","permalink":"http://yoursite.com/tags/è®°å½•/"}],"keywords":[{"name":"ç»éªŒä¹‹è°ˆ","slug":"ç»éªŒä¹‹è°ˆ","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/"},{"name":"èµ„æ–™æ”¶é›†","slug":"ç»éªŒä¹‹è°ˆ/èµ„æ–™æ”¶é›†","permalink":"http://yoursite.com/categories/ç»éªŒä¹‹è°ˆ/èµ„æ–™æ”¶é›†/"}]}]}